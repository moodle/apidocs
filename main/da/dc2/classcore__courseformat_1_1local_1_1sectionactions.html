<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_courseformat\local\sectionactions Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.4</span>
   </div>
   <div id="projectbrief">Moodle 4.4dev+ (Build: 20240322) (342319339fe)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../de/d98/namespacecore__courseformat.html">core_courseformat</a></li><li class="navelem"><a class="el" href="../../d1/d27/namespacecore__courseformat_1_1local.html">local</a></li><li class="navelem"><a class="el" href="../../da/dc2/classcore__courseformat_1_1local_1_1sectionactions.html">sectionactions</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d4/d48/classcore__courseformat_1_1local_1_1sectionactions-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_courseformat\local\sectionactions Class Reference<div class="ingroups"><a class="el" href="../../db/d92/group__core__courseformat.html">core_courseformat</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for core_courseformat\local\sectionactions:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../da/dc2/classcore__courseformat_1_1local_1_1sectionactions.png" usemap="#core_5Fcourseformat_5Clocal_5Csectionactions_map" alt=""/>
  <map id="core_5Fcourseformat_5Clocal_5Csectionactions_map" name="core_5Fcourseformat_5Clocal_5Csectionactions_map">
<area href="../../d9/d40/classcore__courseformat_1_1local_1_1baseactions.html" alt="core_courseformat\local\baseactions" shape="rect" coords="0,0,234,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7e37b2fd345f6ed778960f9595ca91af" id="r_a7e37b2fd345f6ed778960f9595ca91af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e37b2fd345f6ed778960f9595ca91af">create</a> (int $position=0, bool $skipcheck=false)</td></tr>
<tr class="memdesc:a7e37b2fd345f6ed778960f9595ca91af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a course section and adds it to the specified position.  <br /></td></tr>
<tr class="separator:a7e37b2fd345f6ed778960f9595ca91af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0191d78cdf0c813cc50561d692a1f8" id="r_a8c0191d78cdf0c813cc50561d692a1f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c0191d78cdf0c813cc50561d692a1f8">create_delegated</a> (string $component, ?int $itemid=null, ?stdClass $fields=null)</td></tr>
<tr class="memdesc:a8c0191d78cdf0c813cc50561d692a1f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a delegated section.  <br /></td></tr>
<tr class="separator:a8c0191d78cdf0c813cc50561d692a1f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66451f764f3dd58e52e463897b0a64ec" id="r_a66451f764f3dd58e52e463897b0a64ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66451f764f3dd58e52e463897b0a64ec">create_if_missing</a> (array $sectionnums)</td></tr>
<tr class="memdesc:a66451f764f3dd58e52e463897b0a64ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create course sections if they are not created yet.  <br /></td></tr>
<tr class="separator:a66451f764f3dd58e52e463897b0a64ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a4f4f9e97979cb4d99f0415e46ea16" id="r_ab9a4f4f9e97979cb4d99f0415e46ea16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9a4f4f9e97979cb4d99f0415e46ea16">delete</a> (<a class="el" href="../../d1/db5/classsection__info.html">section_info</a> $sectioninfo, bool $forcedeleteifnotempty=true, bool $async=false)</td></tr>
<tr class="memdesc:ab9a4f4f9e97979cb4d99f0415e46ea16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a course section.  <br /></td></tr>
<tr class="separator:ab9a4f4f9e97979cb4d99f0415e46ea16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcada28d7212ce94a8977c6ad9cbddd7" id="r_adcada28d7212ce94a8977c6ad9cbddd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adcada28d7212ce94a8977c6ad9cbddd7">update</a> (<a class="el" href="../../d1/db5/classsection__info.html">section_info</a> $sectioninfo, array|stdClass $fields)</td></tr>
<tr class="memdesc:adcada28d7212ce94a8977c6ad9cbddd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a course section.  <br /></td></tr>
<tr class="separator:adcada28d7212ce94a8977c6ad9cbddd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa41a0a8c8dae0aa4bc1c90de7ddb3311" id="r_aa41a0a8c8dae0aa4bc1c90de7ddb3311"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa41a0a8c8dae0aa4bc1c90de7ddb3311">create_from_object</a> (stdClass $fields, bool $skipcheck=false)</td></tr>
<tr class="memdesc:aa41a0a8c8dae0aa4bc1c90de7ddb3311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a course section using a record object.  <br /></td></tr>
<tr class="separator:aa41a0a8c8dae0aa4bc1c90de7ddb3311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a0bb860e75b22513197a6d7baddee27" id="r_a2a0bb860e75b22513197a6d7baddee27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a0bb860e75b22513197a6d7baddee27">delete_async</a> (<a class="el" href="../../d1/db5/classsection__info.html">section_info</a> $sectioninfo, bool $forcedeleteifnotempty=true)</td></tr>
<tr class="memdesc:a2a0bb860e75b22513197a6d7baddee27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Course section deletion, using an adhoc task for deletion of the modules it contains.  <br /></td></tr>
<tr class="separator:a2a0bb860e75b22513197a6d7baddee27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a352099138c223bec0b9412470b4f14ce" id="r_a352099138c223bec0b9412470b4f14ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a352099138c223bec0b9412470b4f14ce">delete_format_data</a> (<a class="el" href="../../d1/db5/classsection__info.html">section_info</a> $sectioninfo, bool $forcedeleteifnotempty, <a class="el" href="../../d4/d87/classcore_1_1event_1_1course__section__deleted.html">course_section_deleted</a> $event)</td></tr>
<tr class="memdesc:a352099138c223bec0b9412470b4f14ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a course section.  <br /></td></tr>
<tr class="separator:a352099138c223bec0b9412470b4f14ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b596df4bd68999fb6a97df7d177906" id="r_af7b596df4bd68999fb6a97df7d177906"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d40/classcore__courseformat_1_1local_1_1baseactions.html#af7b596df4bd68999fb6a97df7d177906">get_cm_info</a> ($cmid)</td></tr>
<tr class="memdesc:af7b596df4bd68999fb6a97df7d177906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the cm info.  <br /></td></tr>
<tr class="separator:af7b596df4bd68999fb6a97df7d177906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6b7c5c5806629919d226238e600730" id="r_a9c6b7c5c5806629919d226238e600730"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d40/classcore__courseformat_1_1local_1_1baseactions.html#a9c6b7c5c5806629919d226238e600730">get_course</a> ()</td></tr>
<tr class="memdesc:a9c6b7c5c5806629919d226238e600730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the course.  <br /></td></tr>
<tr class="separator:a9c6b7c5c5806629919d226238e600730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29231a6eee670a6c099933f1fb2f37fa" id="r_a29231a6eee670a6c099933f1fb2f37fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29231a6eee670a6c099933f1fb2f37fa">get_delete_event</a> (<a class="el" href="../../d1/db5/classsection__info.html">section_info</a> $sectioninfo)</td></tr>
<tr class="memdesc:a29231a6eee670a6c099933f1fb2f37fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the event to trigger when deleting a section.  <br /></td></tr>
<tr class="separator:a29231a6eee670a6c099933f1fb2f37fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac088c8777b9be63e44a44eb52b32888f" id="r_ac088c8777b9be63e44a44eb52b32888f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d40/classcore__courseformat_1_1local_1_1baseactions.html#ac088c8777b9be63e44a44eb52b32888f">get_format</a> ()</td></tr>
<tr class="memdesc:ac088c8777b9be63e44a44eb52b32888f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the course format.  <br /></td></tr>
<tr class="separator:ac088c8777b9be63e44a44eb52b32888f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff4052cbf2b29afb898d00edba08a35" id="r_a0ff4052cbf2b29afb898d00edba08a35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ff4052cbf2b29afb898d00edba08a35">get_last_section_number</a> (bool $includedelegated=true)</td></tr>
<tr class="memdesc:a0ff4052cbf2b29afb898d00edba08a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last section number in the course.  <br /></td></tr>
<tr class="separator:a0ff4052cbf2b29afb898d00edba08a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a053f0a27707c5aa686ecccb1a002c84d" id="r_a053f0a27707c5aa686ecccb1a002c84d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d40/classcore__courseformat_1_1local_1_1baseactions.html#a053f0a27707c5aa686ecccb1a002c84d">get_section_info</a> ($sectionid, int $strictness=<a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a>)</td></tr>
<tr class="memdesc:a053f0a27707c5aa686ecccb1a002c84d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the section info.  <br /></td></tr>
<tr class="separator:a053f0a27707c5aa686ecccb1a002c84d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d884f8906c8c2ab5d9617301d60668b" id="r_a4d884f8906c8c2ab5d9617301d60668b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d884f8906c8c2ab5d9617301d60668b">preprocess_delegated_section_fields</a> (<a class="el" href="../../d1/db5/classsection__info.html">section_info</a> $sectioninfo, array $fields)</td></tr>
<tr class="memdesc:a4d884f8906c8c2ab5d9617301d60668b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preprocess the section fields before updating a delegated section.  <br /></td></tr>
<tr class="separator:a4d884f8906c8c2ab5d9617301d60668b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb71309316f620bdefb67f81af0ce9b" id="r_a0cb71309316f620bdefb67f81af0ce9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0cb71309316f620bdefb67f81af0ce9b">transfer_visibility_to_cms</a> (<a class="el" href="../../d1/db5/classsection__info.html">section_info</a> $sectioninfo, bool $visibility)</td></tr>
<tr class="memdesc:a0cb71309316f620bdefb67f81af0ce9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer the visibility of the section to the course modules.  <br /></td></tr>
<tr class="separator:a0cb71309316f620bdefb67f81af0ce9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6de32a15fdde028fe015a0648a81b578" id="r_a6de32a15fdde028fe015a0648a81b578"><td class="memItemLeft" align="right" valign="top"><a id="a6de32a15fdde028fe015a0648a81b578" name="a6de32a15fdde028fe015a0648a81b578"></a>
stdClass stdClass&#160;</td><td class="memItemRight" valign="bottom"><b>$course</b></td></tr>
<tr class="memdesc:a6de32a15fdde028fe015a0648a81b578"><td class="mdescLeft">&#160;</td><td class="mdescRight">the course object. <br /></td></tr>
<tr class="separator:a6de32a15fdde028fe015a0648a81b578"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7e37b2fd345f6ed778960f9595ca91af" name="a7e37b2fd345f6ed778960f9595ca91af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e37b2fd345f6ed778960f9595ca91af">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::create </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$position</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$skipcheck</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a course section and adds it to the specified position. </p>
<p>This method returns a section record, not a <a class="el" href="../../d1/db5/classsection__info.html">section_info</a> object. This prevents the regeneration of the modinfo object each time we create a section.</p>
<p>If position is greater than number of existing sections, the section is added to the end. This will become sectionnum of the new section. All existing sections at this or bigger position will be shifted down.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$position</td><td>The position to add to, 0 means to the end. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$skipcheck</td><td>the check has already been made and we know that the section with this position does not exist </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>created section object) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8c0191d78cdf0c813cc50561d692a1f8" name="a8c0191d78cdf0c813cc50561d692a1f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c0191d78cdf0c813cc50561d692a1f8">&#9670;&#160;</a></span>create_delegated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::create_delegated </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$component</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?int</td>          <td class="paramname"><span class="paramname"><em>$itemid</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?stdClass</td>          <td class="paramname"><span class="paramname"><em>$fields</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a delegated section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>the name of the plugin </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$itemid</td><td>the id of the delegated section </td></tr>
    <tr><td class="paramtype">stdClass&#160;|&#160;null</td><td class="paramname">$fields</td><td>the fields to set on the section </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td><td>the created section </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa41a0a8c8dae0aa4bc1c90de7ddb3311" name="aa41a0a8c8dae0aa4bc1c90de7ddb3311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa41a0a8c8dae0aa4bc1c90de7ddb3311">&#9670;&#160;</a></span>create_from_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::create_from_object </td>
          <td>(</td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$fields</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$skipcheck</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a course section using a record object. </p>
<p>If $fields-&gt;section is not set, the section is added to the end of the course.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$fields</td><td>the fields to set on the section </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$skipcheck</td><td>the position check has already been made and we know it can be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>the created section record </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a66451f764f3dd58e52e463897b0a64ec" name="a66451f764f3dd58e52e463897b0a64ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66451f764f3dd58e52e463897b0a64ec">&#9670;&#160;</a></span>create_if_missing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::create_if_missing </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$sectionnums</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create course sections if they are not created yet. </p>
<p>The calculations will ignore sections delegated to components. If the section is created, all delegated sections will be pushed down.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int[]</td><td class="paramname">$sectionnums</td><td>the section numbers to create </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether any section was created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab9a4f4f9e97979cb4d99f0415e46ea16" name="ab9a4f4f9e97979cb4d99f0415e46ea16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9a4f4f9e97979cb4d99f0415e46ea16">&#9670;&#160;</a></span>delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td>          <td class="paramname"><span class="paramname"><em>$sectioninfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$forcedeleteifnotempty</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$async</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a course section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td><td class="paramname">$sectioninfo</td><td>the section to delete. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$forcedeleteifnotempty</td><td>whether to force section deletion if it contains modules. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$async</td><td>whether or not to try to delete the section using an adhoc task. Async also depends on a plugin hook. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether section was deleted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2a0bb860e75b22513197a6d7baddee27" name="a2a0bb860e75b22513197a6d7baddee27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a0bb860e75b22513197a6d7baddee27">&#9670;&#160;</a></span>delete_async()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::delete_async </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td>          <td class="paramname"><span class="paramname"><em>$sectioninfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$forcedeleteifnotempty</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Course section deletion, using an adhoc task for deletion of the modules it contains. </p>
<ol type="1">
<li>Schedule all modules within the section for adhoc removal.</li>
<li>Move all modules to course section 0.</li>
<li>Delete the resulting empty section.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td><td class="paramname">$sectioninfo</td><td>the section to schedule for deletion. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$forcedeleteifnotempty</td><td>whether to force section deletion if it contains modules. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the section was scheduled for deletion, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a352099138c223bec0b9412470b4f14ce" name="a352099138c223bec0b9412470b4f14ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a352099138c223bec0b9412470b4f14ce">&#9670;&#160;</a></span>delete_format_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::delete_format_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td>          <td class="paramname"><span class="paramname"><em>$sectioninfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$forcedeleteifnotempty</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d87/classcore_1_1event_1_1course__section__deleted.html">course_section_deleted</a></td>          <td class="paramname"><span class="paramname"><em>$event</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete a course section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td><td class="paramname">$sectioninfo</td><td>the section to delete. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$forcedeleteifnotempty</td><td>whether to force section deletion if it contains modules. </td></tr>
    <tr><td class="paramtype">course_section_deleted</td><td class="paramname">$event</td><td>the event to trigger </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether section was deleted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af7b596df4bd68999fb6a97df7d177906" name="af7b596df4bd68999fb6a97df7d177906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b596df4bd68999fb6a97df7d177906">&#9670;&#160;</a></span>get_cm_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\baseactions::get_cm_info </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$cmid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the cm info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$cmid</td><td>the cm id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">cm_info|null</td><td>Information for numbered cm or null if not found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c6b7c5c5806629919d226238e600730" name="a9c6b7c5c5806629919d226238e600730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c6b7c5c5806629919d226238e600730">&#9670;&#160;</a></span>get_course()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\baseactions::get_course </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the course. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>the course object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a29231a6eee670a6c099933f1fb2f37fa" name="a29231a6eee670a6c099933f1fb2f37fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29231a6eee670a6c099933f1fb2f37fa">&#9670;&#160;</a></span>get_delete_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::get_delete_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td>          <td class="paramname"><span class="paramname"><em>$sectioninfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the event to trigger when deleting a section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td><td class="paramname">$sectioninfo</td><td>the section to delete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">course_section_deleted</td><td>the event to trigger </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac088c8777b9be63e44a44eb52b32888f" name="ac088c8777b9be63e44a44eb52b32888f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac088c8777b9be63e44a44eb52b32888f">&#9670;&#160;</a></span>get_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\baseactions::get_format </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the course format. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">course_format</td><td>the course format. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ff4052cbf2b29afb898d00edba08a35" name="a0ff4052cbf2b29afb898d00edba08a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ff4052cbf2b29afb898d00edba08a35">&#9670;&#160;</a></span>get_last_section_number()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::get_last_section_number </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$includedelegated</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the last section number in the course. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$includedelegated</td><td>whether to include delegated sections </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a053f0a27707c5aa686ecccb1a002c84d" name="a053f0a27707c5aa686ecccb1a002c84d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a053f0a27707c5aa686ecccb1a002c84d">&#9670;&#160;</a></span>get_section_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\baseactions::get_section_info </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sectionid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$strictness</em><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/de1/group__core.html#gaffc7005a2da386334d76ec5f85ca2d48">IGNORE_MISSING</a></span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the section info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$sectionid</td><td>the section id. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>Use MUST_EXIST to throw exception if it doesn't </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">section_info|null</td><td>Information for numbered section or null if not found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4d884f8906c8c2ab5d9617301d60668b" name="a4d884f8906c8c2ab5d9617301d60668b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d884f8906c8c2ab5d9617301d60668b">&#9670;&#160;</a></span>preprocess_delegated_section_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::preprocess_delegated_section_fields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td>          <td class="paramname"><span class="paramname"><em>$sectioninfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$fields</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Preprocess the section fields before updating a delegated section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td><td class="paramname">$sectioninfo</td><td>the section info or database record to update. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$fields</td><td>the fields to update. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the updated fields </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0cb71309316f620bdefb67f81af0ce9b" name="a0cb71309316f620bdefb67f81af0ce9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cb71309316f620bdefb67f81af0ce9b">&#9670;&#160;</a></span>transfer_visibility_to_cms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::transfer_visibility_to_cms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td>          <td class="paramname"><span class="paramname"><em>$sectioninfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$visibility</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transfer the visibility of the section to the course modules. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td><td class="paramname">$sectioninfo</td><td>the section info or database record to update. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$visibility</td><td>the new visibility of the section. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adcada28d7212ce94a8977c6ad9cbddd7" name="adcada28d7212ce94a8977c6ad9cbddd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcada28d7212ce94a8977c6ad9cbddd7">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_courseformat\local\sectionactions::update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td>          <td class="paramname"><span class="paramname"><em>$sectioninfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array|stdClass</td>          <td class="paramname"><span class="paramname"><em>$fields</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a course section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d1/db5/classsection__info.html">section_info</a></td><td class="paramname">$sectioninfo</td><td>the section info or database record to update. </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;stdClass</td><td class="paramname">$fields</td><td>the fields to update. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether section was updated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>course/format/classes/local/<b>sectionactions.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 24 2024 02:44:45 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
