<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: quizaccess_openclosedate Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.4</span>
   </div>
   <div id="projectbrief">Moodle 4.4dev (Build: 20240202) (3fc907e3d86)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d2/d0b/classquizaccess__openclosedate-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">quizaccess_openclosedate Class Reference<div class="ingroups"><a class="el" href="../../d0/d1b/group__quizaccess__openclosedate.html">quizaccess_openclosedate</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for quizaccess_openclosedate:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d5/dfe/classquizaccess__openclosedate.png" usemap="#quizaccess_5Fopenclosedate_map" alt=""/>
  <map id="quizaccess_5Fopenclosedate_map" name="quizaccess_5Fopenclosedate_map">
<area href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html" alt="mod_quiz\local\access_rule_base" shape="rect" coords="0,0,202,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac843961c47be95fecec930bf6bc62b89" id="r_ac843961c47be95fecec930bf6bc62b89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#ac843961c47be95fecec930bf6bc62b89">add_preflight_check_form_fields</a> (preflight_check_form $quizform, <a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a> $mform, $attemptid)</td></tr>
<tr class="memdesc:ac843961c47be95fecec930bf6bc62b89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add any field you want to pre-flight check form.  <br /></td></tr>
<tr class="separator:ac843961c47be95fecec930bf6bc62b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2152a172618d1dfdfd03922c8e57ae29" id="r_a2152a172618d1dfdfd03922c8e57ae29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a2152a172618d1dfdfd03922c8e57ae29">attempt_must_be_in_popup</a> ()</td></tr>
<tr class="memdesc:a2152a172618d1dfdfd03922c8e57ae29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this rule requires the attempt (and review) to be displayed in a pop-up window?  <br /></td></tr>
<tr class="separator:a2152a172618d1dfdfd03922c8e57ae29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2ba0749785da0875363e0850f7e39f" id="r_afc2ba0749785da0875363e0850f7e39f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#afc2ba0749785da0875363e0850f7e39f">current_attempt_finished</a> ()</td></tr>
<tr class="memdesc:afc2ba0749785da0875363e0850f7e39f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called when the current attempt at the quiz is finished.  <br /></td></tr>
<tr class="separator:afc2ba0749785da0875363e0850f7e39f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e22904efcac0204b86b3e2dea5684e" id="r_a67e22904efcac0204b86b3e2dea5684e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a67e22904efcac0204b86b3e2dea5684e">description</a> ()</td></tr>
<tr class="memdesc:a67e22904efcac0204b86b3e2dea5684e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a brief summary of this rule, to show to users, if required.  <br /></td></tr>
<tr class="separator:a67e22904efcac0204b86b3e2dea5684e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a345373594a419813e8a830132d97c505" id="r_a345373594a419813e8a830132d97c505"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a345373594a419813e8a830132d97c505">end_time</a> ($attempt)</td></tr>
<tr class="memdesc:a345373594a419813e8a830132d97c505"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time by which, according to this rule, the user has to finish their attempt.  <br /></td></tr>
<tr class="separator:a345373594a419813e8a830132d97c505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f36e1c4961ea72381472c7d81485a6c" id="r_a6f36e1c4961ea72381472c7d81485a6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a6f36e1c4961ea72381472c7d81485a6c">get_popup_options</a> ()</td></tr>
<tr class="memdesc:a6f36e1c4961ea72381472c7d81485a6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Any options required when showing the attempt in a pop-up.  <br /></td></tr>
<tr class="separator:a6f36e1c4961ea72381472c7d81485a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9903ae22b300bbc21828732bf68cf686" id="r_a9903ae22b300bbc21828732bf68cf686"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a9903ae22b300bbc21828732bf68cf686">get_superceded_rules</a> ()</td></tr>
<tr class="memdesc:a9903ae22b300bbc21828732bf68cf686"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is possible for one rule to override other rules.  <br /></td></tr>
<tr class="separator:a9903ae22b300bbc21828732bf68cf686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4c410dacad2b8275efed17b9565a03" id="r_acd4c410dacad2b8275efed17b9565a03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd4c410dacad2b8275efed17b9565a03">is_finished</a> ($numprevattempts, $lastattempt)</td></tr>
<tr class="memdesc:acd4c410dacad2b8275efed17b9565a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the current user unable to start any more attempts in future, because of this rule?  <br /></td></tr>
<tr class="separator:acd4c410dacad2b8275efed17b9565a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fcccbe618685fa436391a3d0a71bf73" id="r_a1fcccbe618685fa436391a3d0a71bf73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a1fcccbe618685fa436391a3d0a71bf73">is_preflight_check_required</a> ($attemptid)</td></tr>
<tr class="memdesc:a1fcccbe618685fa436391a3d0a71bf73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this rule require a UI check with the user before an attempt is started?  <br /></td></tr>
<tr class="separator:a1fcccbe618685fa436391a3d0a71bf73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a938e5be1b4f84f8946aab2bd939cb9b0" id="r_a938e5be1b4f84f8946aab2bd939cb9b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a938e5be1b4f84f8946aab2bd939cb9b0">notify_preflight_check_passed</a> ($attemptid)</td></tr>
<tr class="memdesc:a938e5be1b4f84f8946aab2bd939cb9b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pre-flight check has passed.  <br /></td></tr>
<tr class="separator:a938e5be1b4f84f8946aab2bd939cb9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafd54da236e616021b68c9ae68f532f" id="r_aeafd54da236e616021b68c9ae68f532f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeafd54da236e616021b68c9ae68f532f">prevent_access</a> ()</td></tr>
<tr class="memdesc:aeafd54da236e616021b68c9ae68f532f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the user should be blocked from starting a new attempt or continuing an attempt now.  <br /></td></tr>
<tr class="separator:aeafd54da236e616021b68c9ae68f532f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4795a0afd22fa83141e3d13f8c11f0ef" id="r_a4795a0afd22fa83141e3d13f8c11f0ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a4795a0afd22fa83141e3d13f8c11f0ef">prevent_new_attempt</a> ($numprevattempts, $lastattempt)</td></tr>
<tr class="memdesc:a4795a0afd22fa83141e3d13f8c11f0ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether a user should be allowed to start a new attempt at this quiz now.  <br /></td></tr>
<tr class="separator:a4795a0afd22fa83141e3d13f8c11f0ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac220fd8374d4fe9809fa0960289d15b6" id="r_ac220fd8374d4fe9809fa0960289d15b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#ac220fd8374d4fe9809fa0960289d15b6">setup_attempt_page</a> ($page)</td></tr>
<tr class="memdesc:ac220fd8374d4fe9809fa0960289d15b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the attempt (review or summary) page with any special extra properties required by this rule.  <br /></td></tr>
<tr class="separator:ac220fd8374d4fe9809fa0960289d15b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc06f346b332f8f03a13cc4880aebdf" id="r_a6cc06f346b332f8f03a13cc4880aebdf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cc06f346b332f8f03a13cc4880aebdf">time_left_display</a> ($attempt, $timenow)</td></tr>
<tr class="memdesc:a6cc06f346b332f8f03a13cc4880aebdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the user should be shown a different amount of time than $timenow - $this-&gt;end_time(), then override this method.  <br /></td></tr>
<tr class="separator:a6cc06f346b332f8f03a13cc4880aebdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de14dfdd02ffa9cce551753672feb54" id="r_a5de14dfdd02ffa9cce551753672feb54"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a5de14dfdd02ffa9cce551753672feb54">validate_preflight_check</a> ($data, $files, $errors, $attemptid)</td></tr>
<tr class="memdesc:a5de14dfdd02ffa9cce551753672feb54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate the pre-flight check form submission.  <br /></td></tr>
<tr class="separator:a5de14dfdd02ffa9cce551753672feb54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a7457dd80dd3ccdd2e421e21cd0706e0a" id="r_a7457dd80dd3ccdd2e421e21cd0706e0a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a7457dd80dd3ccdd2e421e21cd0706e0a">add_settings_form_fields</a> (<a class="el" href="../../d4/de5/classmod__quiz__mod__form.html">mod_quiz_mod_form</a> $quizform, <a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a> $mform)</td></tr>
<tr class="memdesc:a7457dd80dd3ccdd2e421e21cd0706e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add any fields that this rule requires to the quiz settings form.  <br /></td></tr>
<tr class="separator:a7457dd80dd3ccdd2e421e21cd0706e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740e8968ad6fc8edca30549684c923ed" id="r_a740e8968ad6fc8edca30549684c923ed"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a740e8968ad6fc8edca30549684c923ed">delete_settings</a> ($quiz)</td></tr>
<tr class="memdesc:a740e8968ad6fc8edca30549684c923ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete any rule-specific settings when the quiz is deleted.  <br /></td></tr>
<tr class="separator:a740e8968ad6fc8edca30549684c923ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7fec1ee40f9046549aba27d467c50cd" id="r_ac7fec1ee40f9046549aba27d467c50cd"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#ac7fec1ee40f9046549aba27d467c50cd">get_browser_security_choices</a> ()</td></tr>
<tr class="memdesc:ac7fec1ee40f9046549aba27d467c50cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get any options this rule adds to the 'Browser security' quiz setting.  <br /></td></tr>
<tr class="separator:ac7fec1ee40f9046549aba27d467c50cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751b77d0dff2917a025054d2170026ee" id="r_a751b77d0dff2917a025054d2170026ee"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a751b77d0dff2917a025054d2170026ee">get_extra_settings</a> ($quizid)</td></tr>
<tr class="memdesc:a751b77d0dff2917a025054d2170026ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">You can use this method to load any extra settings your plugin has that cannot be loaded efficiently with get_settings_sql().  <br /></td></tr>
<tr class="separator:a751b77d0dff2917a025054d2170026ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefee6dbee5eb6a1258ff2ad829e4c330" id="r_aefee6dbee5eb6a1258ff2ad829e4c330"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#aefee6dbee5eb6a1258ff2ad829e4c330">get_settings_sql</a> ($quizid)</td></tr>
<tr class="memdesc:aefee6dbee5eb6a1258ff2ad829e4c330"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the bits of SQL needed to load all the settings from all the access plugins in one <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> query.  <br /></td></tr>
<tr class="separator:aefee6dbee5eb6a1258ff2ad829e4c330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5adcef3e13e36bcdc5873dcf3bbc5941" id="r_a5adcef3e13e36bcdc5873dcf3bbc5941"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5adcef3e13e36bcdc5873dcf3bbc5941">make</a> (<a class="el" href="../../db/d84/classmod__quiz_1_1quiz__settings.html">quiz_settings</a> $quizobj, $timenow, $canignoretimelimits)</td></tr>
<tr class="memdesc:a5adcef3e13e36bcdc5873dcf3bbc5941"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an appropriately configured instance of this rule, if it is applicable to the given quiz, otherwise return null.  <br /></td></tr>
<tr class="separator:a5adcef3e13e36bcdc5873dcf3bbc5941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa845a20a86895dc085c0c934a0dddf98" id="r_aa845a20a86895dc085c0c934a0dddf98"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#aa845a20a86895dc085c0c934a0dddf98">save_settings</a> ($quiz)</td></tr>
<tr class="memdesc:aa845a20a86895dc085c0c934a0dddf98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save any submitted settings when the quiz settings form is submitted.  <br /></td></tr>
<tr class="separator:aa845a20a86895dc085c0c934a0dddf98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba64050587d5400e6d7cc9a700966188" id="r_aba64050587d5400e6d7cc9a700966188"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#aba64050587d5400e6d7cc9a700966188">validate_settings_form_fields</a> (array $errors, array $data, $files, <a class="el" href="../../d4/de5/classmod__quiz__mod__form.html">mod_quiz_mod_form</a> $quizform)</td></tr>
<tr class="memdesc:aba64050587d5400e6d7cc9a700966188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate the data from any form fields added using {.  <br /></td></tr>
<tr class="separator:aba64050587d5400e6d7cc9a700966188"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7803344189c7fdc01f0603e5ec88ea69" id="r_a7803344189c7fdc01f0603e5ec88ea69"><td class="memItemLeft" align="right" valign="top"><a id="a7803344189c7fdc01f0603e5ec88ea69" name="a7803344189c7fdc01f0603e5ec88ea69"></a>
stdClass&#160;</td><td class="memItemRight" valign="bottom"><b>$quiz</b></td></tr>
<tr class="memdesc:a7803344189c7fdc01f0603e5ec88ea69"><td class="mdescLeft">&#160;</td><td class="mdescRight">the quiz settings. <br /></td></tr>
<tr class="separator:a7803344189c7fdc01f0603e5ec88ea69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21e674d70de6655bb824bbfb8cc7250" id="r_ad21e674d70de6655bb824bbfb8cc7250"><td class="memItemLeft" align="right" valign="top"><a id="ad21e674d70de6655bb824bbfb8cc7250" name="ad21e674d70de6655bb824bbfb8cc7250"></a>
<a class="el" href="../../db/d84/classmod__quiz_1_1quiz__settings.html">quiz_settings</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$quizobj</b></td></tr>
<tr class="memdesc:ad21e674d70de6655bb824bbfb8cc7250"><td class="mdescLeft">&#160;</td><td class="mdescRight">the quiz object. <br /></td></tr>
<tr class="separator:ad21e674d70de6655bb824bbfb8cc7250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab780244b57a62cda5fe7547ef5191066" id="r_ab780244b57a62cda5fe7547ef5191066"><td class="memItemLeft" align="right" valign="top"><a id="ab780244b57a62cda5fe7547ef5191066" name="ab780244b57a62cda5fe7547ef5191066"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$timenow</b></td></tr>
<tr class="memdesc:ab780244b57a62cda5fe7547ef5191066"><td class="mdescLeft">&#160;</td><td class="mdescRight">the time to use as 'now'. <br /></td></tr>
<tr class="separator:ab780244b57a62cda5fe7547ef5191066"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac843961c47be95fecec930bf6bc62b89" name="ac843961c47be95fecec930bf6bc62b89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac843961c47be95fecec930bf6bc62b89">&#9670;&#160;</a></span>add_preflight_check_form_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::add_preflight_check_form_fields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d0f/classmod__quiz_1_1form_1_1preflight__check__form.html">preflight_check_form</a></td>          <td class="paramname"><span class="paramname"><em>$quizform</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a></td>          <td class="paramname"><span class="paramname"><em>$mform</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attemptid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add any field you want to pre-flight check form. </p>
<p>You should only do something here if {</p><dl class="section see"><dt>See also</dt><dd>is_preflight_check_required()} returned true.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">preflight_check_form</td><td class="paramname">$quizform</td><td>the form being built. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a></td><td class="paramname">$mform</td><td>The wrapped <a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a>. </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$attemptid</td><td>the id of the current attempt, if there is one, otherwise null. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a7b5752f7e63b9b3ed259c7f88bcc7a9b">quizaccess_offlineattempts</a>, <a class="el" href="../../d4/d4d/classquizaccess__password.html#a36119021fd8a4f78361b7ac96bbaef6c">quizaccess_password</a>, and <a class="el" href="../../d9/d36/classquizaccess__timelimit.html#ae24436a9854e0383ebe026ff1e53893b">quizaccess_timelimit</a>.</p>

</div>
</div>
<a id="a7457dd80dd3ccdd2e421e21cd0706e0a" name="a7457dd80dd3ccdd2e421e21cd0706e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7457dd80dd3ccdd2e421e21cd0706e0a">&#9670;&#160;</a></span>add_settings_form_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_quiz\local\access_rule_base::add_settings_form_fields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/de5/classmod__quiz__mod__form.html">mod_quiz_mod_form</a></td>          <td class="paramname"><span class="paramname"><em>$quizform</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a></td>          <td class="paramname"><span class="paramname"><em>$mform</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add any fields that this rule requires to the quiz settings form. </p>
<p>This method is called from {</p><dl class="section see"><dt>See also</dt><dd>mod_quiz_mod_form::definition()}, while the security seciton is being built. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/de5/classmod__quiz__mod__form.html" title="Settings form for the quiz module.">mod_quiz_mod_form</a></td><td class="paramname">$quizform</td><td>the quiz settings form that is being built. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a></td><td class="paramname">$mform</td><td>the wrapped <a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a6c3740eb8f95b37331b55137ca653204">quizaccess_offlineattempts</a>, and <a class="el" href="../../de/db5/classquizaccess__seb.html#abc4939d0a5b3539946f52e82ffc14e90">quizaccess_seb</a>.</p>

</div>
</div>
<a id="a2152a172618d1dfdfd03922c8e57ae29" name="a2152a172618d1dfdfd03922c8e57ae29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2152a172618d1dfdfd03922c8e57ae29">&#9670;&#160;</a></span>attempt_must_be_in_popup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::attempt_must_be_in_popup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does this rule requires the attempt (and review) to be displayed in a pop-up window? </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if it does. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/da5/classquizaccess__securewindow.html#a588b9dc4c0db8e9317375b7c5f975989">quizaccess_securewindow</a>.</p>

</div>
</div>
<a id="afc2ba0749785da0875363e0850f7e39f" name="afc2ba0749785da0875363e0850f7e39f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc2ba0749785da0875363e0850f7e39f">&#9670;&#160;</a></span>current_attempt_finished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::current_attempt_finished </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is called when the current attempt at the quiz is finished. </p>
<p>This is used, for example by the password rule, to clear the flag in the session. </p>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a371892d479178ef403cbf166d48bc165">quizaccess_offlineattempts</a>, <a class="el" href="../../d4/d4d/classquizaccess__password.html#a8ccf788c6a3150d97ca1695b379dfff0">quizaccess_password</a>, and <a class="el" href="../../de/db5/classquizaccess__seb.html#acf0837b80459474f1219be80b015ce6b">quizaccess_seb</a>.</p>

</div>
</div>
<a id="a740e8968ad6fc8edca30549684c923ed" name="a740e8968ad6fc8edca30549684c923ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a740e8968ad6fc8edca30549684c923ed">&#9670;&#160;</a></span>delete_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_quiz\local\access_rule_base::delete_settings </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$quiz</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete any rule-specific settings when the quiz is deleted. </p>
<p>This is called from {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df0/group__mod__quiz.html#ga41e300aad72ab1216c9fc977a2874f93" title="Given an ID of an instance of this module, this function will permanently delete the instance and any...">quiz_delete_instance()</a>} in lib.php. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$quiz</td><td>the data from the database, including $quiz-&gt;id which is the id of the quiz being deleted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.7.1, 2.6.4, 2.5.7 </dd></dl>

<p>Reimplemented in <a class="el" href="../../de/db5/classquizaccess__seb.html#a32213af518dd68adc7e13b4c8991a21b">quizaccess_seb</a>.</p>

</div>
</div>
<a id="a67e22904efcac0204b86b3e2dea5684e" name="a67e22904efcac0204b86b3e2dea5684e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e22904efcac0204b86b3e2dea5684e">&#9670;&#160;</a></span>description()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::description </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a brief summary of this rule, to show to users, if required. </p>
<p>This information is show shown, for example, on the quiz view page, to explain this restriction. There is no obligation to return anything. If it is not appropriate to tell students about this rule, then just return ''.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>a message, or array of messages, explaining the restriction (may be '' if no message is appropriate). </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d1/d86/classquizaccess__numattempts.html#ae6d34f8d61f9fabf39bb206e4963bcf1">quizaccess_numattempts</a>, <a class="el" href="../../d4/d4d/classquizaccess__password.html#acda972132d5214eeddb2ca3965665e1a">quizaccess_password</a>, <a class="el" href="../../de/db5/classquizaccess__seb.html#a8dbb05d817a94faf85a2d6a2a540d773">quizaccess_seb</a>, and <a class="el" href="../../d9/d36/classquizaccess__timelimit.html#a9a0734b90117d0e8f06a5d95ffd4b45a">quizaccess_timelimit</a>.</p>

</div>
</div>
<a id="a345373594a419813e8a830132d97c505" name="a345373594a419813e8a830132d97c505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a345373594a419813e8a830132d97c505">&#9670;&#160;</a></span>end_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quizaccess_openclosedate::end_time </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attempt</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time by which, according to this rule, the user has to finish their attempt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$attempt</td><td>the current attempt </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|false</td><td>the attempt close time, or false if there is no close time. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a6145fef4a34d2bf0979d343ea744969f">mod_quiz\local\access_rule_base</a>.</p>

</div>
</div>
<a id="ac7fec1ee40f9046549aba27d467c50cd" name="ac7fec1ee40f9046549aba27d467c50cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7fec1ee40f9046549aba27d467c50cd">&#9670;&#160;</a></span>get_browser_security_choices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_quiz\local\access_rule_base::get_browser_security_choices </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get any options this rule adds to the 'Browser security' quiz setting. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>key =&gt; lang string any choices to add to the quiz Browser security settings menu. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/da5/classquizaccess__securewindow.html#a16922f9c136bcbf4aab55dc8e7b9e5e0">quizaccess_securewindow</a>.</p>

</div>
</div>
<a id="a751b77d0dff2917a025054d2170026ee" name="a751b77d0dff2917a025054d2170026ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a751b77d0dff2917a025054d2170026ee">&#9670;&#160;</a></span>get_extra_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_quiz\local\access_rule_base::get_extra_settings </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$quizid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>You can use this method to load any extra settings your plugin has that cannot be loaded efficiently with get_settings_sql(). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$quizid</td><td>the quiz id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>setting value name =&gt; value. The value names should all start with the name of your plugin to avoid collisions. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f36e1c4961ea72381472c7d81485a6c" name="a6f36e1c4961ea72381472c7d81485a6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f36e1c4961ea72381472c7d81485a6c">&#9670;&#160;</a></span>get_popup_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::get_popup_options </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Any options required when showing the attempt in a pop-up. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>any options that are required for showing the attempt page in a popup window. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d4/da5/classquizaccess__securewindow.html#aed1441433c0d815d98dfed4ba616337f">quizaccess_securewindow</a>.</p>

</div>
</div>
<a id="aefee6dbee5eb6a1258ff2ad829e4c330" name="aefee6dbee5eb6a1258ff2ad829e4c330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefee6dbee5eb6a1258ff2ad829e4c330">&#9670;&#160;</a></span>get_settings_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_quiz\local\access_rule_base::get_settings_sql </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$quizid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the bits of SQL needed to load all the settings from all the access plugins in one <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> query. </p>
<p>The easiest way to understand what you need to do here is probably to read the code of {</p><dl class="section see"><dt>See also</dt><dd>access_manager::load_settings()}.</dd></dl>
<p>If you have some settings that cannot be loaded in this way, then you can use the {</p><dl class="section see"><dt>See also</dt><dd>get_extra_settings()} method instead, but that has performance implications.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$quizid</td><td>the id of the quiz we are loading settings for. This can also be accessed as quiz.id in the SQL. (quiz is a table alisas for {quiz}.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>with three elements:<ol type="1">
<li>fields: any fields to add to the select list. These should be alised if neccessary so that the field name starts the name of the plugin.</li>
<li>joins: any joins (should probably be LEFT JOINS) with other tables that are needed.</li>
<li>params: array of placeholder values that are needed by the SQL. You must used named placeholders, and the placeholder names should start with the plugin name, to avoid collisions. </li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../de/db5/classquizaccess__seb.html#a57b8bd28123bcdf5d559ca3f54653abc">quizaccess_seb</a>.</p>

</div>
</div>
<a id="a9903ae22b300bbc21828732bf68cf686" name="a9903ae22b300bbc21828732bf68cf686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9903ae22b300bbc21828732bf68cf686">&#9670;&#160;</a></span>get_superceded_rules()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::get_superceded_rules </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It is possible for one rule to override other rules. </p>
<p>The aim is that third-party rules should be able to replace sandard rules if they want. See, for example <a href="https://tracker.moodle.org/browse/MDL-13592" class="el">MDL-13592</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>plugin names of other rules that this one replaces. For example ['ipaddress', 'password']. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acd4c410dacad2b8275efed17b9565a03" name="acd4c410dacad2b8275efed17b9565a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd4c410dacad2b8275efed17b9565a03">&#9670;&#160;</a></span>is_finished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quizaccess_openclosedate::is_finished </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$numprevattempts</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$lastattempt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the current user unable to start any more attempts in future, because of this rule? </p>
<p>If this rule can determine that this user will never be allowed another attempt at this quiz, for example because the last possible start time is past, or all attempts have been used up, then return true. This is used to know whether to display a final grade on the view page. This will only be called if there is not a currently active attempt for this user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$numprevattempts</td><td>the number of previous attempts this user has made. </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$lastattempt</td><td>information about the user's last completed attempt. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if this rule means that this user will never be allowed another attempt at this quiz. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a861a8d821d5bdca32bac40a2711664c2">mod_quiz\local\access_rule_base</a>.</p>

</div>
</div>
<a id="a1fcccbe618685fa436391a3d0a71bf73" name="a1fcccbe618685fa436391a3d0a71bf73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fcccbe618685fa436391a3d0a71bf73">&#9670;&#160;</a></span>is_preflight_check_required()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::is_preflight_check_required </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attemptid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does this rule require a UI check with the user before an attempt is started? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$attemptid</td><td>the id of the current attempt, if there is one, otherwise null. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether a check is required before the user starts/continues their attempt. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a251d01544a9f4947bf30637b36342b8b">quizaccess_offlineattempts</a>, <a class="el" href="../../d4/d4d/classquizaccess__password.html#ab3f25cb6d8d77a3f92c9e6b522c56128">quizaccess_password</a>, and <a class="el" href="../../d9/d36/classquizaccess__timelimit.html#a0b46bcc1ff41544c6b69567270f0ec49">quizaccess_timelimit</a>.</p>

</div>
</div>
<a id="a5adcef3e13e36bcdc5873dcf3bbc5941" name="a5adcef3e13e36bcdc5873dcf3bbc5941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5adcef3e13e36bcdc5873dcf3bbc5941">&#9670;&#160;</a></span>make()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static quizaccess_openclosedate::make </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d84/classmod__quiz_1_1quiz__settings.html">quiz_settings</a></td>          <td class="paramname"><span class="paramname"><em>$quizobj</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timenow</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$canignoretimelimits</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an appropriately configured instance of this rule, if it is applicable to the given quiz, otherwise return null. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">quiz_settings</td><td class="paramname">$quizobj</td><td>information about the quiz in question. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timenow</td><td>the time that should be considered as 'now'. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$canignoretimelimits</td><td>whether the current user is exempt from time limits by the mod/quiz:ignoretimelimits capability. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">self|null</td><td>the rule, if applicable, else null. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a9f90a3d51f7955a3289b04b4270c6778">mod_quiz\local\access_rule_base</a>.</p>

</div>
</div>
<a id="a938e5be1b4f84f8946aab2bd939cb9b0" name="a938e5be1b4f84f8946aab2bd939cb9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a938e5be1b4f84f8946aab2bd939cb9b0">&#9670;&#160;</a></span>notify_preflight_check_passed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::notify_preflight_check_passed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attemptid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pre-flight check has passed. </p>
<p>This is a chance to record that fact in some way. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$attemptid</td><td>the id of the current attempt, if there is one, otherwise null. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a523ec22cc8d68344719c743757ee66dd">quizaccess_offlineattempts</a>, and <a class="el" href="../../d4/d4d/classquizaccess__password.html#aeeaf1ea0f375e8bc5aae6d568a53c12d">quizaccess_password</a>.</p>

</div>
</div>
<a id="aeafd54da236e616021b68c9ae68f532f" name="aeafd54da236e616021b68c9ae68f532f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeafd54da236e616021b68c9ae68f532f">&#9670;&#160;</a></span>prevent_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quizaccess_openclosedate::prevent_access </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the user should be blocked from starting a new attempt or continuing an attempt now. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>false if access should be allowed, a message explaining the reason if access should be prevented. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a6d6074a04b3668df5b45ac3efd1f0932">mod_quiz\local\access_rule_base</a>.</p>

</div>
</div>
<a id="a4795a0afd22fa83141e3d13f8c11f0ef" name="a4795a0afd22fa83141e3d13f8c11f0ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4795a0afd22fa83141e3d13f8c11f0ef">&#9670;&#160;</a></span>prevent_new_attempt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::prevent_new_attempt </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$numprevattempts</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$lastattempt</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether a user should be allowed to start a new attempt at this quiz now. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$numprevattempts</td><td>the number of previous attempts this user has made. </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$lastattempt</td><td>information about the user's last completed attempt. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>false if access should be allowed, a message explaining the reason if access should be prevented. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/de8/classquizaccess__delaybetweenattempts.html#a9520cfa578af4473f82f43df677215fb">quizaccess_delaybetweenattempts</a>, and <a class="el" href="../../d1/d86/classquizaccess__numattempts.html#ad3813d930025a46b47fbce52caed3b58">quizaccess_numattempts</a>.</p>

</div>
</div>
<a id="aa845a20a86895dc085c0c934a0dddf98" name="aa845a20a86895dc085c0c934a0dddf98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa845a20a86895dc085c0c934a0dddf98">&#9670;&#160;</a></span>save_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_quiz\local\access_rule_base::save_settings </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$quiz</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save any submitted settings when the quiz settings form is submitted. </p>
<p>This is called from {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df0/group__mod__quiz.html#gaab02f7896e9cc90b405fc7134d239cbc" title="This function is called at the end of quiz_add_instance and quiz_update_instance, to do the common pr...">quiz_after_add_or_update()</a>} in lib.php. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$quiz</td><td>the data from the quiz form, including $quiz-&gt;id which is the id of the quiz being saved. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../de/db5/classquizaccess__seb.html#a944f9d50a0052b19c90935079d6b37b3">quizaccess_seb</a>.</p>

</div>
</div>
<a id="ac220fd8374d4fe9809fa0960289d15b6" name="ac220fd8374d4fe9809fa0960289d15b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac220fd8374d4fe9809fa0960289d15b6">&#9670;&#160;</a></span>setup_attempt_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::setup_attempt_page </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$page</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets up the attempt (review or summary) page with any special extra properties required by this rule. </p>
<p>securewindow rule is an example of where this is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../dc/ded/classmoodle__page.html">moodle_page</a></td><td class="paramname">$page</td><td>the page object to initialise. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../de/db5/classquizaccess__seb.html#ae661eb285100710968acbf1377b766b9">quizaccess_seb</a>, and <a class="el" href="../../d4/da5/classquizaccess__securewindow.html#a0a44f8aa9dbdcd4b3456d1896fec35f2">quizaccess_securewindow</a>.</p>

</div>
</div>
<a id="a6cc06f346b332f8f03a13cc4880aebdf" name="a6cc06f346b332f8f03a13cc4880aebdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc06f346b332f8f03a13cc4880aebdf">&#9670;&#160;</a></span>time_left_display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quizaccess_openclosedate::time_left_display </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attempt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$timenow</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the user should be shown a different amount of time than $timenow - $this-&gt;end_time(), then override this method. </p>
<p>This is useful if the time remaining is large enough to be omitted. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$attempt</td><td>the current attempt </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timenow</td><td>the time now. We don't use $this-&gt;timenow, so we can give the user a more accurate indication of how much time is left. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the time left in seconds (can be negative) or false if there is no limit. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/db3/classmod__quiz_1_1local_1_1access__rule__base.html#a2530d97aeda84c7221e0e1c410323820">mod_quiz\local\access_rule_base</a>.</p>

</div>
</div>
<a id="a5de14dfdd02ffa9cce551753672feb54" name="a5de14dfdd02ffa9cce551753672feb54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5de14dfdd02ffa9cce551753672feb54">&#9670;&#160;</a></span>validate_preflight_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mod_quiz\local\access_rule_base::validate_preflight_check </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$files</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$errors</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$attemptid</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate the pre-flight check form submission. </p>
<p>You should only do something here if {</p><dl class="section see"><dt>See also</dt><dd>is_preflight_check_required()} returned true.</dd></dl>
<p>If the form validates, the user will be allowed to continue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>the submitted form data. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$files</td><td>any files in the submission. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$errors</td><td>the list of validation errors that is being built up. </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$attemptid</td><td>the id of the current attempt, if there is one, otherwise null. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the update $errors array; </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a942bc86188ab38109803d7bca26cc0a5">quizaccess_offlineattempts</a>, and <a class="el" href="../../d4/d4d/classquizaccess__password.html#a1a0482c4f90c5763356cd82c1743f1ad">quizaccess_password</a>.</p>

</div>
</div>
<a id="aba64050587d5400e6d7cc9a700966188" name="aba64050587d5400e6d7cc9a700966188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba64050587d5400e6d7cc9a700966188">&#9670;&#160;</a></span>validate_settings_form_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_quiz\local\access_rule_base::validate_settings_form_fields </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$errors</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$files</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de5/classmod__quiz__mod__form.html">mod_quiz_mod_form</a></td>          <td class="paramname"><span class="paramname"><em>$quizform</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate the data from any form fields added using {. </p>
<dl class="section see"><dt>See also</dt><dd>add_settings_form_fields()}. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$errors</td><td>the errors found so far. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>the submitted form data. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$files</td><td>information about any uploaded files. </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d4/de5/classmod__quiz__mod__form.html" title="Settings form for the quiz module.">mod_quiz_mod_form</a></td><td class="paramname">$quizform</td><td>the quiz form object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array::$errors</td><td>the updated $errors array. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/dba/classquizaccess__offlineattempts.html#a435a6b8073933817d5ca6376a04bbbf3">quizaccess_offlineattempts</a>, and <a class="el" href="../../de/db5/classquizaccess__seb.html#abfbee9fdd2abd3d4dc4833c1736ac4db">quizaccess_seb</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mod/quiz/accessrule/openclosedate/<b>rule.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 4 2024 02:37:01 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
