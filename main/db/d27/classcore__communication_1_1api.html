<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_communication\api Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.5</span>
   </div>
   <div id="projectbrief">Moodle 4.5dev (Build: 20240530) (bcd8e0d6edd)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/d0e/namespacecore__communication.html">core_communication</a></li><li class="navelem"><a class="el" href="../../db/d27/classcore__communication_1_1api.html">api</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="../../d6/d53/classcore__communication_1_1api-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_communication\api Class Reference<div class="ingroups"><a class="el" href="../../de/db4/group__core__communication.html">core_communication</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acfc4b722ad8fc1e96a08b527d6f30c3d" id="r_acfc4b722ad8fc1e96a08b527d6f30c3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfc4b722ad8fc1e96a08b527d6f30c3d">add_members_to_room</a> (array $userids, bool $queue=true)</td></tr>
<tr class="memdesc:acfc4b722ad8fc1e96a08b527d6f30c3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a communication ad-hoc task for add members operation and add the user mapping.  <br /></td></tr>
<tr class="separator:acfc4b722ad8fc1e96a08b527d6f30c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c79a5cb1747a876abdf7e3b69e91db" id="r_a11c79a5cb1747a876abdf7e3b69e91db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11c79a5cb1747a876abdf7e3b69e91db">configure_room_and_membership_by_provider</a> (string $provider, stdClass $instance, string $communicationroomname, array $users, ?\<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> $instanceimage=null, bool $queue=true,)</td></tr>
<tr class="memdesc:a11c79a5cb1747a876abdf7e3b69e91db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the room and membership by provider selected for the communication instance.  <br /></td></tr>
<tr class="separator:a11c79a5cb1747a876abdf7e3b69e91db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d27265fb5f17acefdef6e0f4aa2cffc" id="r_a7d27265fb5f17acefdef6e0f4aa2cffc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d27265fb5f17acefdef6e0f4aa2cffc">create_and_configure_room</a> (string $communicationroomname, ?\<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> $avatar=null, ?\stdClass $instance=null, bool $queue=true,)</td></tr>
<tr class="memdesc:a7d27265fb5f17acefdef6e0f4aa2cffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a communication ad-hoc task for create operation.  <br /></td></tr>
<tr class="separator:a7d27265fb5f17acefdef6e0f4aa2cffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd53d89619d0139d3fabcede6391aae" id="r_a7dd53d89619d0139d3fabcede6391aae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7dd53d89619d0139d3fabcede6391aae">delete_room</a> ()</td></tr>
<tr class="memdesc:a7dd53d89619d0139d3fabcede6391aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a communication ad-hoc task for delete operation.  <br /></td></tr>
<tr class="separator:a7dd53d89619d0139d3fabcede6391aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e46b1f6262e3a8ff91751f1726e135" id="r_af8e46b1f6262e3a8ff91751f1726e135"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8e46b1f6262e3a8ff91751f1726e135">form_definition</a> (<a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a> $mform, string $selectdefaultcommunication=<a class="el" href="../../d8/d1f/classcore__communication_1_1processor.html#a021210a79874ad5ab4070bc1afae4509">processor::PROVIDER_NONE</a>)</td></tr>
<tr class="memdesc:af8e46b1f6262e3a8ff91751f1726e135"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the form elements for the communication api.  <br /></td></tr>
<tr class="separator:af8e46b1f6262e3a8ff91751f1726e135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a002b5fb5f13345168295b9f43d26d" id="r_ad3a002b5fb5f13345168295b9f43d26d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3a002b5fb5f13345168295b9f43d26d">form_definition_for_provider</a> (\<a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a> $mform, string $provider=<a class="el" href="../../d8/d1f/classcore__communication_1_1processor.html#a021210a79874ad5ab4070bc1afae4509">processor::PROVIDER_NONE</a>)</td></tr>
<tr class="memdesc:ad3a002b5fb5f13345168295b9f43d26d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the form definitions for the plugins.  <br /></td></tr>
<tr class="separator:ad3a002b5fb5f13345168295b9f43d26d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae896fee1559291f180592870f7d1d98f" id="r_ae896fee1559291f180592870f7d1d98f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae896fee1559291f180592870f7d1d98f">get_avatar</a> ()</td></tr>
<tr class="memdesc:ae896fee1559291f180592870f7d1d98f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the avatar file.  <br /></td></tr>
<tr class="separator:ae896fee1559291f180592870f7d1d98f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac87578dcfa1af486e7416881ed409789" id="r_ac87578dcfa1af486e7416881ed409789"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac87578dcfa1af486e7416881ed409789">get_communication_room_url</a> ()</td></tr>
<tr class="memdesc:ac87578dcfa1af486e7416881ed409789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the communication room url.  <br /></td></tr>
<tr class="separator:ac87578dcfa1af486e7416881ed409789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a64ee963034c654bd0f4094a5dbf6b" id="r_a15a64ee963034c654bd0f4094a5dbf6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15a64ee963034c654bd0f4094a5dbf6b">get_form_provider</a> ()</td></tr>
<tr class="memdesc:a15a64ee963034c654bd0f4094a5dbf6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the form provider.  <br /></td></tr>
<tr class="separator:a15a64ee963034c654bd0f4094a5dbf6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af82395dd7079ea67599e1ccaa61b465a" id="r_af82395dd7079ea67599e1ccaa61b465a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af82395dd7079ea67599e1ccaa61b465a">get_processor</a> ()</td></tr>
<tr class="memdesc:af82395dd7079ea67599e1ccaa61b465a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the underlying communication processor object.  <br /></td></tr>
<tr class="separator:af82395dd7079ea67599e1ccaa61b465a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659dbef53c01eae05b3c67eb68eb9732" id="r_a659dbef53c01eae05b3c67eb68eb9732"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a659dbef53c01eae05b3c67eb68eb9732">get_provider</a> ()</td></tr>
<tr class="memdesc:a659dbef53c01eae05b3c67eb68eb9732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the communication provider.  <br /></td></tr>
<tr class="separator:a659dbef53c01eae05b3c67eb68eb9732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ecdd36c23a428ef89e59feff9b43cf" id="r_aa5ecdd36c23a428ef89e59feff9b43cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5ecdd36c23a428ef89e59feff9b43cf">get_room_name</a> ()</td></tr>
<tr class="memdesc:aa5ecdd36c23a428ef89e59feff9b43cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper to fetch the room name.  <br /></td></tr>
<tr class="separator:aa5ecdd36c23a428ef89e59feff9b43cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a376867ead7be84124781fe815bb279a7" id="r_a376867ead7be84124781fe815bb279a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a376867ead7be84124781fe815bb279a7">get_room_provider</a> ()</td></tr>
<tr class="memdesc:a376867ead7be84124781fe815bb279a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the room provider.  <br /></td></tr>
<tr class="separator:a376867ead7be84124781fe815bb279a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c08c4fce27a033ec7e14137c53b654" id="r_af5c08c4fce27a033ec7e14137c53b654"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5c08c4fce27a033ec7e14137c53b654">get_room_user_provider</a> ()</td></tr>
<tr class="memdesc:af5c08c4fce27a033ec7e14137c53b654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the room user provider.  <br /></td></tr>
<tr class="separator:af5c08c4fce27a033ec7e14137c53b654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac19c59bf3c8abb172de96bfab0fa0bd0" id="r_ac19c59bf3c8abb172de96bfab0fa0bd0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac19c59bf3c8abb172de96bfab0fa0bd0">get_user_provider</a> ()</td></tr>
<tr class="memdesc:ac19c59bf3c8abb172de96bfab0fa0bd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the user provider.  <br /></td></tr>
<tr class="separator:ac19c59bf3c8abb172de96bfab0fa0bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd80c16216a8b204e1f9819e7ac17d6" id="r_a6dd80c16216a8b204e1f9819e7ac17d6"><td class="memItemLeft" align="right" valign="top"><a id="a6dd80c16216a8b204e1f9819e7ac17d6" name="a6dd80c16216a8b204e1f9819e7ac17d6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>reload</b> ()</td></tr>
<tr class="memdesc:a6dd80c16216a8b204e1f9819e7ac17d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reload in the internal instance data. <br /></td></tr>
<tr class="separator:a6dd80c16216a8b204e1f9819e7ac17d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2088e98d0307b2b3c7fcf662d8ccfcc" id="r_ad2088e98d0307b2b3c7fcf662d8ccfcc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2088e98d0307b2b3c7fcf662d8ccfcc">remove_all_members_from_room</a> (bool $queue=true)</td></tr>
<tr class="memdesc:ad2088e98d0307b2b3c7fcf662d8ccfcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all users from the room.  <br /></td></tr>
<tr class="separator:ad2088e98d0307b2b3c7fcf662d8ccfcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad67ddb7644955478d8e755087980b795" id="r_ad67ddb7644955478d8e755087980b795"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad67ddb7644955478d8e755087980b795">remove_members_from_room</a> (array $userids, bool $queue=true)</td></tr>
<tr class="memdesc:ad67ddb7644955478d8e755087980b795"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a communication ad-hoc task for remove members operation or action immediately.  <br /></td></tr>
<tr class="separator:ad67ddb7644955478d8e755087980b795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a553e3386f284099f672cc01edd51556f" id="r_a553e3386f284099f672cc01edd51556f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a553e3386f284099f672cc01edd51556f">set_avatar</a> (?\<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> $avatar)</td></tr>
<tr class="memdesc:a553e3386f284099f672cc01edd51556f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the avatar file.  <br /></td></tr>
<tr class="separator:a553e3386f284099f672cc01edd51556f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c25e8671ac034c2fa77d94e6a1c7d5" id="r_a77c25e8671ac034c2fa77d94e6a1c7d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77c25e8671ac034c2fa77d94e6a1c7d5">set_data</a> (\stdClass $instance)</td></tr>
<tr class="memdesc:a77c25e8671ac034c2fa77d94e6a1c7d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the form data if the data is already available.  <br /></td></tr>
<tr class="separator:a77c25e8671ac034c2fa77d94e6a1c7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e951521ed0377ca4b887ac72b89e2d1" id="r_a3e951521ed0377ca4b887ac72b89e2d1"><td class="memItemLeft" align="right" valign="top"><a id="a3e951521ed0377ca4b887ac72b89e2d1" name="a3e951521ed0377ca4b887ac72b89e2d1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>show_communication_room_status_notification</b> ()</td></tr>
<tr class="memdesc:a3e951521ed0377ca4b887ac72b89e2d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display the communication room status notification. <br /></td></tr>
<tr class="separator:a3e951521ed0377ca4b887ac72b89e2d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad524b27a6c17079060c86ad7df80c7a2" id="r_ad524b27a6c17079060c86ad7df80c7a2"><td class="memItemLeft" align="right" valign="top"><a id="ad524b27a6c17079060c86ad7df80c7a2" name="ad524b27a6c17079060c86ad7df80c7a2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sync_provider</b> ()</td></tr>
<tr class="memdesc:ad524b27a6c17079060c86ad7df80c7a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the task to sync the provider data with local <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> data. <br /></td></tr>
<tr class="separator:ad524b27a6c17079060c86ad7df80c7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ed0f49ac69cd4763feac5456759c3e" id="r_a70ed0f49ac69cd4763feac5456759c3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70ed0f49ac69cd4763feac5456759c3e">update_room</a> (?int $active=null, ?string $communicationroomname=null, ?\<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> $avatar=null, ?\stdClass $instance=null, bool $queue=true,)</td></tr>
<tr class="memdesc:a70ed0f49ac69cd4763feac5456759c3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a communication ad-hoc task for update operation.  <br /></td></tr>
<tr class="separator:a70ed0f49ac69cd4763feac5456759c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406266a344a7c6ffbc897b4cf9c47020" id="r_a406266a344a7c6ffbc897b4cf9c47020"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a406266a344a7c6ffbc897b4cf9c47020">update_room_membership</a> (array $userids, bool $queue=true)</td></tr>
<tr class="memdesc:a406266a344a7c6ffbc897b4cf9c47020"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a communication ad-hoc task for updating members operation and update the user mapping.  <br /></td></tr>
<tr class="separator:a406266a344a7c6ffbc897b4cf9c47020"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac93b040c8f694fa487945e674bcfc350" id="r_ac93b040c8f694fa487945e674bcfc350"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac93b040c8f694fa487945e674bcfc350">get_communication_plugin_list_for_form</a> ()</td></tr>
<tr class="memdesc:ac93b040c8f694fa487945e674bcfc350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of plugins for form selection.  <br /></td></tr>
<tr class="separator:ac93b040c8f694fa487945e674bcfc350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e57b8be91ad2bf8419eb135777ee3bb" id="r_a0e57b8be91ad2bf8419eb135777ee3bb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e57b8be91ad2bf8419eb135777ee3bb">get_enabled_providers_and_default</a> (string $selecteddefaulprovider=null)</td></tr>
<tr class="memdesc:a0e57b8be91ad2bf8419eb135777ee3bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the enabled communication providers and default provider according to the selected provider.  <br /></td></tr>
<tr class="separator:a0e57b8be91ad2bf8419eb135777ee3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd8a2724f57257feeae9acbc619cf168" id="r_acd8a2724f57257feeae9acbc619cf168"><td class="memItemLeft" align="right" valign="top"><a id="acd8a2724f57257feeae9acbc619cf168" name="acd8a2724f57257feeae9acbc619cf168"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>is_available</b> ()</td></tr>
<tr class="memdesc:acd8a2724f57257feeae9acbc619cf168"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the communication api is enabled. <br /></td></tr>
<tr class="separator:acd8a2724f57257feeae9acbc619cf168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef788542d5db04963ccb27c618c8617" id="r_aaef788542d5db04963ccb27c618c8617"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaef788542d5db04963ccb27c618c8617">load_by_instance</a> (<a class="el" href="../../d1/d90/classcore_1_1context.html">context</a> $<a class="el" href="../../d1/d90/classcore_1_1context.html">context</a>, string $component, string $instancetype, int $instanceid, ?string $provider=null,)</td></tr>
<tr class="memdesc:aaef788542d5db04963ccb27c618c8617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the communication processor object.  <br /></td></tr>
<tr class="separator:aaef788542d5db04963ccb27c618c8617"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1a2004b9b7319bc98906026ffa6e5615" id="r_a1a2004b9b7319bc98906026ffa6e5615"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a2004b9b7319bc98906026ffa6e5615">get_avatar_filerecord</a> (string $filename)</td></tr>
<tr class="memdesc:a1a2004b9b7319bc98906026ffa6e5615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the avatar file record for the avatar for filesystem.  <br /></td></tr>
<tr class="separator:a1a2004b9b7319bc98906026ffa6e5615"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acfc4b722ad8fc1e96a08b527d6f30c3d" name="acfc4b722ad8fc1e96a08b527d6f30c3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc4b722ad8fc1e96a08b527d6f30c3d">&#9670;&#160;</a></span>add_members_to_room()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::add_members_to_room </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$userids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$queue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a communication ad-hoc task for add members operation and add the user mapping. </p>
<p>This method will add a task to the queue to add the room users.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$userids</td><td>The user ids to add to the room </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$queue</td><td>Whether to queue the task or not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a11c79a5cb1747a876abdf7e3b69e91db" name="a11c79a5cb1747a876abdf7e3b69e91db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11c79a5cb1747a876abdf7e3b69e91db">&#9670;&#160;</a></span>configure_room_and_membership_by_provider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::configure_room_and_membership_by_provider </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$provider</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stdClass</td>          <td class="paramname"><span class="paramname"><em>$instance</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$communicationroomname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$users</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?\<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td>          <td class="paramname"><span class="paramname"><em>$instanceimage</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$queue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the room and membership by provider selected for the communication instance. </p>
<p>This method will add a task to the queue to configure the room and membership by comparing the change of provider. There are some major cases to consider for this method to allow minimum duplication when this api is used. Some of the major cases are:</p><ol type="1">
<li>If the communication instance is not created at all, then create it and add members.</li>
<li>If the current provider is none and the new provider is also none, then nothing to do.</li>
<li>If the current and existing provider is the same, don't need to do anything.</li>
<li>If provider set to none, remove all the members.</li>
<li>If previous provider was not none and current provider is not none, but a different provider, remove members and add for the new one.</li>
<li>If previous provider was none and current provider is not none, don't need to remove, just update the selected provider and add users to that provider. Do not queue the task to add members to room as the room might not have created yet. The add room task adds the task to add members to room anyway.</li>
<li>If it's a new provider, never used/created, now create the room after considering all these cases for a new provider.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$provider</td><td>The provider name </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$instance</td><td>The instance object </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$communicationroomname</td><td>The communication room name </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$users</td><td>The user ids to add to the room </td></tr>
    <tr><td class="paramtype">null&#160;|&#160;<a class="el" href="../../d0/d00/classstored__file.html" title="Class representing local files stored in a sha1 file pool.">stored_file</a></td><td class="paramname">$instanceimage</td><td>The stored file for the avatar </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$queue</td><td>Queue the task for the provider room or not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7d27265fb5f17acefdef6e0f4aa2cffc" name="a7d27265fb5f17acefdef6e0f4aa2cffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d27265fb5f17acefdef6e0f4aa2cffc">&#9670;&#160;</a></span>create_and_configure_room()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::create_and_configure_room </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$communicationroomname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?\<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td>          <td class="paramname"><span class="paramname"><em>$avatar</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?\stdClass</td>          <td class="paramname"><span class="paramname"><em>$instance</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$queue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a communication ad-hoc task for create operation. </p>
<p>This method will add a task to the queue to create the room.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$communicationroomname</td><td>The communication room name </td></tr>
    <tr><td class="paramtype">null&#160;|&#160;<a class="el" href="../../d0/d00/classstored__file.html" title="Class representing local files stored in a sha1 file pool.">stored_file</a></td><td class="paramname">$avatar</td><td>The stored file for the avatar </td></tr>
    <tr><td class="paramtype">stdClass&#160;|&#160;null</td><td class="paramname">$instance</td><td>The actual instance object </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$queue</td><td>Whether to queue the task or not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7dd53d89619d0139d3fabcede6391aae" name="a7dd53d89619d0139d3fabcede6391aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dd53d89619d0139d3fabcede6391aae">&#9670;&#160;</a></span>delete_room()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::delete_room </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a communication ad-hoc task for delete operation. </p>
<p>This method will add a task to the queue to delete the room. </p>

</div>
</div>
<a id="af8e46b1f6262e3a8ff91751f1726e135" name="af8e46b1f6262e3a8ff91751f1726e135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8e46b1f6262e3a8ff91751f1726e135">&#9670;&#160;</a></span>form_definition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::form_definition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a></td>          <td class="paramname"><span class="paramname"><em>$mform</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$selectdefaultcommunication</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d8/d1f/classcore__communication_1_1processor.html#a021210a79874ad5ab4070bc1afae4509">processor::PROVIDER_NONE</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define the form elements for the communication api. </p>
<p>This method will be called from the form definition method of the instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html" title="MoodleQuickForm implementation.">MoodleQuickForm</a></td><td class="paramname">$mform</td><td>The form element </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$selectdefaultcommunication</td><td>The default selected communication provider in the form field </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad3a002b5fb5f13345168295b9f43d26d" name="ad3a002b5fb5f13345168295b9f43d26d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3a002b5fb5f13345168295b9f43d26d">&#9670;&#160;</a></span>form_definition_for_provider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::form_definition_for_provider </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../d5/d8e/class_moodle_quick_form.html">MoodleQuickForm</a></td>          <td class="paramname"><span class="paramname"><em>$mform</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$provider</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d8/d1f/classcore__communication_1_1processor.html#a021210a79874ad5ab4070bc1afae4509">processor::PROVIDER_NONE</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the form definitions for the plugins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d5/d8e/class_moodle_quick_form.html" title="MoodleQuickForm implementation.">MoodleQuickForm</a></td><td class="paramname">$mform</td><td>The moodle form </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$provider</td><td>The provider name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae896fee1559291f180592870f7d1d98f" name="ae896fee1559291f180592870f7d1d98f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae896fee1559291f180592870f7d1d98f">&#9670;&#160;</a></span>get_avatar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::get_avatar </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the avatar file. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null|stored_file</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1a2004b9b7319bc98906026ffa6e5615" name="a1a2004b9b7319bc98906026ffa6e5615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a2004b9b7319bc98906026ffa6e5615">&#9670;&#160;</a></span>get_avatar_filerecord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::get_avatar_filerecord </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the avatar file record for the avatar for filesystem. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>The filename of the avatar </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac93b040c8f694fa487945e674bcfc350" name="ac93b040c8f694fa487945e674bcfc350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac93b040c8f694fa487945e674bcfc350">&#9670;&#160;</a></span>get_communication_plugin_list_for_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_communication\api::get_communication_plugin_list_for_form </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of plugins for form selection. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac87578dcfa1af486e7416881ed409789" name="ac87578dcfa1af486e7416881ed409789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac87578dcfa1af486e7416881ed409789">&#9670;&#160;</a></span>get_communication_room_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::get_communication_room_url </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the communication room url. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string|null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0e57b8be91ad2bf8419eb135777ee3bb" name="a0e57b8be91ad2bf8419eb135777ee3bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e57b8be91ad2bf8419eb135777ee3bb">&#9670;&#160;</a></span>get_enabled_providers_and_default()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_communication\api::get_enabled_providers_and_default </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$selecteddefaulprovider</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the enabled communication providers and default provider according to the selected provider. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$selecteddefaulprovider</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15a64ee963034c654bd0f4094a5dbf6b" name="a15a64ee963034c654bd0f4094a5dbf6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15a64ee963034c654bd0f4094a5dbf6b">&#9670;&#160;</a></span>get_form_provider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::get_form_provider </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the form provider. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../db/d13/interfacecore__communication_1_1form__provider.html">core_communication\form_provider</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af82395dd7079ea67599e1ccaa61b465a" name="af82395dd7079ea67599e1ccaa61b465a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af82395dd7079ea67599e1ccaa61b465a">&#9670;&#160;</a></span>get_processor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::get_processor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the underlying communication processor object. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">?processor</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a659dbef53c01eae05b3c67eb68eb9732" name="a659dbef53c01eae05b3c67eb68eb9732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659dbef53c01eae05b3c67eb68eb9732">&#9670;&#160;</a></span>get_provider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::get_provider </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the communication provider. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa5ecdd36c23a428ef89e59feff9b43cf" name="aa5ecdd36c23a428ef89e59feff9b43cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5ecdd36c23a428ef89e59feff9b43cf">&#9670;&#160;</a></span>get_room_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::get_room_name </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A helper to fetch the room name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a376867ead7be84124781fe815bb279a7" name="a376867ead7be84124781fe815bb279a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a376867ead7be84124781fe815bb279a7">&#9670;&#160;</a></span>get_room_provider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::get_room_provider </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the room provider. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d0/d39/interfacecore__communication_1_1room__chat__provider.html">core_communication\room_chat_provider</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af5c08c4fce27a033ec7e14137c53b654" name="af5c08c4fce27a033ec7e14137c53b654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5c08c4fce27a033ec7e14137c53b654">&#9670;&#160;</a></span>get_room_user_provider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::get_room_user_provider </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the room user provider. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d8/da6/interfacecore__communication_1_1room__user__provider.html">core_communication\room_user_provider</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac19c59bf3c8abb172de96bfab0fa0bd0" name="ac19c59bf3c8abb172de96bfab0fa0bd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac19c59bf3c8abb172de96bfab0fa0bd0">&#9670;&#160;</a></span>get_user_provider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::get_user_provider </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the user provider. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d0/db8/interfacecore__communication_1_1user__provider.html">core_communication\user_provider</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaef788542d5db04963ccb27c618c8617" name="aaef788542d5db04963ccb27c618c8617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaef788542d5db04963ccb27c618c8617">&#9670;&#160;</a></span>load_by_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_communication\api::load_by_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d90/classcore_1_1context.html">context</a></td>          <td class="paramname"><span class="paramname"><em>$context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$component</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$instancetype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$instanceid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$provider</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the communication processor object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>The context of the item for the instance </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>The component of the item for the instance </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$instancetype</td><td>The type of the item for the instance </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$instanceid</td><td>The id of the instance </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$provider</td><td>The provider type - if null will load for this context's active provider. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">api</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad2088e98d0307b2b3c7fcf662d8ccfcc" name="ad2088e98d0307b2b3c7fcf662d8ccfcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2088e98d0307b2b3c7fcf662d8ccfcc">&#9670;&#160;</a></span>remove_all_members_from_room()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::remove_all_members_from_room </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$queue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all users from the room. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$queue</td><td>Whether to queue the task or not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad67ddb7644955478d8e755087980b795" name="ad67ddb7644955478d8e755087980b795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad67ddb7644955478d8e755087980b795">&#9670;&#160;</a></span>remove_members_from_room()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::remove_members_from_room </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$userids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$queue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a communication ad-hoc task for remove members operation or action immediately. </p>
<p>This method will add a task to the queue to remove the room users.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$userids</td><td>The user ids to remove from the room </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$queue</td><td>Whether to queue the task or not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a553e3386f284099f672cc01edd51556f" name="a553e3386f284099f672cc01edd51556f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a553e3386f284099f672cc01edd51556f">&#9670;&#160;</a></span>set_avatar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::set_avatar </td>
          <td>(</td>
          <td class="paramtype">?\<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td>          <td class="paramname"><span class="paramname"><em>$avatar</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the avatar file. </p>
<p>If null is set, then delete the old area file and set the avatarfilename to null. This will make sure the plugin api deletes the avatar from the room.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;<a class="el" href="../../d0/d00/classstored__file.html" title="Class representing local files stored in a sha1 file pool.">stored_file</a></td><td class="paramname">$avatar</td><td>The stored file for the avatar </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77c25e8671ac034c2fa77d94e6a1c7d5" name="a77c25e8671ac034c2fa77d94e6a1c7d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c25e8671ac034c2fa77d94e6a1c7d5">&#9670;&#160;</a></span>set_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::set_data </td>
          <td>(</td>
          <td class="paramtype">\stdClass</td>          <td class="paramname"><span class="paramname"><em>$instance</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the form data if the data is already available. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$instance</td><td>The instance object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a70ed0f49ac69cd4763feac5456759c3e" name="a70ed0f49ac69cd4763feac5456759c3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ed0f49ac69cd4763feac5456759c3e">&#9670;&#160;</a></span>update_room()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::update_room </td>
          <td>(</td>
          <td class="paramtype">?int</td>          <td class="paramname"><span class="paramname"><em>$active</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$communicationroomname</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?\<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td>          <td class="paramname"><span class="paramname"><em>$avatar</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?\stdClass</td>          <td class="paramname"><span class="paramname"><em>$instance</em></span><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$queue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a communication ad-hoc task for update operation. </p>
<p>This method will add a task to the queue to update the room.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;int</td><td class="paramname">$active</td><td>The selected active state of the provider </td></tr>
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$communicationroomname</td><td>The communication room name </td></tr>
    <tr><td class="paramtype">null&#160;|&#160;<a class="el" href="../../d0/d00/classstored__file.html" title="Class representing local files stored in a sha1 file pool.">stored_file</a></td><td class="paramname">$avatar</td><td>The stored file for the avatar </td></tr>
    <tr><td class="paramtype">stdClass&#160;|&#160;null</td><td class="paramname">$instance</td><td>The actual instance object </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$queue</td><td>Whether to queue the task or not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a406266a344a7c6ffbc897b4cf9c47020" name="a406266a344a7c6ffbc897b4cf9c47020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a406266a344a7c6ffbc897b4cf9c47020">&#9670;&#160;</a></span>update_room_membership()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_communication\api::update_room_membership </td>
          <td>(</td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$userids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$queue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a communication ad-hoc task for updating members operation and update the user mapping. </p>
<p>This method will add a task to the queue to update the room users.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$userids</td><td>The user ids to add to the room </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$queue</td><td>Whether to queue the task or not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>communication/classes/<b>api.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 02:53:10 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
