<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_form\filetypes_util Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.4</span>
   </div>
   <div id="projectbrief">Moodle 4.4+ (Build: 20240510) (477aa7c7502)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d0/d5c/namespacecore__form.html">core_form</a></li><li class="navelem"><a class="el" href="../../db/dd3/classcore__form_1_1filetypes__util.html">filetypes_util</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d0/dc3/classcore__form_1_1filetypes__util-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_form\filetypes_util Class Reference<div class="ingroups"><a class="el" href="../../d6/d9c/group__core__form.html">core_form</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Utility class for handling with file types in the forms.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acdfd27fcee72e6518d098d54f294ed38" id="r_acdfd27fcee72e6518d098d54f294ed38"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdfd27fcee72e6518d098d54f294ed38">data_for_browser</a> ($onlytypes=null, $allowall=true, $current=null)</td></tr>
<tr class="memdesc:acdfd27fcee72e6518d098d54f294ed38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares data for the filetypes-browser.mustache.  <br /></td></tr>
<tr class="separator:acdfd27fcee72e6518d098d54f294ed38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09b3e973be5ecf42286766adbb0e0c1b" id="r_a09b3e973be5ecf42286766adbb0e0c1b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09b3e973be5ecf42286766adbb0e0c1b">describe_file_types</a> ($types)</td></tr>
<tr class="memdesc:a09b3e973be5ecf42286766adbb0e0c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describe the list of file types for human user.  <br /></td></tr>
<tr class="separator:a09b3e973be5ecf42286766adbb0e0c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6183845df286cb69d4edd6ce3b870a9" id="r_af6183845df286cb69d4edd6ce3b870a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6183845df286cb69d4edd6ce3b870a9">expand</a> ($types, $keepgroups=false, $keepmimetypes=false)</td></tr>
<tr class="memdesc:af6183845df286cb69d4edd6ce3b870a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands the file types into the list of file extensions.  <br /></td></tr>
<tr class="separator:af6183845df286cb69d4edd6ce3b870a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902427f05ab280df7f474e987a4adf22" id="r_a902427f05ab280df7f474e987a4adf22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a902427f05ab280df7f474e987a4adf22">get_group_description</a> ($group)</td></tr>
<tr class="memdesc:a902427f05ab280df7f474e987a4adf22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a human readable name of the filetype group.  <br /></td></tr>
<tr class="separator:a902427f05ab280df7f474e987a4adf22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adafcd832a20bf4b3a7a57e8f4d3254cc" id="r_adafcd832a20bf4b3a7a57e8f4d3254cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adafcd832a20bf4b3a7a57e8f4d3254cc">get_groups_info</a> ()</td></tr>
<tr class="memdesc:adafcd832a20bf4b3a7a57e8f4d3254cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a list of all known file type groups and their properties.  <br /></td></tr>
<tr class="separator:adafcd832a20bf4b3a7a57e8f4d3254cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4e76a9324b5833c1aef576629244f8" id="r_a1e4e76a9324b5833c1aef576629244f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e4e76a9324b5833c1aef576629244f8">get_not_listed</a> ($types, $list)</td></tr>
<tr class="memdesc:a1e4e76a9324b5833c1aef576629244f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all types that are not part of the given list.  <br /></td></tr>
<tr class="separator:a1e4e76a9324b5833c1aef576629244f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7463bda146146703dfa0c6adf3af1f0b" id="r_a7463bda146146703dfa0c6adf3af1f0b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7463bda146146703dfa0c6adf3af1f0b">get_not_whitelisted</a> ()</td></tr>
<tr class="separator:a7463bda146146703dfa0c6adf3af1f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72fa3e67e52c087c4cb4149ca038ce1f" id="r_a72fa3e67e52c087c4cb4149ca038ce1f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72fa3e67e52c087c4cb4149ca038ce1f">get_unknown_file_types</a> ($types)</td></tr>
<tr class="memdesc:a72fa3e67e52c087c4cb4149ca038ce1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns file types from the list that are not recognized.  <br /></td></tr>
<tr class="separator:a72fa3e67e52c087c4cb4149ca038ce1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9236ee5da1a1f6dc959f3a96ac8786" id="r_afc9236ee5da1a1f6dc959f3a96ac8786"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc9236ee5da1a1f6dc959f3a96ac8786">is_allowed_file_type</a> ($filename, $allowlist)</td></tr>
<tr class="memdesc:afc9236ee5da1a1f6dc959f3a96ac8786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the given filename of an allowed file type?  <br /></td></tr>
<tr class="separator:afc9236ee5da1a1f6dc959f3a96ac8786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa70d90122d2707319b8fb535b1a51518" id="r_aa70d90122d2707319b8fb535b1a51518"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa70d90122d2707319b8fb535b1a51518">is_filetype_group</a> ($type)</td></tr>
<tr class="memdesc:aa70d90122d2707319b8fb535b1a51518"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the given string a known filetype group?  <br /></td></tr>
<tr class="separator:aa70d90122d2707319b8fb535b1a51518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1fa0495cf86e59fc6f7fff6307d5ed2" id="r_aa1fa0495cf86e59fc6f7fff6307d5ed2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1fa0495cf86e59fc6f7fff6307d5ed2">is_listed</a> ($types, $list)</td></tr>
<tr class="memdesc:aa1fa0495cf86e59fc6f7fff6307d5ed2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should the file type be considered as a part of the given list.  <br /></td></tr>
<tr class="separator:aa1fa0495cf86e59fc6f7fff6307d5ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45db6a07d69b14cf4c7c43c5faf2aacc" id="r_a45db6a07d69b14cf4c7c43c5faf2aacc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45db6a07d69b14cf4c7c43c5faf2aacc">is_whitelisted</a> ()</td></tr>
<tr class="separator:a45db6a07d69b14cf4c7c43c5faf2aacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe1952e37137766a36c9915676f6900c" id="r_afe1952e37137766a36c9915676f6900c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe1952e37137766a36c9915676f6900c">looks_like_mimetype</a> ($type)</td></tr>
<tr class="memdesc:afe1952e37137766a36c9915676f6900c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the given file type looks like a valid MIME type?  <br /></td></tr>
<tr class="separator:afe1952e37137766a36c9915676f6900c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15083f748d3366128fb1b3c7d23706a7" id="r_a15083f748d3366128fb1b3c7d23706a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15083f748d3366128fb1b3c7d23706a7">normalize_file_types</a> ($types)</td></tr>
<tr class="memdesc:a15083f748d3366128fb1b3c7d23706a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the argument into an array (list) of file types.  <br /></td></tr>
<tr class="separator:a15083f748d3366128fb1b3c7d23706a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a17c04a8b0a1c2242b736ac7b50043273" id="r_a17c04a8b0a1c2242b736ac7b50043273"><td class="memItemLeft" align="right" valign="top"><a id="a17c04a8b0a1c2242b736ac7b50043273" name="a17c04a8b0a1c2242b736ac7b50043273"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$cachegroups</b> = null</td></tr>
<tr class="memdesc:a17c04a8b0a1c2242b736ac7b50043273"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../dc/d67/class_cache.html" title="Used to create cache objects.">Cache</a> of all file type groups for the <a class="el" href="">self::get_groups_info()</a>. <br /></td></tr>
<tr class="separator:a17c04a8b0a1c2242b736ac7b50043273"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility class for handling with file types in the forms. </p>
<p>This class is supposed to serve as a helper class for <a class="el" href="../../de/d03/class_moodle_quick_form__filetypes.html">MoodleQuickForm_filetypes</a> and <a class="el" href="../../d6/dc1/classadmin__setting__filetypes.html">admin_setting_filetypes</a> classes.</p>
<p>The file types can be specified in a syntax compatible with what filepicker and filemanager support via the "accepted_types" option: a list of extensions (e.g. ".doc"), mimetypes ("image/png") or groups ("audio").</p>
<dl class="section copyright"><dt>Copyright</dt><dd>2017 David Mudrak <a href="#" onclick="location.href='mai'+'lto:'+'dav'+'id'+'@mo'+'od'+'le.'+'co'+'m'; return false;">david<span class="obfuscator">.nosp@m.</span>@moo<span class="obfuscator">.nosp@m.</span>dle.c<span class="obfuscator">.nosp@m.</span>om</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="acdfd27fcee72e6518d098d54f294ed38" name="acdfd27fcee72e6518d098d54f294ed38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdfd27fcee72e6518d098d54f294ed38">&#9670;&#160;</a></span>data_for_browser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::data_for_browser </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$onlytypes</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$allowall</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$current</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares data for the filetypes-browser.mustache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$onlytypes</td><td>Allow selection from these file types only; for example 'web_image'. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$allowall</td><td>Allow to select 'All file types'. Does not apply with onlytypes are set. </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$current</td><td>Current values that should be selected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a09b3e973be5ecf42286766adbb0e0c1b" name="a09b3e973be5ecf42286766adbb0e0c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09b3e973be5ecf42286766adbb0e0c1b">&#9670;&#160;</a></span>describe_file_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::describe_file_types </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$types</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Describe the list of file types for human user. </p>
<p>Given the list of file types, return a list of human readable descriptive names of relevant groups, types or file formats.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$types</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">object</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af6183845df286cb69d4edd6ce3b870a9" name="af6183845df286cb69d4edd6ce3b870a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6183845df286cb69d4edd6ce3b870a9">&#9670;&#160;</a></span>expand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::expand </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$types</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$keepgroups</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$keepmimetypes</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expands the file types into the list of file extensions. </p>
<p>The groups and mimetypes are expanded into the list of their associated file extensions. Depending on the $keepgroups and $keepmimetypes, the groups and mimetypes themselves are either kept in the list or removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$types</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$keepgroups</td><td>Keep the group item in the list after expansion </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$keepmimetypes</td><td>Keep the mimetype item in the list after expansion </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>list of extensions and eventually groups and types </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a902427f05ab280df7f474e987a4adf22" name="a902427f05ab280df7f474e987a4adf22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902427f05ab280df7f474e987a4adf22">&#9670;&#160;</a></span>get_group_description()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::get_group_description </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$group</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a human readable name of the filetype group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$group</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adafcd832a20bf4b3a7a57e8f4d3254cc" name="adafcd832a20bf4b3a7a57e8f4d3254cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adafcd832a20bf4b3a7a57e8f4d3254cc">&#9670;&#160;</a></span>get_groups_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::get_groups_info </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides a list of all known file type groups and their properties. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e4e76a9324b5833c1aef576629244f8" name="a1e4e76a9324b5833c1aef576629244f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4e76a9324b5833c1aef576629244f8">&#9670;&#160;</a></span>get_not_listed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::get_not_listed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$types</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$list</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all types that are not part of the given list. </p>
<p>This is similar check to the {</p><dl class="section see"><dt>See also</dt><dd>self::is_listed()} but this one actually returns the extra types.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$types</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> type or list of types to be checked. </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$list</td><td>An array or string listing the types to check against. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Types not present in the list. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7463bda146146703dfa0c6adf3af1f0b" name="a7463bda146146703dfa0c6adf3af1f0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7463bda146146703dfa0c6adf3af1f0b">&#9670;&#160;</a></span>get_not_whitelisted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::get_not_whitelisted </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000669">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.10 <a href="https://tracker.moodle.org/browse/MDL-69050" class="el">MDL-69050</a> - please use {</dd></dl>
<dl class="section see"><dt>See also</dt><dd>get_not_listed} instead. </dd></dl>

</div>
</div>
<a id="a72fa3e67e52c087c4cb4149ca038ce1f" name="a72fa3e67e52c087c4cb4149ca038ce1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72fa3e67e52c087c4cb4149ca038ce1f">&#9670;&#160;</a></span>get_unknown_file_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::get_unknown_file_types </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$types</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns file types from the list that are not recognized. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$types</td><td>list of user-defined file types </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>A list of unknown file types. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afc9236ee5da1a1f6dc959f3a96ac8786" name="afc9236ee5da1a1f6dc959f3a96ac8786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc9236ee5da1a1f6dc959f3a96ac8786">&#9670;&#160;</a></span>is_allowed_file_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::is_allowed_file_type </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$allowlist</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the given filename of an allowed file type? </p>
<p>Empty allowlist is interpreted as "any file type is allowed" rather than "no file can be uploaded".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>the file name </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$allowlist</td><td>list of allowed file extensions </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>True if the file type is allowed, false if not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa70d90122d2707319b8fb535b1a51518" name="aa70d90122d2707319b8fb535b1a51518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa70d90122d2707319b8fb535b1a51518">&#9670;&#160;</a></span>is_filetype_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::is_filetype_group </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the given string a known filetype group? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|object</td><td>false or the group info </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1fa0495cf86e59fc6f7fff6307d5ed2" name="aa1fa0495cf86e59fc6f7fff6307d5ed2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1fa0495cf86e59fc6f7fff6307d5ed2">&#9670;&#160;</a></span>is_listed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::is_listed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$types</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$list</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Should the file type be considered as a part of the given list. </p>
<p>If multiple types are provided, all of them must be part of the list. Empty type is part of any list. Any type is part of an empty list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$types</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> type or list of types to be checked. </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$list</td><td>An array or string listing the types to check against. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a45db6a07d69b14cf4c7c43c5faf2aacc" name="a45db6a07d69b14cf4c7c43c5faf2aacc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45db6a07d69b14cf4c7c43c5faf2aacc">&#9670;&#160;</a></span>is_whitelisted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::is_whitelisted </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000668">Deprecated</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.10 <a href="https://tracker.moodle.org/browse/MDL-69050" class="el">MDL-69050</a> - please use {</dd></dl>
<dl class="section see"><dt>See also</dt><dd>is_listed} instead. </dd></dl>

</div>
</div>
<a id="afe1952e37137766a36c9915676f6900c" name="afe1952e37137766a36c9915676f6900c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe1952e37137766a36c9915676f6900c">&#9670;&#160;</a></span>looks_like_mimetype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::looks_like_mimetype </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does the given file type looks like a valid MIME type? </p>
<p>This does not check of the MIME type is actually registered here/known.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15083f748d3366128fb1b3c7d23706a7" name="a15083f748d3366128fb1b3c7d23706a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15083f748d3366128fb1b3c7d23706a7">&#9670;&#160;</a></span>normalize_file_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_form\filetypes_util::normalize_file_types </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$types</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the argument into an array (list) of file types. </p>
<p>The list can be separated by whitespace, end of lines, commas, colons and semicolons. Empty values are not returned. Values are converted to lowercase. Duplicates are removed. Glob evaluation is not supported.</p>
<p>The return value can be used as the accepted_types option for the filepicker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$types</td><td>List of file extensions, groups or mimetypes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of strings </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/form/classes/<b>filetypes_util.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 12 2024 02:50:21 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
