<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: auth_plugin_oauth2 Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.4+ (Build: 20230721) (533ce567437)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d7/d88/classauth__plugin__oauth2-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">auth_plugin_oauth2 Class Reference<div class="ingroups"><a class="el" href="../../d0/da9/group__auth__oauth2.html">auth_oauth2</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Plugin for oauth2 authentication.  
 <a href="../../d5/df8/classauth__plugin__oauth2.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for auth_plugin_oauth2:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d5/df8/classauth__plugin__oauth2.png" usemap="#auth_5Fplugin_5Foauth2_map" alt=""/>
  <map id="auth_5Fplugin_5Foauth2_map" name="auth_5Fplugin_5Foauth2_map">
<area href="../../d8/d6f/classauth__oauth2_1_1auth.html" title="Plugin for oauth2 authentication." alt="auth_oauth2\auth" shape="rect" coords="0,56,122,80"/>
<area href="../../da/d7a/classauth__plugin__base.html" title="Abstract authentication plugin." alt="auth_plugin_base" shape="rect" coords="0,0,122,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab347eaa527265c95d88d3313ff2f362a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#ab347eaa527265c95d88d3313ff2f362a">can_be_manually_set</a> ()</td></tr>
<tr class="memdesc:ab347eaa527265c95d88d3313ff2f362a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin can be manually set.  <br /></td></tr>
<tr class="separator:ab347eaa527265c95d88d3313ff2f362a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b591734f14dbd029d08e92b6102e3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a62b591734f14dbd029d08e92b6102e3e">can_change_password</a> ()</td></tr>
<tr class="memdesc:a62b591734f14dbd029d08e92b6102e3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin can change the user's password.  <br /></td></tr>
<tr class="separator:a62b591734f14dbd029d08e92b6102e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4acb0dd80f85a76cce65c030c2a4c4ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a4acb0dd80f85a76cce65c030c2a4c4ab">can_confirm</a> ()</td></tr>
<tr class="memdesc:a4acb0dd80f85a76cce65c030c2a4c4ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows confirming of new users.  <br /></td></tr>
<tr class="separator:a4acb0dd80f85a76cce65c030c2a4c4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c5b62ba41a673ed3150871fd2e6502"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a35c5b62ba41a673ed3150871fd2e6502">can_edit_profile</a> ()</td></tr>
<tr class="memdesc:a35c5b62ba41a673ed3150871fd2e6502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin can edit the users' profile.  <br /></td></tr>
<tr class="separator:a35c5b62ba41a673ed3150871fd2e6502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305811f33b3434e0f6f2147644ba6fb2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a305811f33b3434e0f6f2147644ba6fb2">can_reset_password</a> ()</td></tr>
<tr class="memdesc:a305811f33b3434e0f6f2147644ba6fb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows resetting of internal password.  <br /></td></tr>
<tr class="separator:a305811f33b3434e0f6f2147644ba6fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b46763556093098c7249c6a37d3e701"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a8b46763556093098c7249c6a37d3e701">can_signup</a> ()</td></tr>
<tr class="memdesc:a8b46763556093098c7249c6a37d3e701"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows resetting of internal password.  <br /></td></tr>
<tr class="separator:a8b46763556093098c7249c6a37d3e701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5338477ee95d4ca29237a01c44ae3948"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a5338477ee95d4ca29237a01c44ae3948">change_password_url</a> ()</td></tr>
<tr class="memdesc:a5338477ee95d4ca29237a01c44ae3948"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the URL for changing the user's pw, or empty if the default can be used.  <br /></td></tr>
<tr class="separator:a5338477ee95d4ca29237a01c44ae3948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d31d70587e9d88783ca10e6b224352f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a5d31d70587e9d88783ca10e6b224352f">complete_login</a> (client $client, $redirecturl)</td></tr>
<tr class="memdesc:a5d31d70587e9d88783ca10e6b224352f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete the login process after oauth handshake is complete.  <br /></td></tr>
<tr class="separator:a5d31d70587e9d88783ca10e6b224352f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c4d919a83ab4be998397c1d2cc88b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a63c4d919a83ab4be998397c1d2cc88b4">config_form</a> ($config, $err, $user_fields)</td></tr>
<tr class="memdesc:a63c4d919a83ab4be998397c1d2cc88b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a form for configuring this authentication plugin.  <br /></td></tr>
<tr class="separator:a63c4d919a83ab4be998397c1d2cc88b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa004b95d95943e16ee51d40129235a01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa004b95d95943e16ee51d40129235a01">edit_profile_url</a> ()</td></tr>
<tr class="memdesc:aa004b95d95943e16ee51d40129235a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the URL for editing the users' profile, or empty if the default URL can be used.  <br /></td></tr>
<tr class="separator:aa004b95d95943e16ee51d40129235a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c40b2093ad0bf42b6639510bae58ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a10c40b2093ad0bf42b6639510bae58ac">get_custom_user_profile_fields</a> ()</td></tr>
<tr class="memdesc:a10c40b2093ad0bf42b6639510bae58ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return custom user profile fields.  <br /></td></tr>
<tr class="separator:a10c40b2093ad0bf42b6639510bae58ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9ec5061a1210cd8ba4c12396c170a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#abc9ec5061a1210cd8ba4c12396c170a7">get_description</a> ()</td></tr>
<tr class="memdesc:abc9ec5061a1210cd8ba4c12396c170a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the auth description (from core or own auth lang files)  <br /></td></tr>
<tr class="separator:abc9ec5061a1210cd8ba4c12396c170a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a32620a1d5b5fa9125a959c1bf47f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a34a32620a1d5b5fa9125a959c1bf47f7">get_extrauserinfo</a> ()</td></tr>
<tr class="memdesc:a34a32620a1d5b5fa9125a959c1bf47f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns extra user information.  <br /></td></tr>
<tr class="separator:a34a32620a1d5b5fa9125a959c1bf47f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912176f13f967d374b9fe8de0f3c5832"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a912176f13f967d374b9fe8de0f3c5832">get_password_change_info</a> (stdClass $user)</td></tr>
<tr class="memdesc:a912176f13f967d374b9fe8de0f3c5832"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information on how the specified user can change their password.  <br /></td></tr>
<tr class="separator:a912176f13f967d374b9fe8de0f3c5832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ea9b70395087455ef92c9a494b5dea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ad9ea9b70395087455ef92c9a494b5dea">get_title</a> ()</td></tr>
<tr class="memdesc:ad9ea9b70395087455ef92c9a494b5dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the properly translated human-friendly title of this auth plugin.  <br /></td></tr>
<tr class="separator:ad9ea9b70395087455ef92c9a494b5dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c6a5d8b9b6651f24bcb2edb5901e9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a80c6a5d8b9b6651f24bcb2edb5901e9a">get_userinfo</a> ($username)</td></tr>
<tr class="memdesc:a80c6a5d8b9b6651f24bcb2edb5901e9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the userinfo from the oauth handshake.  <br /></td></tr>
<tr class="separator:a80c6a5d8b9b6651f24bcb2edb5901e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4993714130776c297a1edfcadb97ac50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a4993714130776c297a1edfcadb97ac50">ignore_timeout_hook</a> ($user, $sid, $timecreated, $timemodified)</td></tr>
<tr class="memdesc:a4993714130776c297a1edfcadb97ac50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook called before timing out of database session.  <br /></td></tr>
<tr class="separator:a4993714130776c297a1edfcadb97ac50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000cf01b1b7cb58bf8e6838e50d9224d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a000cf01b1b7cb58bf8e6838e50d9224d">is_captcha_enabled</a> ()</td></tr>
<tr class="memdesc:a000cf01b1b7cb58bf8e6838e50d9224d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether or not the captcha element is enabled.  <br /></td></tr>
<tr class="separator:a000cf01b1b7cb58bf8e6838e50d9224d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784738df78d605fcc572aaa92a7305c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a784738df78d605fcc572aaa92a7305c7">is_configured</a> ()</td></tr>
<tr class="memdesc:a784738df78d605fcc572aaa92a7305c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns false if this plugin is enabled but not configured.  <br /></td></tr>
<tr class="separator:a784738df78d605fcc572aaa92a7305c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1569bde8656528741d987926d3b97aa9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a1569bde8656528741d987926d3b97aa9">is_internal</a> ()</td></tr>
<tr class="memdesc:a1569bde8656528741d987926d3b97aa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin is 'internal'.  <br /></td></tr>
<tr class="separator:a1569bde8656528741d987926d3b97aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed155feb73b65f3f828f17f576f24a18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#aed155feb73b65f3f828f17f576f24a18">is_synchronised_with_external</a> ()</td></tr>
<tr class="memdesc:aed155feb73b65f3f828f17f576f24a18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if moodle should automatically update internal user records with data from external sources using the information from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46" title="Read user information from external database and returns it as array().">auth_plugin_base::get_userinfo()</a>.  <br /></td></tr>
<tr class="separator:aed155feb73b65f3f828f17f576f24a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590266d46d9dd8a153de4f5c9de48966"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a590266d46d9dd8a153de4f5c9de48966">loginpage_hook</a> ()</td></tr>
<tr class="memdesc:a590266d46d9dd8a153de4f5c9de48966"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour of login page.  <br /></td></tr>
<tr class="separator:a590266d46d9dd8a153de4f5c9de48966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac36223453296960bd322f7986887761f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#ac36223453296960bd322f7986887761f">loginpage_idp_list</a> ($wantsurl)</td></tr>
<tr class="memdesc:ac36223453296960bd322f7986887761f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a list of identity providers to display on the login page.  <br /></td></tr>
<tr class="separator:ac36223453296960bd322f7986887761f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a083093742678c20450020780c9078fd9"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a083093742678c20450020780c9078fd9">logoutpage_hook</a> ()</td></tr>
<tr class="memdesc:a083093742678c20450020780c9078fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour of logout page.  <br /></td></tr>
<tr class="separator:a083093742678c20450020780c9078fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d165eca39aaeb1e0d8c7f960423d18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a86d165eca39aaeb1e0d8c7f960423d18">password_expire</a> ($username)</td></tr>
<tr class="memdesc:a86d165eca39aaeb1e0d8c7f960423d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">return number of days to user password expires  <br /></td></tr>
<tr class="separator:a86d165eca39aaeb1e0d8c7f960423d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161b8e58713047dc1afb76f972afb6b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a161b8e58713047dc1afb76f972afb6b0">postlogout_hook</a> ($user)</td></tr>
<tr class="memdesc:a161b8e58713047dc1afb76f972afb6b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post logout hook.  <br /></td></tr>
<tr class="separator:a161b8e58713047dc1afb76f972afb6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d1997a51da39f2eefc7fc7b2da1075"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a71d1997a51da39f2eefc7fc7b2da1075">pre_loginpage_hook</a> ()</td></tr>
<tr class="memdesc:a71d1997a51da39f2eefc7fc7b2da1075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour before going to the login page.  <br /></td></tr>
<tr class="separator:a71d1997a51da39f2eefc7fc7b2da1075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1020896f222cdab32fa490baaa17c1b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a1020896f222cdab32fa490baaa17c1b9">pre_user_login_hook</a> (&amp;$user)</td></tr>
<tr class="memdesc:a1020896f222cdab32fa490baaa17c1b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre user_login hook.  <br /></td></tr>
<tr class="separator:a1020896f222cdab32fa490baaa17c1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ec655c395f6ecbd884e99a47cf26f7"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa1ec655c395f6ecbd884e99a47cf26f7">prelogout_hook</a> ()</td></tr>
<tr class="memdesc:aa1ec655c395f6ecbd884e99a47cf26f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre logout hook.  <br /></td></tr>
<tr class="separator:aa1ec655c395f6ecbd884e99a47cf26f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e9b9a1fbdc5e6b7fc729d4604861e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a32e9b9a1fbdc5e6b7fc729d4604861e5">prevent_local_passwords</a> ()</td></tr>
<tr class="memdesc:a32e9b9a1fbdc5e6b7fc729d4604861e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">We don't want to allow users setting an internal password.  <br /></td></tr>
<tr class="separator:a32e9b9a1fbdc5e6b7fc729d4604861e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ad8b9051a501391812823ca3c38a92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a39ad8b9051a501391812823ca3c38a92">print_confirm_required</a> ($title, $message)</td></tr>
<tr class="memdesc:a39ad8b9051a501391812823ca3c38a92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a page showing that a confirm email was sent with instructions.  <br /></td></tr>
<tr class="separator:a39ad8b9051a501391812823ca3c38a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84c2e2ebb28ea283742d45f9b5f1732"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa84c2e2ebb28ea283742d45f9b5f1732">process_config</a> ($config)</td></tr>
<tr class="memdesc:aa84c2e2ebb28ea283742d45f9b5f1732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes and stores configuration data for this authentication plugin.  <br /></td></tr>
<tr class="separator:aa84c2e2ebb28ea283742d45f9b5f1732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662d92911f5207d0ab679491dcfb99ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a662d92911f5207d0ab679491dcfb99ec">set_extrauserinfo</a> (array $values)</td></tr>
<tr class="memdesc:a662d92911f5207d0ab679491dcfb99ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set extra user information.  <br /></td></tr>
<tr class="separator:a662d92911f5207d0ab679491dcfb99ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77f69d053c0a800f8c6929212ecfcf9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#af77f69d053c0a800f8c6929212ecfcf9">signup_form</a> ()</td></tr>
<tr class="memdesc:af77f69d053c0a800f8c6929212ecfcf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a form to capture user details for account creation.  <br /></td></tr>
<tr class="separator:af77f69d053c0a800f8c6929212ecfcf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff25d207596f3e682e2d152eb5cbf6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a6ff25d207596f3e682e2d152eb5cbf6e">sync_roles</a> ($user)</td></tr>
<tr class="memdesc:a6ff25d207596f3e682e2d152eb5cbf6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync roles for this user - usually creator.  <br /></td></tr>
<tr class="separator:a6ff25d207596f3e682e2d152eb5cbf6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abddb7b52242c8728fc669b8524725377"><td class="memItemLeft" align="right" valign="top"><a id="abddb7b52242c8728fc669b8524725377" name="abddb7b52242c8728fc669b8524725377"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>test_settings</b> ()</td></tr>
<tr class="memdesc:abddb7b52242c8728fc669b8524725377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test the various configured Oauth2 providers. <br /></td></tr>
<tr class="separator:abddb7b52242c8728fc669b8524725377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f41448612b93e326f25264a8a197e39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a0f41448612b93e326f25264a8a197e39">user_authenticated_hook</a> (&amp;$user, $username, $password)</td></tr>
<tr class="memdesc:a0f41448612b93e326f25264a8a197e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post authentication hook.  <br /></td></tr>
<tr class="separator:a0f41448612b93e326f25264a8a197e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8b7342fde4535556bccfa76be1adb44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#aa8b7342fde4535556bccfa76be1adb44">user_confirm</a> ($username, $confirmsecret)</td></tr>
<tr class="memdesc:aa8b7342fde4535556bccfa76be1adb44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirm the new user as registered.  <br /></td></tr>
<tr class="separator:aa8b7342fde4535556bccfa76be1adb44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62731aff3764f0bfde3cbcadf47e8208"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a62731aff3764f0bfde3cbcadf47e8208">user_delete</a> ($olduser)</td></tr>
<tr class="memdesc:a62731aff3764f0bfde3cbcadf47e8208"><td class="mdescLeft">&#160;</td><td class="mdescRight">User delete requested - internal user record is mared as deleted already, username not present anymore.  <br /></td></tr>
<tr class="separator:a62731aff3764f0bfde3cbcadf47e8208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7bb0b4120624dc594e5fe5e29e003b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ad7bb0b4120624dc594e5fe5e29e003b6">user_exists</a> ($username)</td></tr>
<tr class="memdesc:ad7bb0b4120624dc594e5fe5e29e003b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if user exists in external db.  <br /></td></tr>
<tr class="separator:ad7bb0b4120624dc594e5fe5e29e003b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1bd2552a049251bdd391a50d00cab1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#aab1bd2552a049251bdd391a50d00cab1">user_login</a> ($username, $password)</td></tr>
<tr class="memdesc:aab1bd2552a049251bdd391a50d00cab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the username and password work or don't exist and false if the user exists and the password is wrong.  <br /></td></tr>
<tr class="separator:aab1bd2552a049251bdd391a50d00cab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47840a5fd43ae4bae4c0b562f0a0ff94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a47840a5fd43ae4bae4c0b562f0a0ff94">user_signup</a> ($user, $<a class="el" href="../../d0/de1/group__core.html#gadd8686b50f3ac89a272ca980452d10cc">notify</a>=true)</td></tr>
<tr class="memdesc:a47840a5fd43ae4bae4c0b562f0a0ff94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sign up a new user ready for confirmation.  <br /></td></tr>
<tr class="separator:a47840a5fd43ae4bae4c0b562f0a0ff94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c6287e69024da1720e15027c3a347d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa7c6287e69024da1720e15027c3a347d">user_update</a> ($olduser, $newuser)</td></tr>
<tr class="memdesc:aa7c6287e69024da1720e15027c3a347d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the user record is updated.  <br /></td></tr>
<tr class="separator:aa7c6287e69024da1720e15027c3a347d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6360533b7796dfc382899ba361021ec4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a6360533b7796dfc382899ba361021ec4">user_update_password</a> ($user, $newpassword)</td></tr>
<tr class="memdesc:a6360533b7796dfc382899ba361021ec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the user's password.  <br /></td></tr>
<tr class="separator:a6360533b7796dfc382899ba361021ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa597d2387e70cb903c8a5c64e72c1a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#afa597d2387e70cb903c8a5c64e72c1a0">validate_form</a> ($form, &amp;$err)</td></tr>
<tr class="memdesc:afa597d2387e70cb903c8a5c64e72c1a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A chance to validate form data, and last chance to do stuff before it is inserted in config_plugin.  <br /></td></tr>
<tr class="separator:afa597d2387e70cb903c8a5c64e72c1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1e03ec9caaba0ea64e6aa62040a2be20"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a1e03ec9caaba0ea64e6aa62040a2be20">get_identity_providers</a> ($authsequence)</td></tr>
<tr class="memdesc:a1e03ec9caaba0ea64e6aa62040a2be20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the list of enabled identity providers.  <br /></td></tr>
<tr class="separator:a1e03ec9caaba0ea64e6aa62040a2be20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a924e24173d42049499bef18dc4ec9898"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a924e24173d42049499bef18dc4ec9898">prepare_identity_providers_for_output</a> ($identityproviders, <a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a> $output)</td></tr>
<tr class="memdesc:a924e24173d42049499bef18dc4ec9898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a list of identity providers for output.  <br /></td></tr>
<tr class="separator:a924e24173d42049499bef18dc4ec9898"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8ddf152b48963e38db55fb5b6ce0f74b"><td class="memItemLeft" align="right" valign="top"><a id="a8ddf152b48963e38db55fb5b6ce0f74b" name="a8ddf152b48963e38db55fb5b6ce0f74b"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$authtype</b></td></tr>
<tr class="memdesc:a8ddf152b48963e38db55fb5b6ce0f74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authentication plugin type - the same as db field. <br /></td></tr>
<tr class="separator:a8ddf152b48963e38db55fb5b6ce0f74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a250f49853b26416e956538ed16a74d"><td class="memItemLeft" align="right" valign="top"><a id="a5a250f49853b26416e956538ed16a74d" name="a5a250f49853b26416e956538ed16a74d"></a>
object&#160;</td><td class="memItemRight" valign="bottom"><b>$config</b></td></tr>
<tr class="memdesc:a5a250f49853b26416e956538ed16a74d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The configuration details for the plugin. <br /></td></tr>
<tr class="separator:a5a250f49853b26416e956538ed16a74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827d7be85f7daf2354d7bd14f44877cc"><td class="memItemLeft" align="right" valign="top"><a id="a827d7be85f7daf2354d7bd14f44877cc" name="a827d7be85f7daf2354d7bd14f44877cc"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$userfields</b> = core_user::AUTHSYNCFIELDS</td></tr>
<tr class="separator:a827d7be85f7daf2354d7bd14f44877cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7cddbf9e25745e24af8155b9c66caa55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a7cddbf9e25745e24af8155b9c66caa55">update_user_record</a> ($username, $updatekeys=false, $triggerevent=false, $suspenduser=false)</td></tr>
<tr class="memdesc:a7cddbf9e25745e24af8155b9c66caa55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a local user record from an external source.  <br /></td></tr>
<tr class="separator:a7cddbf9e25745e24af8155b9c66caa55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="memItemLeft" align="right" valign="top"><a id="ac560e8ce95e5d461b5426a5d5ba9cde8" name="ac560e8ce95e5d461b5426a5d5ba9cde8"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$errorlogtag</b> = ''</td></tr>
<tr class="memdesc:ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The tag we want to prepend to any error log messages. <br /></td></tr>
<tr class="separator:ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952cfbe040f1b09ce155484a79f3fc9a"><td class="memItemLeft" align="right" valign="top"><a id="a952cfbe040f1b09ce155484a79f3fc9a" name="a952cfbe040f1b09ce155484a79f3fc9a"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$extrauserinfo</b> = []</td></tr>
<tr class="memdesc:a952cfbe040f1b09ce155484a79f3fc9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores extra information available to the logged in event. <br /></td></tr>
<tr class="separator:a952cfbe040f1b09ce155484a79f3fc9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Plugin for oauth2 authentication. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2017 Damyon Wiese </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU Public License </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab347eaa527265c95d88d3313ff2f362a" name="ab347eaa527265c95d88d3313ff2f362a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab347eaa527265c95d88d3313ff2f362a">&#9670;&#160;</a></span>can_be_manually_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::can_be_manually_set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if plugin can be manually set. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ac585c783ac815fe76affc377a1085942">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a62b591734f14dbd029d08e92b6102e3e" name="a62b591734f14dbd029d08e92b6102e3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b591734f14dbd029d08e92b6102e3e">&#9670;&#160;</a></span>can_change_password()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::can_change_password </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin can change the user's password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#accac09bd5ca0353b2fddb1245c1884bb">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a4acb0dd80f85a76cce65c030c2a4c4ab" name="a4acb0dd80f85a76cce65c030c2a4c4ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4acb0dd80f85a76cce65c030c2a4c4ab">&#9670;&#160;</a></span>can_confirm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_confirm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if plugin allows confirming of new users. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a3153b4eb1cdcd360bcb21cb142e481a7">auth_plugin_email</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a85b6d711ccf4da0a0c2f80d655cf5715">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a35c5b62ba41a673ed3150871fd2e6502" name="a35c5b62ba41a673ed3150871fd2e6502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c5b62ba41a673ed3150871fd2e6502">&#9670;&#160;</a></span>can_edit_profile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_edit_profile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin can edit the users' profile. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a305811f33b3434e0f6f2147644ba6fb2" name="a305811f33b3434e0f6f2147644ba6fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a305811f33b3434e0f6f2147644ba6fb2">&#9670;&#160;</a></span>can_reset_password()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::can_reset_password </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if plugin allows resetting of internal password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a6315b78e1ae3e7bc53595bb323e70c97">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a8b46763556093098c7249c6a37d3e701" name="a8b46763556093098c7249c6a37d3e701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b46763556093098c7249c6a37d3e701">&#9670;&#160;</a></span>can_signup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_signup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if plugin allows resetting of internal password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a32c604fa9a3bc983336e4747f6e7b58f">auth_plugin_email</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a2c66d0a4548c41aebb20daa148c38507">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a5338477ee95d4ca29237a01c44ae3948" name="a5338477ee95d4ca29237a01c44ae3948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5338477ee95d4ca29237a01c44ae3948">&#9670;&#160;</a></span>change_password_url()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::change_password_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the URL for changing the user's pw, or empty if the default can be used. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a35518ee2fa3510b2361235c04fc40d24">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a5d31d70587e9d88783ca10e6b224352f" name="a5d31d70587e9d88783ca10e6b224352f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d31d70587e9d88783ca10e6b224352f">&#9670;&#160;</a></span>complete_login()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::complete_login </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/dc2/classcore_1_1oauth2_1_1client.html">client</a>&#160;</td>
          <td class="paramname"><em>$client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$redirecturl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Complete the login process after oauth handshake is complete. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/dc2/classcore_1_1oauth2_1_1client.html" title="Configurable oauth2 client class.">core::oauth2::client</a></td><td class="paramname">$client</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$redirecturl</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td>Either redirects or throws an exception </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63c4d919a83ab4be998397c1d2cc88b4" name="a63c4d919a83ab4be998397c1d2cc88b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c4d919a83ab4be998397c1d2cc88b4">&#9670;&#160;</a></span>config_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::config_form </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints a form for configuring this authentication plugin. </p>
<p>This function is called from admin/auth.php, and outputs a full page with a form for configuring this plugin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$config</td><td></td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$err</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$user_fields</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000158">Deprecated:</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<a id="aa004b95d95943e16ee51d40129235a01" name="aa004b95d95943e16ee51d40129235a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa004b95d95943e16ee51d40129235a01">&#9670;&#160;</a></span>edit_profile_url()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::edit_profile_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the URL for editing the users' profile, or empty if the default URL can be used. </p>
<p>This method is used if <a class="el" href="../../da/d7a/classauth__plugin__base.html#a35c5b62ba41a673ed3150871fd2e6502" title="Returns true if this authentication plugin can edit the users&#39; profile.">can_edit_profile()</a> returns true. This method is called only when user is logged in, it may use global $USER.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td>url of the profile page or null if standard used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10c40b2093ad0bf42b6639510bae58ac" name="a10c40b2093ad0bf42b6639510bae58ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10c40b2093ad0bf42b6639510bae58ac">&#9670;&#160;</a></span>get_custom_user_profile_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_custom_user_profile_fields </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return custom user profile fields. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>list of custom fields. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc9ec5061a1210cd8ba4c12396c170a7" name="abc9ec5061a1210cd8ba4c12396c170a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9ec5061a1210cd8ba4c12396c170a7">&#9670;&#160;</a></span>get_description()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_description </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the auth description (from core or own auth lang files) </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The description </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a34a32620a1d5b5fa9125a959c1bf47f7" name="a34a32620a1d5b5fa9125a959c1bf47f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a32620a1d5b5fa9125a959c1bf47f7">&#9670;&#160;</a></span>get_extrauserinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_extrauserinfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns extra user information. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of keys and values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e03ec9caaba0ea64e6aa62040a2be20" name="a1e03ec9caaba0ea64e6aa62040a2be20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e03ec9caaba0ea64e6aa62040a2be20">&#9670;&#160;</a></span>get_identity_providers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::get_identity_providers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$authsequence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the list of enabled identity providers. </p>
<p>Each identity provider data contains the keys url, name and iconurl (or icon). See the documentation of <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae12f9d89c198f34eb6a440a02c81a873">auth_plugin_base::loginpage_idp_list()</a> for detailed description of the returned structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$authsequence</td><td>site's auth sequence (list of auth plugins ordered) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>List of arrays describing the identity providers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a912176f13f967d374b9fe8de0f3c5832" name="a912176f13f967d374b9fe8de0f3c5832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912176f13f967d374b9fe8de0f3c5832">&#9670;&#160;</a></span>get_password_change_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::get_password_change_info </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns information on how the specified user can change their password. </p>
<p>The password of the oauth2 accounts is not stored in <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>A user object </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string[]</td><td>An array of strings with keys subject and message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a64c1c61db8de15e6b054abff97cc8087">auth_plugin_base</a>.</p>

</div>
</div>
<a id="ad9ea9b70395087455ef92c9a494b5dea" name="ad9ea9b70395087455ef92c9a494b5dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ea9b70395087455ef92c9a494b5dea">&#9670;&#160;</a></span>get_title()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_title </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the properly translated human-friendly title of this auth plugin. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000061">Todo:</a></b></dt><dd>Document this function </dd></dl>

</div>
</div>
<a id="a80c6a5d8b9b6651f24bcb2edb5901e9a" name="a80c6a5d8b9b6651f24bcb2edb5901e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80c6a5d8b9b6651f24bcb2edb5901e9a">&#9670;&#160;</a></span>get_userinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::get_userinfo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the userinfo from the oauth handshake. </p>
<p>Will only be valid for the logged in user. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a4993714130776c297a1edfcadb97ac50" name="a4993714130776c297a1edfcadb97ac50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4993714130776c297a1edfcadb97ac50">&#9670;&#160;</a></span>ignore_timeout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::ignore_timeout_hook </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timecreated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timemodified</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook called before timing out of database session. </p>
<p>This is useful for SSO and MNET.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sid</td><td>session id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timecreated</td><td>start of session </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timemodified</td><td>user last seen </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means do not timeout session yet </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a000cf01b1b7cb58bf8e6838e50d9224d" name="a000cf01b1b7cb58bf8e6838e50d9224d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000cf01b1b7cb58bf8e6838e50d9224d">&#9670;&#160;</a></span>is_captcha_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_captcha_enabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether or not the captcha element is enabled. </p>
<p>@abstract Implement in child classes </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a40a300d76a58f69a8ad34704ba0d5763">auth_plugin_email</a>.</p>

</div>
</div>
<a id="a784738df78d605fcc572aaa92a7305c7" name="a784738df78d605fcc572aaa92a7305c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a784738df78d605fcc572aaa92a7305c7">&#9670;&#160;</a></span>is_configured()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_configured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns false if this plugin is enabled but not configured. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a2de56f35f7188942d95fd01716e4ed8d">auth_plugin_db</a>.</p>

</div>
</div>
<a id="a1569bde8656528741d987926d3b97aa9" name="a1569bde8656528741d987926d3b97aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1569bde8656528741d987926d3b97aa9">&#9670;&#160;</a></span>is_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::is_internal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin is 'internal'. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a0dd33f08da51b61b3d8ab9310f24de64">auth_plugin_base</a>.</p>

</div>
</div>
<a id="aed155feb73b65f3f828f17f576f24a18" name="aed155feb73b65f3f828f17f576f24a18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed155feb73b65f3f828f17f576f24a18">&#9670;&#160;</a></span>is_synchronised_with_external()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::is_synchronised_with_external </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if moodle should automatically update internal user records with data from external sources using the information from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46" title="Read user information from external database and returns it as array().">auth_plugin_base::get_userinfo()</a>. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means automatically copy data from ext to user table </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a77ad6ffe25b6c9035ca36b0fdf755918">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a590266d46d9dd8a153de4f5c9de48966" name="a590266d46d9dd8a153de4f5c9de48966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a590266d46d9dd8a153de4f5c9de48966">&#9670;&#160;</a></span>loginpage_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object auth_plugin_base::loginpage_hook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for overriding behaviour of login page. </p>
<p>This method is called from login/index.php page for all enabled auth plugins.</p>
<p>@global object </p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#adcb7546d888d2f85db0199211dcc0695">auth_plugin_cas</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a751f1ecf497d528e4b564c99a7db9452">auth_plugin_ldap</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#ad284bef554b49b84a56ebec16188de2d">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="ac36223453296960bd322f7986887761f" name="ac36223453296960bd322f7986887761f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac36223453296960bd322f7986887761f">&#9670;&#160;</a></span>loginpage_idp_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::loginpage_idp_list </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$wantsurl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a list of identity providers to display on the login page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;<a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td class="paramname">$wantsurl</td><td>The requested URL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>List of arrays with keys url, iconurl and name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae12f9d89c198f34eb6a440a02c81a873">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a083093742678c20450020780c9078fd9" name="a083093742678c20450020780c9078fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a083093742678c20450020780c9078fd9">&#9670;&#160;</a></span>logoutpage_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object auth_plugin_base::logoutpage_hook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for overriding behaviour of logout page. </p>
<p>This method is called from login/logout.php page for all enabled auth plugins.</p>
<p>@global string </p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a23a60b3af0398a0da55df45a4ef9d725">auth_plugin_cas</a>, <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a74787b6d221adbbfbeb3350369a1ddd8">auth_plugin_mnet</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#ab748488d44647ede5363c5e116af861a">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="a86d165eca39aaeb1e0d8c7f960423d18" name="a86d165eca39aaeb1e0d8c7f960423d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d165eca39aaeb1e0d8c7f960423d18">&#9670;&#160;</a></span>password_expire()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::password_expire </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return number of days to user password expires </p>
<p>If userpassword does not expire it should return 0. If password is already expired it should return negative value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$username</td><td>username (with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">integer</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#aa987b6f2306c15122a197ba388ffe5d2">auth_plugin_ldap</a>, and <a class="el" href="../../d9/d15/classauth__plugin__manual.html#a8617d5fed10af0e509e433fb4ddec24f">auth_plugin_manual</a>.</p>

</div>
</div>
<a id="a161b8e58713047dc1afb76f972afb6b0" name="a161b8e58713047dc1afb76f972afb6b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161b8e58713047dc1afb76f972afb6b0">&#9670;&#160;</a></span>postlogout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::postlogout_hook </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Post logout hook. </p>
<p>This method is used after moodle logout by auth classes to execute server logout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>clone of USER object before the user session was terminated </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a7fdf311a49fd87253c5fefaed914d4f5">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a71d1997a51da39f2eefc7fc7b2da1075" name="a71d1997a51da39f2eefc7fc7b2da1075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d1997a51da39f2eefc7fc7b2da1075">&#9670;&#160;</a></span>pre_loginpage_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::pre_loginpage_hook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for overriding behaviour before going to the login page. </p>
<p>This method is called from require_login from potentially any page for all enabled auth plugins and gives each plugin a chance to redirect directly to an external login page, or to instantly login a user where possible.</p>
<p>If an auth plugin implements this hook, it must not rely on ONLY this hook in order to work, as there are many ways a user can browse directly to the standard login page. As a general rule in this case you should also implement the loginpage_hook as well. </p>

</div>
</div>
<a id="a1020896f222cdab32fa490baaa17c1b9" name="a1020896f222cdab32fa490baaa17c1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1020896f222cdab32fa490baaa17c1b9">&#9670;&#160;</a></span>pre_user_login_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::pre_user_login_hook </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre user_login hook. </p>
<p>This method is called from <a class="el" href="../../d0/de1/group__core.html#ga7e4714dc516fbea87d224bbb75b57bc6" title="Authenticates a user against the chosen authentication mechanism.">authenticate_user_login()</a> right after the user object is generated. This gives the auth plugins an option to make adjustments before the verification process starts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>user object, later used for $USER </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1ec655c395f6ecbd884e99a47cf26f7" name="aa1ec655c395f6ecbd884e99a47cf26f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1ec655c395f6ecbd884e99a47cf26f7">&#9670;&#160;</a></span>prelogout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object auth_plugin_base::prelogout_hook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre logout hook. </p>
<p>This method is called from require_logout() for all enabled auth plugins, </p>

<p>Reimplemented in <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a872238d9883672941a1c12e9cea72500">auth_plugin_mnet</a>.</p>

</div>
</div>
<a id="a924e24173d42049499bef18dc4ec9898" name="a924e24173d42049499bef18dc4ec9898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a924e24173d42049499bef18dc4ec9898">&#9670;&#160;</a></span>prepare_identity_providers_for_output()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::prepare_identity_providers_for_output </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$identityproviders</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a>&#160;</td>
          <td class="paramname"><em>$output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare a list of identity providers for output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$identityproviders</td><td>as returned by <a class="el" href="../../">self::get_identity_providers()</a> </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a></td><td class="paramname">$output</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the identity providers ready for output </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a32e9b9a1fbdc5e6b7fc729d4604861e5" name="a32e9b9a1fbdc5e6b7fc729d4604861e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e9b9a1fbdc5e6b7fc729d4604861e5">&#9670;&#160;</a></span>prevent_local_passwords()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::prevent_local_passwords </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We don't want to allow users setting an internal password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a261ade2764b3aeb66582c5b8c889aee3">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a39ad8b9051a501391812823ca3c38a92" name="a39ad8b9051a501391812823ca3c38a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39ad8b9051a501391812823ca3c38a92">&#9670;&#160;</a></span>print_confirm_required()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::print_confirm_required </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print a page showing that a confirm email was sent with instructions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$title</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$message</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa84c2e2ebb28ea283742d45f9b5f1732" name="aa84c2e2ebb28ea283742d45f9b5f1732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84c2e2ebb28ea283742d45f9b5f1732">&#9670;&#160;</a></span>process_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::process_config </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes and stores configuration data for this authentication plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>object with submitted configuration settings (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000160">Deprecated:</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<a id="a662d92911f5207d0ab679491dcfb99ec" name="a662d92911f5207d0ab679491dcfb99ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a662d92911f5207d0ab679491dcfb99ec">&#9670;&#160;</a></span>set_extrauserinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::set_extrauserinfo </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$values</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set extra user information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>Any Key value pair. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af77f69d053c0a800f8c6929212ecfcf9" name="af77f69d053c0a800f8c6929212ecfcf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af77f69d053c0a800f8c6929212ecfcf9">&#9670;&#160;</a></span>signup_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::signup_form </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a form to capture user details for account creation. </p>
<p>This is used in /login/signup.php. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">moodle_form</td><td>A form which edits a record from the user table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6ff25d207596f3e682e2d152eb5cbf6e" name="a6ff25d207596f3e682e2d152eb5cbf6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ff25d207596f3e682e2d152eb5cbf6e">&#9670;&#160;</a></span>sync_roles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::sync_roles </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sync roles for this user - usually creator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$user</td><td>object user object (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a9a5216049c56fde6953a7d5460089a46">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a7cddbf9e25745e24af8155b9c66caa55" name="a7cddbf9e25745e24af8155b9c66caa55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cddbf9e25745e24af8155b9c66caa55">&#9670;&#160;</a></span>update_user_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::update_user_record </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$updatekeys</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$triggerevent</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$suspenduser</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update a local user record from an external source. </p>
<p>This is a lighter version of the one in moodlelib &ndash; won't do expensive ops such as enrolment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$updatekeys</td><td>fields to update, false updates all fields. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$triggerevent</td><td>set false if user_updated event should not be triggered. This will not affect user_password_updated event triggering. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$suspenduser</td><td>Should the user be suspended? </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|bool</td><td>updated user record or false if there is no new info to update. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0f41448612b93e326f25264a8a197e39" name="a0f41448612b93e326f25264a8a197e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f41448612b93e326f25264a8a197e39">&#9670;&#160;</a></span>user_authenticated_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_authenticated_hook </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Post authentication hook. </p>
<p>This method is called from <a class="el" href="../../d0/de1/group__core.html#ga7e4714dc516fbea87d224bbb75b57bc6" title="Authenticates a user against the chosen authentication mechanism.">authenticate_user_login()</a> for all enabled auth plugins.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>user object, later used for $USER </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>(with system magic quotes) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>plain text password (with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa8b7342fde4535556bccfa76be1adb44" name="aa8b7342fde4535556bccfa76be1adb44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8b7342fde4535556bccfa76be1adb44">&#9670;&#160;</a></span>user_confirm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::user_confirm </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$confirmsecret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Confirm the new user as registered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$confirmsecret</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a5c859c2ce584ade45e98a11683647ae1">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a62731aff3764f0bfde3cbcadf47e8208" name="a62731aff3764f0bfde3cbcadf47e8208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62731aff3764f0bfde3cbcadf47e8208">&#9670;&#160;</a></span>user_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_delete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$olduser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>User delete requested - internal user record is mared as deleted already, username not present anymore. </p>
<p>Do any action in external database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>Userobject before delete (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad7bb0b4120624dc594e5fe5e29e003b6" name="ad7bb0b4120624dc594e5fe5e29e003b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7bb0b4120624dc594e5fe5e29e003b6">&#9670;&#160;</a></span>user_exists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_exists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if user exists in external db. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>(with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a9923fc8ca736e7572db178e5332de04a">auth_plugin_db</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#aa6d28cff576e8323b3c0d106c4c20123">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="aab1bd2552a049251bdd391a50d00cab1" name="aab1bd2552a049251bdd391a50d00cab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab1bd2552a049251bdd391a50d00cab1">&#9670;&#160;</a></span>user_login()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_oauth2\auth::user_login </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the username and password work or don't exist and false if the user exists and the password is wrong. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>The username </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>The password </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Authentication success or failure. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a6058156bc816a3fe164212cf697755ec">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a47840a5fd43ae4bae4c0b562f0a0ff94" name="a47840a5fd43ae4bae4c0b562f0a0ff94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47840a5fd43ae4bae4c0b562f0a0ff94">&#9670;&#160;</a></span>user_signup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_signup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$notify</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sign up a new user ready for confirmation. </p>
<p>Password is passed in plaintext.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>new user object </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$notify</td><td>print notice with link and terminate </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#ae8c1d5cac98ba1218e3712cd14a7de9c">auth_plugin_email</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a3f8255295d0b40d056c29f21e8e66cb1">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="aa7c6287e69024da1720e15027c3a347d" name="aa7c6287e69024da1720e15027c3a347d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7c6287e69024da1720e15027c3a347d">&#9670;&#160;</a></span>user_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$olduser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$newuser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the user record is updated. </p>
<p>Modifies user in external database. It takes olduser (before changes) and newuser (after changes) compares information saved modified information to external db.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$olduser</td><td>Userobject before modifications (without system magic quotes) </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$newuser</td><td>Userobject new modified userobject (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>true if updated or update ignored; false if error </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a0a8b36eb133a83543393610ef55482e5">auth_plugin_db</a>, and <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ad97823078da1da9936ed62c394adda7e">auth_plugin_ldap</a>.</p>

</div>
</div>
<a id="a6360533b7796dfc382899ba361021ec4" name="a6360533b7796dfc382899ba361021ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6360533b7796dfc382899ba361021ec4">&#9670;&#160;</a></span>user_update_password()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_update_password </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$newpassword</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the user's password. </p>
<p>In previous versions of <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a>, the function auth_user_update_password accepted a username as the first parameter. The revised function expects a user object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>User table object </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newpassword</td><td>Plaintext password</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True on success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a9a9bed319174698e3979530eacf420f2">auth_plugin_db</a>, <a class="el" href="../../df/de4/classauth__plugin__email.html#aa4d3b930dbbeeded8df347cb6a00973d">auth_plugin_email</a>, <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a7c1d470409555ef70bf8490ff2656639">auth_plugin_ldap</a>, <a class="el" href="../../d9/d15/classauth__plugin__manual.html#ae4d1730f2e250c648564cd59097fc2bd">auth_plugin_manual</a>, <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#a35eed723a653a0c3c99d8deab68d1822">auth_plugin_nologin</a>, <a class="el" href="../../d6/d50/classauth__plugin__none.html#aad8ddf63e7cf28b9c02b24bd5288888b">auth_plugin_none</a>, and <a class="el" href="../../d2/dac/classauth__plugin__webservice.html#a62fd82defafaf8ed66f90632a2d32bb4">auth_plugin_webservice</a>.</p>

</div>
</div>
<a id="afa597d2387e70cb903c8a5c64e72c1a0" name="afa597d2387e70cb903c8a5c64e72c1a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa597d2387e70cb903c8a5c64e72c1a0">&#9670;&#160;</a></span>validate_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::validate_form </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A chance to validate form data, and last chance to do stuff before it is inserted in config_plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">object</td><td>object with submitted configuration settings (without system magic quotes) </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$err</td><td>array of error messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000159">Deprecated:</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>auth/oauth2/auth.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 23 2023 02:58:28 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
