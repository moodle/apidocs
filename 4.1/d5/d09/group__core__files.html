<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_files</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.4+ (Build: 20230616) (64b701190d3)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">core_files</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:d9/d0f/namespacecore"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d0f/namespacecore.html">core</a></td></tr>
<tr class="memdesc:d9/d0f/namespacecore"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dd/def/namespacecore__files"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/def/namespacecore__files.html">core_files</a></td></tr>
<tr class="memdesc:dd/def/namespacecore__files"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:db/d82/namespacecore__files_1_1external"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d82/namespacecore__files_1_1external.html">core_files\external</a></td></tr>
<tr class="memdesc:db/d82/namespacecore__files_1_1external"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d6/dff/namespacecore__files_1_1external_1_1delete"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dff/namespacecore__files_1_1external_1_1delete.html">core_files\external\delete</a></td></tr>
<tr class="memdesc:d6/dff/namespacecore__files_1_1external_1_1delete"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d2/d3a/namespacecore__files_1_1external_1_1get"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3a/namespacecore__files_1_1external_1_1get.html">core_files\external\get</a></td></tr>
<tr class="memdesc:d2/d3a/namespacecore__files_1_1external_1_1get"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d0/dd3/namespacecore__files_1_1local_1_1archive__writer"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/namespacecore__files_1_1local_1_1archive__writer.html">core_files\local\archive_writer</a></td></tr>
<tr class="memdesc:d0/dd3/namespacecore__files_1_1local_1_1archive__writer"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d3/d73/namespacecore__files_1_1privacy"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d73/namespacecore__files_1_1privacy.html">core_files\privacy</a></td></tr>
<tr class="memdesc:d3/d73/namespacecore__files_1_1privacy"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d5/d5a/namespacecore__files_1_1reportbuilder_1_1datasource"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d5a/namespacecore__files_1_1reportbuilder_1_1datasource.html">core_files\reportbuilder\datasource</a></td></tr>
<tr class="memdesc:d5/d5a/namespacecore__files_1_1reportbuilder_1_1datasource"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d1/d37/namespacecore__files_1_1reportbuilder_1_1local_1_1entities"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d37/namespacecore__files_1_1reportbuilder_1_1local_1_1entities.html">core_files\reportbuilder\local\entities</a></td></tr>
<tr class="memdesc:d1/d37/namespacecore__files_1_1reportbuilder_1_1local_1_1entities"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d3/d65/namespacecore__files_1_1task"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d65/namespacecore__files_1_1task.html">core_files\task</a></td></tr>
<tr class="memdesc:d3/d65/namespacecore__files_1_1task"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d61/classcore_1_1content.html">core\content</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Content API allows all parts of <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> to determine details about content within a component, or plugintype.  <a href="../../d5/d61/classcore_1_1content.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de8/classcore__files_1_1archive__writer.html">core_files\archive_writer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Each file archive type must extend this class.  <a href="../../db/de8/classcore__files_1_1archive__writer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de0/classcore__files_1_1conversion.html">core_files\conversion</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class representing a conversion currently in progress.  <a href="../../d7/de0/classcore__files_1_1conversion.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d84/classcore__files_1_1converter.html">core_files\converter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class for converting files between different formats using unoconv.  <a href="../../d7/d84/classcore__files_1_1converter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbd/interfacecore__files_1_1converter__interface.html">core_files\converter_interface</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class for converting files between different file formats.  <a href="../../d2/dbd/interfacecore__files_1_1converter__interface.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df7/classcore__files_1_1external_1_1delete_1_1draft.html">core_files\external\delete\draft</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the external method for deleting draft files.  <a href="../../dc/df7/classcore__files_1_1external_1_1delete_1_1draft.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6c/classcore__files_1_1external_1_1get_1_1unused__draft.html">core_files\external\get\unused_draft</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a new draft itemid for the current user.  <a href="../../d1/d6c/classcore__files_1_1external_1_1get_1_1unused__draft.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d09/classcore__files_1_1external_1_1stored__file__exporter.html">core_files\external\stored_file_exporter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class for exporting <a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> data.  <a href="../../d0/d09/classcore__files_1_1external_1_1stored__file__exporter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dce/interfacecore__files_1_1local_1_1archive__writer_1_1file__writer__interface.html">core_files\local\archive_writer\file_writer_interface</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface used by archives that write to files.  <a href="../../d4/dce/interfacecore__files_1_1local_1_1archive__writer_1_1file__writer__interface.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d9c/interfacecore__files_1_1local_1_1archive__writer_1_1stream__writer__interface.html">core_files\local\archive_writer\stream_writer_interface</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface used by archives that write to streams.  <a href="../../db/d9c/interfacecore__files_1_1local_1_1archive__writer_1_1stream__writer__interface.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d85/classcore__files_1_1local_1_1archive__writer_1_1zip__writer.html">core_files\local\archive_writer\zip_writer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class used for creating ZIP archives.  <a href="../../d8/d85/classcore__files_1_1local_1_1archive__writer_1_1zip__writer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d67/classcore__files_1_1privacy_1_1provider.html">core_files\privacy\provider</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data provider class.  <a href="../../de/d67/classcore__files_1_1privacy_1_1provider.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d07/classcore__files_1_1reportbuilder_1_1datasource_1_1files.html">core_files\reportbuilder\datasource\files</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de5/classcore__files_1_1reportbuilder_1_1local_1_1entities_1_1file.html">core_files\reportbuilder\local\entities\file</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d29/classcore__files_1_1task_1_1conversion__cleanup__task.html">core_files\task\conversion_cleanup_task</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A scheduled task to clear up old conversion records.  <a href="../../de/d29/classcore__files_1_1task_1_1conversion__cleanup__task.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d00/classcore__files__external.html">core_files_external</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/da6/classcore__form_1_1privacy_1_1provider.html">core_form\privacy\provider</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the privacy API for the <a class="el" href="../../d0/d5c/namespacecore__form.html" title="&#160;">core_form</a> subsystem.  <a href="../../d4/da6/classcore__form_1_1privacy_1_1provider.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d9f/classcurl.html">curl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classcurl__cache.html">curl_cache</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is used by cURL class, use case:  <a href="../../d5/d4d/classcurl__cache.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8c/classfile__access__exception.html">file_access_exception</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d59/classfile__archive.html">file_archive</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Each file archive type must extend this class.  <a href="../../d0/d59/classfile__archive.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d38/classfile__browser.html">file_browser</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/daf/classfile__exception.html">file_exception</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dff/classfile__info.html">file_info</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class for things in the tree navigated by <a class="el" href="../../d3/d38/classfile__browser.html">file_browser</a>.  <a href="../../de/dff/classfile__info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d81/classfile__info__area__backup__section.html">file_info_area_backup_section</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of course section backup area.  <a href="../../d3/d81/classfile__info__area__backup__section.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classfile__info__area__course__legacy.html">file_info_area_course_legacy</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subclass of <a class="el" href="../../d6/d42/classfile__info__stored.html" title="Represents an actual file or folder - a row in the file table in the tree navigated by file_browser.">file_info_stored</a> for files in the course files area.  <a href="../../df/d6d/classfile__info__area__course__legacy.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9a/classfile__info__area__course__section.html">file_info_area_course_section</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a course category context in the tree navigated by <a class="el" href="../../d3/d38/classfile__browser.html">file_browser</a>.  <a href="../../dd/d9a/classfile__info__area__course__section.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d1a/classfile__info__context__course.html">file_info_context_course</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a course context in the tree navigated by <a class="el" href="../../d3/d38/classfile__browser.html">file_browser</a>.  <a href="../../d6/d1a/classfile__info__context__course.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd9/classfile__info__context__coursecat.html">file_info_context_coursecat</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a course category context in the tree navigated by <a class="el" href="../../d3/d38/classfile__browser.html">file_browser</a>.  <a href="../../d0/dd9/classfile__info__context__coursecat.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d52/classfile__info__context__module.html">file_info_context_module</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a module context in the tree navigated by <a class="el" href="../../d3/d38/classfile__browser.html">file_browser</a>.  <a href="../../d8/d52/classfile__info__context__module.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d23/classfile__info__context__system.html">file_info_context_system</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the system context in the tree navigated by <a class="el" href="../../d3/d38/classfile__browser.html">file_browser</a>.  <a href="../../d4/d23/classfile__info__context__system.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d65/classfile__info__context__user.html">file_info_context_user</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a user context in the tree navigated by <a class="el" href="../../d3/d38/classfile__browser.html">file_browser</a>.  <a href="../../d2/d65/classfile__info__context__user.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/classfile__info__stored.html">file_info_stored</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents an actual file or folder - a row in the file table in the tree navigated by <a class="el" href="../../d3/d38/classfile__browser.html">file_browser</a>.  <a href="../../d6/d42/classfile__info__stored.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d4d/classfile__packer.html">file_packer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract class for archiving of files.  <a href="../../df/d4d/classfile__packer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc6/classfile__pool__content__exception.html">file_pool_content_exception</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dd5/interfacefile__progress.html">file_progress</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db4/classfile__reference__exception.html">file_reference_exception</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddd/classfile__storage.html">file_storage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d66/classfile__system.html">file_system</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da8/classfile__system__filedir.html">file_system_filedir</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dfe/classmbz__packer.html">mbz_packer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d0b/classstored__file__creation__exception.html">stored_file_creation_exception</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db1/classtgz__extractor.html">tgz_extractor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts .tar.gz files (POSIX format).  <a href="../../dc/db1/classtgz__extractor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dcb/interfacetgz__extractor__handler.html">tgz_extractor_handler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for callback from <a class="el" href="../../dc/db1/classtgz__extractor.html#a23e61acb463eba04be5ad8f2cd852cf3" title="Extracts the archive.">tgz_extractor::extract</a>.  <a href="../../d2/dcb/interfacetgz__extractor__handler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d04/classtgz__packer.html">tgz_packer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc2/classtgz__packer__extract__to__pathname.html">tgz_packer_extract_to_pathname</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles extraction to pathname.  <a href="../../d8/dc2/classtgz__packer__extract__to__pathname.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df2/classtgz__packer__extract__to__storage.html">tgz_packer_extract_to_storage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles extraction to file storage.  <a href="../../d5/df2/classtgz__packer__extract__to__storage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d13/classvirtual__root__file.html">virtual_root_file</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the root directory of an empty file area in the tree navigated by <a class="el" href="../../d3/d38/classfile__browser.html">file_browser</a>.  <a href="../../df/d13/classvirtual__root__file.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dfe/classzip__archive.html">zip_archive</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0e/classzip__packer.html">zip_packer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae73b3d9690c8962222a2ebd0eb4d384f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gae73b3d9690c8962222a2ebd0eb4d384f">byteserving_send_file</a> ($handle, $mimetype, $ranges, $filesize)</td></tr>
<tr class="memdesc:gae73b3d9690c8962222a2ebd0eb4d384f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send requested byterange of file.  <br /></td></tr>
<tr class="separator:gae73b3d9690c8962222a2ebd0eb4d384f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2a61814cfc45a7903e00bf746acbd0e"><td class="memItemLeft" align="right" valign="top"><a id="gaa2a61814cfc45a7903e00bf746acbd0e" name="gaa2a61814cfc45a7903e00bf746acbd0e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>download_file_content</b> ($url, $<a class="el" href="../../dc/d71/group___imap___client.html#gafe94898c7bd186ef2727a4dff03b5109">headers</a>=null, $postdata=null, $fullresponse=false, $timeout=300, $connecttimeout=20, $skipcertverify=false, $tofile=NULL, $calctimeout=false)</td></tr>
<tr class="separator:gaa2a61814cfc45a7903e00bf746acbd0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf33fb0e605541f44ae5f825186cb58d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gaf33fb0e605541f44ae5f825186cb58d4">file_area_contains_subdirs</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $component, $filearea, $itemid)</td></tr>
<tr class="memdesc:gaf33fb0e605541f44ae5f825186cb58d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects if area contains subdirs, this is intended for file areas that are attached to content migrated from 1.x where subdirs were allowed everywhere.  <br /></td></tr>
<tr class="separator:gaf33fb0e605541f44ae5f825186cb58d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d67aaa696ed7cd1a895b2fff8943069"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga8d67aaa696ed7cd1a895b2fff8943069">file_copy_file_to_file_area</a> ($file, $filename, $itemid)</td></tr>
<tr class="memdesc:ga8d67aaa696ed7cd1a895b2fff8943069"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies a file from one file area to another.  <br /></td></tr>
<tr class="separator:ga8d67aaa696ed7cd1a895b2fff8943069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35550be8fffee5fd16010e0b73ae85a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga35550be8fffee5fd16010e0b73ae85a1">file_correct_filepath</a> ($str)</td></tr>
<tr class="memdesc:ga35550be8fffee5fd16010e0b73ae85a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert any string to a valid filepath.  <br /></td></tr>
<tr class="separator:ga35550be8fffee5fd16010e0b73ae85a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf0f6e9709064c7be3c650c01735ed51f"><td class="memItemLeft" align="right" valign="top">stdClass&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gaf0f6e9709064c7be3c650c01735ed51f">file_encode_url</a> ($urlbase, $path, $forcedownload=false, $https=false)</td></tr>
<tr class="memdesc:gaf0f6e9709064c7be3c650c01735ed51f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes file serving url.  <br /></td></tr>
<tr class="separator:gaf0f6e9709064c7be3c650c01735ed51f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga231f7c089c318e45dfe828679424128b"><td class="memItemLeft" align="right" valign="top"><a id="ga231f7c089c318e45dfe828679424128b" name="ga231f7c089c318e45dfe828679424128b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>file_extension_icon</b> ($filename, $size=NULL)</td></tr>
<tr class="separator:ga231f7c089c318e45dfe828679424128b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61e6c4862a7c137b524ed7f93a7c17f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga61e6c4862a7c137b524ed7f93a7c17f5">file_extension_in_typegroup</a> ($filename, $groups, $checktype=false)</td></tr>
<tr class="memdesc:ga61e6c4862a7c137b524ed7f93a7c17f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if file with name $filename has one of the extensions in groups $groups.  <br /></td></tr>
<tr class="separator:ga61e6c4862a7c137b524ed7f93a7c17f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga512afe6412b9ecd7073bdf2d1f881a3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga512afe6412b9ecd7073bdf2d1f881a3f">file_file_icon</a> ($file, $size=null)</td></tr>
<tr class="memdesc:ga512afe6412b9ecd7073bdf2d1f881a3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the relative icon path for a given file.  <br /></td></tr>
<tr class="separator:ga512afe6412b9ecd7073bdf2d1f881a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga877563162cd9765f9c564d440a4833dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga877563162cd9765f9c564d440a4833dc">file_folder_icon</a> ($iconsize=null)</td></tr>
<tr class="memdesc:ga877563162cd9765f9c564d440a4833dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the relative icon path for a folder image.  <br /></td></tr>
<tr class="separator:ga877563162cd9765f9c564d440a4833dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacce3d802b5b3914fdc3bc69a124e9436"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gacce3d802b5b3914fdc3bc69a124e9436">file_get_all_files_in_draftarea</a> (int $draftitemid, string $filepath='/')</td></tr>
<tr class="memdesc:gacce3d802b5b3914fdc3bc69a124e9436"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all of the files in the draftarea.  <br /></td></tr>
<tr class="separator:gacce3d802b5b3914fdc3bc69a124e9436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cd2d143e90b6405d483e37734f6b105"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga7cd2d143e90b6405d483e37734f6b105">file_get_drafarea_files</a> ($draftitemid, $filepath='/')</td></tr>
<tr class="memdesc:ga7cd2d143e90b6405d483e37734f6b105"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listing all files (including folders) in current path (draft area) used by file manager.  <br /></td></tr>
<tr class="separator:ga7cd2d143e90b6405d483e37734f6b105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c74da2754e8c9c8bdae7fcb3ab78fd3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga9c74da2754e8c9c8bdae7fcb3ab78fd3">file_get_drafarea_folders</a> ($draftitemid, $filepath, &amp;$data)</td></tr>
<tr class="memdesc:ga9c74da2754e8c9c8bdae7fcb3ab78fd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a folder tree of draft area of current USER recursively.  <br /></td></tr>
<tr class="separator:ga9c74da2754e8c9c8bdae7fcb3ab78fd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e09b14681b3c309bc00d5f296f4c7bd"><td class="memItemLeft" align="right" valign="top">stdClass&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga7e09b14681b3c309bc00d5f296f4c7bd">file_get_draft_area_info</a> ($draftitemid, $filepath='/')</td></tr>
<tr class="memdesc:ga7e09b14681b3c309bc00d5f296f4c7bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about files in a draft area.  <br /></td></tr>
<tr class="separator:ga7e09b14681b3c309bc00d5f296f4c7bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7060f0a47fa84fe8750c18ee3f1fb4f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga7060f0a47fa84fe8750c18ee3f1fb4f9">file_get_file_area_info</a> ($contextid, $component, $filearea, $itemid=0, $filepath='/')</td></tr>
<tr class="memdesc:ga7060f0a47fa84fe8750c18ee3f1fb4f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about files in an area.  <br /></td></tr>
<tr class="separator:ga7060f0a47fa84fe8750c18ee3f1fb4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa6741dfcbc69acf2286e9891c8f46a4"><td class="memItemLeft" align="right" valign="top"><a id="gaaa6741dfcbc69acf2286e9891c8f46a4" name="gaaa6741dfcbc69acf2286e9891c8f46a4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>file_get_submitted_draft_itemid</b> ($elname)</td></tr>
<tr class="separator:gaaa6741dfcbc69acf2286e9891c8f46a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29830d7e9ccf8411018414497d3e8e29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga29830d7e9ccf8411018414497d3e8e29">file_get_typegroup</a> ($element, $groups)</td></tr>
<tr class="memdesc:ga29830d7e9ccf8411018414497d3e8e29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns array of elements of type $element in type group(s)  <br /></td></tr>
<tr class="separator:ga29830d7e9ccf8411018414497d3e8e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b9dee87472567f0cf166806c695ea0e"><td class="memItemLeft" align="right" valign="top"><a id="ga1b9dee87472567f0cf166806c695ea0e" name="ga1b9dee87472567f0cf166806c695ea0e"></a>
<a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><b>file_get_unused_draft_itemid</b> ()</td></tr>
<tr class="separator:ga1b9dee87472567f0cf166806c695ea0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9af6cfd94d7d0f670da5551da65bdfe8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga9af6cfd94d7d0f670da5551da65bdfe8">file_get_upload_error</a> ($errorcode)</td></tr>
<tr class="memdesc:ga9af6cfd94d7d0f670da5551da65bdfe8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns description of upload error.  <br /></td></tr>
<tr class="separator:ga9af6cfd94d7d0f670da5551da65bdfe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad75d25867167b4ca22619bd93483469"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gaad75d25867167b4ca22619bd93483469">file_get_user_used_space</a> ()</td></tr>
<tr class="memdesc:gaad75d25867167b4ca22619bd93483469"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get used space of files $DB @global stdClass $USER.  <br /></td></tr>
<tr class="separator:gaad75d25867167b4ca22619bd93483469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga412288a9677d4fc99cd7906f48e497bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga412288a9677d4fc99cd7906f48e497bc">file_is_draft_area_limit_reached</a> ($draftitemid, $areamaxbytes, $newfilesize=0, $includereferences=false)</td></tr>
<tr class="memdesc:ga412288a9677d4fc99cd7906f48e497bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a draft area has exceeded/will exceed its size limit.  <br /></td></tr>
<tr class="separator:ga412288a9677d4fc99cd7906f48e497bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad568eb1174742361ccd83f24d32cc0d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gad568eb1174742361ccd83f24d32cc0d6">file_is_draft_areas_limit_reached</a> (int $userid)</td></tr>
<tr class="memdesc:gad568eb1174742361ccd83f24d32cc0d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a user has reached their draft area upload rate.  <br /></td></tr>
<tr class="separator:gad568eb1174742361ccd83f24d32cc0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0f2a04686aaa5aa129b629e7722af2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gab0f2a04686aaa5aa129b629e7722af2a">file_is_executable</a> ($filename)</td></tr>
<tr class="memdesc:gab0f2a04686aaa5aa129b629e7722af2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells whether the filename is executable.  <br /></td></tr>
<tr class="separator:gab0f2a04686aaa5aa129b629e7722af2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72bb8db557ceb646ed3ad6c6ad175a38"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga72bb8db557ceb646ed3ad6c6ad175a38">file_is_svg_image_from_mimetype</a> (string $mimetype)</td></tr>
<tr class="memdesc:ga72bb8db557ceb646ed3ad6c6ad175a38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to determine whether the specified mime-type is an SVG image or not.  <br /></td></tr>
<tr class="separator:ga72bb8db557ceb646ed3ad6c6ad175a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadaaa2f05e320ff8e26fbde867423e30e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gadaaa2f05e320ff8e26fbde867423e30e">file_merge_draft_area_into_draft_area</a> ($getfromdraftid, $mergeintodraftid)</td></tr>
<tr class="memdesc:gadaaa2f05e320ff8e26fbde867423e30e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merge files from two draftarea areas.  <br /></td></tr>
<tr class="separator:gadaaa2f05e320ff8e26fbde867423e30e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaefef25f413405bd71dd1369fddb178dd"><td class="memItemLeft" align="right" valign="top"><a id="gaefef25f413405bd71dd1369fddb178dd" name="gaefef25f413405bd71dd1369fddb178dd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>file_merge_draft_areas</b> ($draftitemid, $usercontextid, $text, $forcehttps=false)</td></tr>
<tr class="separator:gaefef25f413405bd71dd1369fddb178dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga305421f700f77473b50b06fcb33a878c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga305421f700f77473b50b06fcb33a878c">file_merge_files_from_draft_area_into_filearea</a> ($draftitemid, $contextid, $component, $filearea, $itemid, array $options=null)</td></tr>
<tr class="memdesc:ga305421f700f77473b50b06fcb33a878c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add files from a draft area into a final area.  <br /></td></tr>
<tr class="separator:ga305421f700f77473b50b06fcb33a878c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf89c4fa4201635842851aa90c08808b5"><td class="memItemLeft" align="right" valign="top"><a id="gaf89c4fa4201635842851aa90c08808b5" name="gaf89c4fa4201635842851aa90c08808b5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>file_mimetype_icon</b> ($mimetype, $size=NULL)</td></tr>
<tr class="separator:gaf89c4fa4201635842851aa90c08808b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab67ad31dbab132712dcbb06e7b2f0026"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gab67ad31dbab132712dcbb06e7b2f0026">file_mimetype_in_typegroup</a> ($mimetype, $groups)</td></tr>
<tr class="memdesc:gab67ad31dbab132712dcbb06e7b2f0026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if mimetype $mimetype belongs to one of the groups $groups.  <br /></td></tr>
<tr class="separator:gab67ad31dbab132712dcbb06e7b2f0026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6479ff09b281b0b6de9a19fe2e996116"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga6479ff09b281b0b6de9a19fe2e996116">file_overwrite_existing_draftfile</a> (<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> $newfile, <a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> $existingfile)</td></tr>
<tr class="memdesc:ga6479ff09b281b0b6de9a19fe2e996116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrite an existing file in a draft area.  <br /></td></tr>
<tr class="separator:ga6479ff09b281b0b6de9a19fe2e996116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e0b9c111a830b6aa8c532337dc08eab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga2e0b9c111a830b6aa8c532337dc08eab">file_pluginfile</a> ($relativepath, $forcedownload, $preview=null, $offline=false, $<a class="el" href="../../d8/ded/group___simple_pie.html#gacb1c6c5b7e7bb03e4fdc24085c15509a">embed</a>=false)</td></tr>
<tr class="memdesc:ga2e0b9c111a830b6aa8c532337dc08eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function delegates file serving to individual plugins.  <br /></td></tr>
<tr class="separator:ga2e0b9c111a830b6aa8c532337dc08eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad52aa0bfbd3503ca9dfd58510c0d33ca"><td class="memItemLeft" align="right" valign="top"><a id="gad52aa0bfbd3503ca9dfd58510c0d33ca" name="gad52aa0bfbd3503ca9dfd58510c0d33ca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>file_postupdate_standard_editor</b> ($data, $field, array $options, $<a class="el" href="../../da/d04/classcontext.html">context</a>, $component=null, $filearea=null, $itemid=null)</td></tr>
<tr class="separator:gad52aa0bfbd3503ca9dfd58510c0d33ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4feb43d64bf07e2f7480e8be535d0728"><td class="memItemLeft" align="right" valign="top"><a id="ga4feb43d64bf07e2f7480e8be535d0728" name="ga4feb43d64bf07e2f7480e8be535d0728"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>file_postupdate_standard_filemanager</b> ($data, $field, array $options, $<a class="el" href="../../da/d04/classcontext.html">context</a>, $component, $filearea, $itemid)</td></tr>
<tr class="separator:ga4feb43d64bf07e2f7480e8be535d0728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e495e68299778bdd6d52f5e7e3f034f"><td class="memItemLeft" align="right" valign="top"><a id="ga5e495e68299778bdd6d52f5e7e3f034f" name="ga5e495e68299778bdd6d52f5e7e3f034f"></a>
stdClass&#160;</td><td class="memItemRight" valign="bottom"><b>file_prepare_draft_area</b> (&amp;$draftitemid, $contextid, $component, $filearea, $itemid, array $options=null, $text=null)</td></tr>
<tr class="separator:ga5e495e68299778bdd6d52f5e7e3f034f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab802e3f16d0c0af828eb70a31940d1d3"><td class="memItemLeft" align="right" valign="top"><a id="gab802e3f16d0c0af828eb70a31940d1d3" name="gab802e3f16d0c0af828eb70a31940d1d3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>file_prepare_standard_editor</b> ($data, $field, array $options, $<a class="el" href="../../da/d04/classcontext.html">context</a>=null, $component=null, $filearea=null, $itemid=null)</td></tr>
<tr class="separator:gab802e3f16d0c0af828eb70a31940d1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab24c514fd6506bb4fad0356cc0f572ea"><td class="memItemLeft" align="right" valign="top"><a id="gab24c514fd6506bb4fad0356cc0f572ea" name="gab24c514fd6506bb4fad0356cc0f572ea"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>file_prepare_standard_filemanager</b> ($data, $field, array $options, $<a class="el" href="../../da/d04/classcontext.html">context</a>=null, $component=null, $filearea=null, $itemid=null)</td></tr>
<tr class="separator:gab24c514fd6506bb4fad0356cc0f572ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e83423ddc76e37413bfcb10865ac899"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga7e83423ddc76e37413bfcb10865ac899">file_remove_editor_orphaned_files</a> ($editor)</td></tr>
<tr class="memdesc:ga7e83423ddc76e37413bfcb10865ac899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes those files from the user drafts filearea which are not referenced in the editor text.  <br /></td></tr>
<tr class="separator:ga7e83423ddc76e37413bfcb10865ac899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga852aceb081671b5d3cfe258950cc978c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga852aceb081671b5d3cfe258950cc978c">file_replace_file_area_in_text</a> ($file, $newid, $text, $forcehttps=false)</td></tr>
<tr class="memdesc:ga852aceb081671b5d3cfe258950cc978c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrites a file area in arbitrary text.  <br /></td></tr>
<tr class="separator:ga852aceb081671b5d3cfe258950cc978c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c7084927f44532d492cf3a77eea3df3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga5c7084927f44532d492cf3a77eea3df3">file_reset_sortorder</a> ($contextid, $component, $filearea, $itemid=false)</td></tr>
<tr class="memdesc:ga5c7084927f44532d492cf3a77eea3df3"><td class="mdescLeft">&#160;</td><td class="mdescRight">reset file sort order number to 0 $DB  <br /></td></tr>
<tr class="separator:ga5c7084927f44532d492cf3a77eea3df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga503ed81e4a26decc25ac86221414b8d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga503ed81e4a26decc25ac86221414b8d9">file_restore_source_field_from_draft_file</a> ($storedfile)</td></tr>
<tr class="memdesc:ga503ed81e4a26decc25ac86221414b8d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore the original source field from draft files.  <br /></td></tr>
<tr class="separator:ga503ed81e4a26decc25ac86221414b8d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac3050de2ba41d4ab9906afcfdb4954e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gaac3050de2ba41d4ab9906afcfdb4954e">file_rewrite_pluginfile_urls</a> ($text, $file, $contextid, $component, $filearea, $itemid, array $options=null)</td></tr>
<tr class="memdesc:gaac3050de2ba41d4ab9906afcfdb4954e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert encoded URLs in $text from the @PLUGINFILE@/... form to an actual URL.  <br /></td></tr>
<tr class="separator:gaac3050de2ba41d4ab9906afcfdb4954e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c06820965f51de1d35cc6a07eff02de"><td class="memItemLeft" align="right" valign="top"><a id="ga7c06820965f51de1d35cc6a07eff02de" name="ga7c06820965f51de1d35cc6a07eff02de"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>file_rewrite_urls_to_pluginfile</b> ($text, $draftitemid, $forcehttps=false)</td></tr>
<tr class="separator:ga7c06820965f51de1d35cc6a07eff02de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b56656769c50716ba9ff2f9a7734ff2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga5b56656769c50716ba9ff2f9a7734ff2">file_safe_save_content</a> ($content, $destination)</td></tr>
<tr class="memdesc:ga5b56656769c50716ba9ff2f9a7734ff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safely save content to a certain path.  <br /></td></tr>
<tr class="separator:ga5b56656769c50716ba9ff2f9a7734ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b9c03011070da661c3fe0b177965d25"><td class="memItemLeft" align="right" valign="top"><a id="ga9b9c03011070da661c3fe0b177965d25" name="ga9b9c03011070da661c3fe0b177965d25"></a>
stdClass&#160;</td><td class="memItemRight" valign="bottom"><b>file_save_draft_area_files</b> ($draftitemid, $contextid, $component, $filearea, $itemid, array $options=null, $text=null, $forcehttps=false)</td></tr>
<tr class="separator:ga9b9c03011070da661c3fe0b177965d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b1d1fb456bfaed28fdcc48e99130110"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga4b1d1fb456bfaed28fdcc48e99130110">file_set_sortorder</a> ($contextid, $component, $filearea, $itemid, $filepath, $filename, $sortorder)</td></tr>
<tr class="memdesc:ga4b1d1fb456bfaed28fdcc48e99130110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set file sort order.  <br /></td></tr>
<tr class="separator:ga4b1d1fb456bfaed28fdcc48e99130110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea2b2ecd009fdf623822aa0b8b3df536"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gaea2b2ecd009fdf623822aa0b8b3df536">format_array_postdata_for_curlcall</a> ($arraydata, $currentdata, &amp;$data)</td></tr>
<tr class="memdesc:gaea2b2ecd009fdf623822aa0b8b3df536"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursive function formating an array in POST parameter.  <br /></td></tr>
<tr class="separator:gaea2b2ecd009fdf623822aa0b8b3df536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac98974f9377f89fd213bd2f18821e07b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gac98974f9377f89fd213bd2f18821e07b">format_postdata_for_curlcall</a> ($postdata)</td></tr>
<tr class="memdesc:gac98974f9377f89fd213bd2f18821e07b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform a PHP array into POST parameter (see the recursive function format_array_postdata_for_curlcall)  <br /></td></tr>
<tr class="separator:gac98974f9377f89fd213bd2f18821e07b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b081849494dfde80526148d3c591fc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga8b081849494dfde80526148d3c591fc2">fulldelete</a> ($location)</td></tr>
<tr class="memdesc:ga8b081849494dfde80526148d3c591fc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively delete the file or folder with path $location.  <br /></td></tr>
<tr class="separator:ga8b081849494dfde80526148d3c591fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95d0de260e5a681078add5b995b56766"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga95d0de260e5a681078add5b995b56766">get_mimetype_description</a> ($obj, $capitalise=false)</td></tr>
<tr class="memdesc:ga95d0de260e5a681078add5b995b56766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains descriptions for file types (e.g.  <br /></td></tr>
<tr class="separator:ga95d0de260e5a681078add5b995b56766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad061703994d6fd5482154384516b276a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gad061703994d6fd5482154384516b276a">get_mimetype_for_sending</a> ($filename='')</td></tr>
<tr class="memdesc:gad061703994d6fd5482154384516b276a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine a file's MIME type based on the given filename using the function mimeinfo.  <br /></td></tr>
<tr class="separator:gad061703994d6fd5482154384516b276a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7d48a27ba49ff7fb9266966cf121c07"><td class="memItemLeft" align="right" valign="top"><a id="gac7d48a27ba49ff7fb9266966cf121c07" name="gac7d48a27ba49ff7fb9266966cf121c07"></a>
&amp;&#160;</td><td class="memItemRight" valign="bottom"><b>get_mimetypes_array</b> ()</td></tr>
<tr class="separator:gac7d48a27ba49ff7fb9266966cf121c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17b21167dddcafc6b9df46cdfea08017"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga17b21167dddcafc6b9df46cdfea08017">get_moodle_proxy_url</a> ()</td></tr>
<tr class="memdesc:ga17b21167dddcafc6b9df46cdfea08017"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the moodle proxy configuration as a formatted url.  <br /></td></tr>
<tr class="separator:ga17b21167dddcafc6b9df46cdfea08017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06293061ff04e09d5486e0cc1b5d85e3"><td class="memItemLeft" align="right" valign="top"><a id="ga06293061ff04e09d5486e0cc1b5d85e3" name="ga06293061ff04e09d5486e0cc1b5d85e3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mimeinfo</b> ($element, $filename)</td></tr>
<tr class="separator:ga06293061ff04e09d5486e0cc1b5d85e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadcb44f55277e8cb1eeaaffb5e10cdab3"><td class="memItemLeft" align="right" valign="top"><a id="gadcb44f55277e8cb1eeaaffb5e10cdab3" name="gadcb44f55277e8cb1eeaaffb5e10cdab3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mimeinfo_from_type</b> ($element, $mimetype)</td></tr>
<tr class="separator:gadcb44f55277e8cb1eeaaffb5e10cdab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3f66aa39432aa6ed3d235259f1c156f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gab3f66aa39432aa6ed3d235259f1c156f">readfile_accel</a> ($file, $mimetype, $accelerate)</td></tr>
<tr class="memdesc:gab3f66aa39432aa6ed3d235259f1c156f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enhanced readfile() with optional acceleration.  <br /></td></tr>
<tr class="separator:gab3f66aa39432aa6ed3d235259f1c156f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bd4603b902f3ecbea46a2a2e466be59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga7bd4603b902f3ecbea46a2a2e466be59">readfile_allow_large</a> ($path, $filesize=-1)</td></tr>
<tr class="memdesc:ga7bd4603b902f3ecbea46a2a2e466be59"><td class="mdescLeft">&#160;</td><td class="mdescRight">The readfile function can fail when files are larger than 2GB (even on 64-bit platforms).  <br /></td></tr>
<tr class="separator:ga7bd4603b902f3ecbea46a2a2e466be59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ba413cdcd68252c059dedc3d76ded27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga0ba413cdcd68252c059dedc3d76ded27">readstring_accel</a> ($string, $mimetype, $accelerate=false)</td></tr>
<tr class="memdesc:ga0ba413cdcd68252c059dedc3d76ded27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to <a class="el" href="../../d5/d09/group__core__files.html#gab3f66aa39432aa6ed3d235259f1c156f" title="Enhanced readfile() with optional acceleration.">readfile_accel()</a> but designed for strings.  <br /></td></tr>
<tr class="separator:ga0ba413cdcd68252c059dedc3d76ded27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa214612e8f94f81d42b37fc28de9924"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gaaa214612e8f94f81d42b37fc28de9924">send_content_uncached</a> ($content, $filename)</td></tr>
<tr class="memdesc:gaaa214612e8f94f81d42b37fc28de9924"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serve content which is not meant to be cached.  <br /></td></tr>
<tr class="separator:gaaa214612e8f94f81d42b37fc28de9924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae012c0cbeb1bf986f2e7f09e0c3b3c2d"><td class="memItemLeft" align="right" valign="top"><a id="gae012c0cbeb1bf986f2e7f09e0c3b3c2d" name="gae012c0cbeb1bf986f2e7f09e0c3b3c2d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>send_file</b> ($path, $filename, $lifetime=null, $filter=0, $pathisstring=false, $forcedownload=false, $mimetype='', $dontdie=false, array $options=array())</td></tr>
<tr class="separator:gae012c0cbeb1bf986f2e7f09e0c3b3c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga863d05ce1a40ff489a03d97f43c40f7d"><td class="memItemLeft" align="right" valign="top">stdClass&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga863d05ce1a40ff489a03d97f43c40f7d">send_file_not_found</a> ()</td></tr>
<tr class="memdesc:ga863d05ce1a40ff489a03d97f43c40f7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requested file is not found or not accessible, does not return, terminates script.  <br /></td></tr>
<tr class="separator:ga863d05ce1a40ff489a03d97f43c40f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7dfaad0d9f806fe37491d7406ea4776b"><td class="memItemLeft" align="right" valign="top"><a id="ga7dfaad0d9f806fe37491d7406ea4776b" name="ga7dfaad0d9f806fe37491d7406ea4776b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>send_header_404</b> ()</td></tr>
<tr class="memdesc:ga7dfaad0d9f806fe37491d7406ea4776b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to send correct 404 for server. <br /></td></tr>
<tr class="separator:ga7dfaad0d9f806fe37491d7406ea4776b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60dca6822a3b0f1c466c3763c0fea7a5"><td class="memItemLeft" align="right" valign="top"><a id="ga60dca6822a3b0f1c466c3763c0fea7a5" name="ga60dca6822a3b0f1c466c3763c0fea7a5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>send_stored_file</b> ($<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a>, $lifetime=null, $filter=0, $forcedownload=false, array $options=array())</td></tr>
<tr class="separator:ga60dca6822a3b0f1c466c3763c0fea7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9748f110ef54ba552adf809019829fc4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#ga9748f110ef54ba552adf809019829fc4">send_temp_file</a> ($path, $filename, $pathisstring=false)</td></tr>
<tr class="memdesc:ga9748f110ef54ba552adf809019829fc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the sending of temporary file to user, download is forced.  <br /></td></tr>
<tr class="separator:ga9748f110ef54ba552adf809019829fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa78e6b6645ca7b6297b7df88077f501f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gaa78e6b6645ca7b6297b7df88077f501f">send_temp_file_finished</a> ($path)</td></tr>
<tr class="memdesc:gaa78e6b6645ca7b6297b7df88077f501f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal callback function used by <a class="el" href="../../d5/d09/group__core__files.html#ga9748f110ef54ba552adf809019829fc4" title="Handles the sending of temporary file to user, download is forced.">send_temp_file()</a>  <br /></td></tr>
<tr class="separator:gaa78e6b6645ca7b6297b7df88077f501f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab30721c8b2cdcf34b7c8cacf1fefab98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d09/group__core__files.html#gab30721c8b2cdcf34b7c8cacf1fefab98">xsendfile</a> ($filepath)</td></tr>
<tr class="memdesc:gab30721c8b2cdcf34b7c8cacf1fefab98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serve file using X-Sendfile header, this needs special server module or configuration.  <br /></td></tr>
<tr class="separator:gab30721c8b2cdcf34b7c8cacf1fefab98"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga37b11945d6f71051e495fdae18b1d232"><td class="memItemLeft" align="right" valign="top"><a id="ga37b11945d6f71051e495fdae18b1d232" name="ga37b11945d6f71051e495fdae18b1d232"></a>
global&#160;</td><td class="memItemRight" valign="bottom"><b>core_files\external\delete::$CFG</b></td></tr>
<tr class="separator:ga37b11945d6f71051e495fdae18b1d232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43a2d9a8a21c8073eef5990213ba0e45"><td class="memItemLeft" align="right" valign="top"><a id="ga43a2d9a8a21c8073eef5990213ba0e45" name="ga43a2d9a8a21c8073eef5990213ba0e45"></a>
global&#160;</td><td class="memItemRight" valign="bottom"><b>core_files\external\get::$CFG</b></td></tr>
<tr class="separator:ga43a2d9a8a21c8073eef5990213ba0e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5b3656b948705f6695dfa1e5a529b6d"><td class="memItemLeft" align="right" valign="top"><a id="gaf5b3656b948705f6695dfa1e5a529b6d" name="gaf5b3656b948705f6695dfa1e5a529b6d"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>BYTESERVING_BOUNDARY</b> 's1k2o3d4a5k6s7'</td></tr>
<tr class="memdesc:gaf5b3656b948705f6695dfa1e5a529b6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">BYTESERVING_BOUNDARY - string unique string constant. <br /></td></tr>
<tr class="separator:gaf5b3656b948705f6695dfa1e5a529b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1566b208ee6d685407cb6b705a6b6239"><td class="memItemLeft" align="right" valign="top"><a id="ga1566b208ee6d685407cb6b705a6b6239" name="ga1566b208ee6d685407cb6b705a6b6239"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DRAFT_AREA_BUCKET_CAPACITY</b> 50</td></tr>
<tr class="memdesc:ga1566b208ee6d685407cb6b705a6b6239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capacity of the draft area bucket when using the leaking bucket technique to limit the draft upload rate. <br /></td></tr>
<tr class="separator:ga1566b208ee6d685407cb6b705a6b6239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44d174767153320474420813b318ef67"><td class="memItemLeft" align="right" valign="top"><a id="ga44d174767153320474420813b318ef67" name="ga44d174767153320474420813b318ef67"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>DRAFT_AREA_BUCKET_LEAK</b> 0.2</td></tr>
<tr class="memdesc:ga44d174767153320474420813b318ef67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Leaking rate of the draft area bucket when using the leaking bucket technique to limit the draft upload rate. <br /></td></tr>
<tr class="separator:ga44d174767153320474420813b318ef67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24927741ed9b853e263c0fcf567d58e1"><td class="memItemLeft" align="right" valign="top"><a id="ga24927741ed9b853e263c0fcf567d58e1" name="ga24927741ed9b853e263c0fcf567d58e1"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>FILE_AREA_MAX_BYTES_UNLIMITED</b> -1</td></tr>
<tr class="memdesc:ga24927741ed9b853e263c0fcf567d58e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlimited area size constant. <br /></td></tr>
<tr class="separator:ga24927741ed9b853e263c0fcf567d58e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8e68161a7d52feda7a7ce8dec78a954"><td class="memItemLeft" align="right" valign="top"><a id="gae8e68161a7d52feda7a7ce8dec78a954" name="gae8e68161a7d52feda7a7ce8dec78a954"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>IGNORE_FILE_MERGE</b> -1</td></tr>
<tr class="memdesc:gae8e68161a7d52feda7a7ce8dec78a954"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not process file merging when working with draft area files. <br /></td></tr>
<tr class="separator:gae8e68161a7d52feda7a7ce8dec78a954"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae73b3d9690c8962222a2ebd0eb4d384f" name="gae73b3d9690c8962222a2ebd0eb4d384f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae73b3d9690c8962222a2ebd0eb4d384f">&#9670;&#160;</a></span>byteserving_send_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byteserving_send_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mimetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ranges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filesize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send requested byterange of file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">resource</td><td class="paramname">$handle</td><td>A file handle </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$mimetype</td><td>The mimetype for the output </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$ranges</td><td>An array of ranges to send </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filesize</td><td>The size of the content if only one range is used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf33fb0e605541f44ae5f825186cb58d4" name="gaf33fb0e605541f44ae5f825186cb58d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf33fb0e605541f44ae5f825186cb58d4">&#9670;&#160;</a></span>file_area_contains_subdirs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_area_contains_subdirs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filearea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detects if area contains subdirs, this is intended for file areas that are attached to content migrated from 1.x where subdirs were allowed everywhere. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8d67aaa696ed7cd1a895b2fff8943069" name="ga8d67aaa696ed7cd1a895b2fff8943069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d67aaa696ed7cd1a895b2fff8943069">&#9670;&#160;</a></span>file_copy_file_to_file_area()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_copy_file_to_file_area </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies a file from one file area to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$file</td><td>Information about the file to be copied. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>The filename. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>The new file area. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga35550be8fffee5fd16010e0b73ae85a1" name="ga35550be8fffee5fd16010e0b73ae85a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35550be8fffee5fd16010e0b73ae85a1">&#9670;&#160;</a></span>file_correct_filepath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_correct_filepath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert any string to a valid filepath. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000098">Todo:</a></b></dt><dd>review this function </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf0f6e9709064c7be3c650c01735ed51f" name="gaf0f6e9709064c7be3c650c01735ed51f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf0f6e9709064c7be3c650c01735ed51f">&#9670;&#160;</a></span>file_encode_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stdClass file_encode_url </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$urlbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$forcedownload</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$https</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes file serving url. </p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000568">Deprecated:</a></b></dt><dd>use <a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a> factory methods instead</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000096">Todo:</a></b></dt><dd><a href="https://tracker.moodle.org/browse/MDL-31071" class="el">MDL-31071</a> deprecate this function $CFG </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$urlbase</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>/filearea/itemid/dir/dir/file.exe </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$forcedownload</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$https</td><td>https url required </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>encoded file url </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga61e6c4862a7c137b524ed7f93a7c17f5" name="ga61e6c4862a7c137b524ed7f93a7c17f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61e6c4862a7c137b524ed7f93a7c17f5">&#9670;&#160;</a></span>file_extension_in_typegroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_extension_in_typegroup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checktype</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if file with name $filename has one of the extensions in groups $groups. </p>
<dl class="section see"><dt>See also</dt><dd>get_mimetypes_array() </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>name of the file to check </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$groups</td><td>one group or array of groups to check </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$checktype</td><td>if true and extension check fails, find the mimetype and check if file mimetype is in mimetypes in groups $groups </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga512afe6412b9ecd7073bdf2d1f881a3f" name="ga512afe6412b9ecd7073bdf2d1f881a3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga512afe6412b9ecd7073bdf2d1f881a3f">&#9670;&#160;</a></span>file_file_icon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_file_icon </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$size</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the relative icon path for a given file. </p>
<p>Usage: <code> // $file - instance of <a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> or <a class="el" href="../../de/dff/classfile__info.html" title="Base class for things in the tree navigated by file_browser.">file_info</a> $icon = $OUTPUT-&gt;image_url(file_file_icon($file))-&gt;out(); echo html_writer::empty_tag('img', array('src' =&gt; $icon, 'alt' =&gt; get_mimetype_description($file))); </code> or <code> echo $OUTPUT-&gt;<a class="el" href="../../d0/d6e/classpix__icon.html">pix_icon</a>(file_file_icon($file), get_mimetype_description($file)); </code></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a>&#160;|&#160;<a class="el" href="../../de/dff/classfile__info.html" title="Base class for things in the tree navigated by file_browser.">file_info</a>&#160;|&#160;stdClass&#160;|&#160;array</td><td class="paramname">$file</td><td>(in case of object attributes $file-&gt;filename and $file-&gt;mimetype are expected) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$size</td><td>The size of the icon. Defaults to 16 can also be 24, 32, 64, 128, 256 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga877563162cd9765f9c564d440a4833dc" name="ga877563162cd9765f9c564d440a4833dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga877563162cd9765f9c564d440a4833dc">&#9670;&#160;</a></span>file_folder_icon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_folder_icon </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$iconsize</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the relative icon path for a folder image. </p>
<p>Usage: <code> $icon = $OUTPUT-&gt;image_url(file_folder_icon())-&gt;out(); echo html_writer::empty_tag('img', array('src' =&gt; $icon)); </code> or <code> echo $OUTPUT-&gt;<a class="el" href="../../d0/d6e/classpix__icon.html">pix_icon</a>(file_folder_icon(32), ''); </code></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$iconsize</td><td>The size of the icon. Defaults to 16 can also be 24, 32, 48, 64, 72, 80, 96, 128, 256 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacce3d802b5b3914fdc3bc69a124e9436" name="gacce3d802b5b3914fdc3bc69a124e9436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacce3d802b5b3914fdc3bc69a124e9436">&#9670;&#160;</a></span>file_get_all_files_in_draftarea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_get_all_files_in_draftarea </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$draftitemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$filepath</em> = <code>'/'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all of the files in the draftarea. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$draftitemid</td><td>The draft item ID </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filepath</td><td>path for the uploaded files. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of files associated with this draft item id. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7cd2d143e90b6405d483e37734f6b105" name="ga7cd2d143e90b6405d483e37734f6b105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7cd2d143e90b6405d483e37734f6b105">&#9670;&#160;</a></span>file_get_drafarea_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_get_drafarea_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$draftitemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filepath</em> = <code>'/'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Listing all files (including folders) in current path (draft area) used by file manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$draftitemid</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filepath</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9c74da2754e8c9c8bdae7fcb3ab78fd3" name="ga9c74da2754e8c9c8bdae7fcb3ab78fd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c74da2754e8c9c8bdae7fcb3ab78fd3">&#9670;&#160;</a></span>file_get_drafarea_folders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_get_drafarea_folders </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$draftitemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a folder tree of draft area of current USER recursively. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000099">Todo:</a></b></dt><dd><a href="https://tracker.moodle.org/browse/MDL-31073" class="el">MDL-31073</a> use normal return value instead, this does not fit the rest of api here (skodak) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$draftitemid</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filepath</td><td></td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$data</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7e09b14681b3c309bc00d5f296f4c7bd" name="ga7e09b14681b3c309bc00d5f296f4c7bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e09b14681b3c309bc00d5f296f4c7bd">&#9670;&#160;</a></span>file_get_draft_area_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stdClass file_get_draft_area_info </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$draftitemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filepath</em> = <code>'/'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns information about files in a draft area. </p>
<p>$CFG @global stdClass $USER </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$draftitemid</td><td>the draft area item id. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filepath</td><td>path to the directory from which the information have to be retrieved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>with the following entries: 'filecount' =&gt; number of files in the draft area. 'filesize' =&gt; total size of the files in the draft area. 'foldercount' =&gt; number of folders in the draft area. 'filesize_without_references' =&gt; total size of the area excluding file references. (more information will be added as needed). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7060f0a47fa84fe8750c18ee3f1fb4f9" name="ga7060f0a47fa84fe8750c18ee3f1fb4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7060f0a47fa84fe8750c18ee3f1fb4f9">&#9670;&#160;</a></span>file_get_file_area_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_get_file_area_info </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filearea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filepath</em> = <code>'/'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns information about files in an area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>context id </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>component </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td>file area name </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>item id or all files if not specified </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filepath</td><td>path to the directory from which the information have to be retrieved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>with the following entries: 'filecount' =&gt; number of files in the area. 'filesize' =&gt; total size of the files in the area. 'foldercount' =&gt; number of folders in the area. 'filesize_without_references' =&gt; total size of the area excluding file references. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.4 </dd></dl>

</div>
</div>
<a id="ga29830d7e9ccf8411018414497d3e8e29" name="ga29830d7e9ccf8411018414497d3e8e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29830d7e9ccf8411018414497d3e8e29">&#9670;&#160;</a></span>file_get_typegroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_get_typegroup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$groups</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns array of elements of type $element in type group(s) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$element</td><td>name of the element we are interested in, usually 'type' or 'extension' </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$groups</td><td>one group or array of groups/extensions/mimetypes </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9af6cfd94d7d0f670da5551da65bdfe8" name="ga9af6cfd94d7d0f670da5551da65bdfe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9af6cfd94d7d0f670da5551da65bdfe8">&#9670;&#160;</a></span>file_get_upload_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_get_upload_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$errorcode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns description of upload error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$errorcode</td><td>found in $_FILES['filename.ext']['error'] </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>error description string, '' if ok </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaad75d25867167b4ca22619bd93483469" name="gaad75d25867167b4ca22619bd93483469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad75d25867167b4ca22619bd93483469">&#9670;&#160;</a></span>file_get_user_used_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> file_get_user_used_space </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get used space of files $DB @global stdClass $USER. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>total bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga412288a9677d4fc99cd7906f48e497bc" name="ga412288a9677d4fc99cd7906f48e497bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga412288a9677d4fc99cd7906f48e497bc">&#9670;&#160;</a></span>file_is_draft_area_limit_reached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_is_draft_area_limit_reached </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$draftitemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$areamaxbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$newfilesize</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$includereferences</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether a draft area has exceeded/will exceed its size limit. </p>
<p>Please note that the unlimited value for $areamaxbytes is -1 <a class="el" href="../../d5/d09/group__core__files.html#ga24927741ed9b853e263c0fcf567d58e1">FILE_AREA_MAX_BYTES_UNLIMITED</a>, not 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$draftitemid</td><td>the draft area item id. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$areamaxbytes</td><td>the maximum size allowed in this draft area. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$newfilesize</td><td>the size that would be added to the current area. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$includereferences</td><td>true to include the size of the references in the area size. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the area will/has exceeded its limit. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.4 </dd></dl>

</div>
</div>
<a id="gad568eb1174742361ccd83f24d32cc0d6" name="gad568eb1174742361ccd83f24d32cc0d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad568eb1174742361ccd83f24d32cc0d6">&#9670;&#160;</a></span>file_is_draft_areas_limit_reached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_is_draft_areas_limit_reached </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether a user has reached their draft area upload rate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab0f2a04686aaa5aa129b629e7722af2a" name="gab0f2a04686aaa5aa129b629e7722af2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab0f2a04686aaa5aa129b629e7722af2a">&#9670;&#160;</a></span>file_is_executable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_is_executable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells whether the filename is executable. </p>
<p>@externalurl <a href="http://php.net/manual/en/function.is-executable.php">http://php.net/manual/en/function.is-executable.php</a> @externalurl <a href="https://bugs.php.net/bug.php?id=41062">https://bugs.php.net/bug.php?id=41062</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>Path to the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the filename exists and is executable; otherwise, false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga72bb8db557ceb646ed3ad6c6ad175a38" name="ga72bb8db557ceb646ed3ad6c6ad175a38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72bb8db557ceb646ed3ad6c6ad175a38">&#9670;&#160;</a></span>file_is_svg_image_from_mimetype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_is_svg_image_from_mimetype </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$mimetype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to determine whether the specified mime-type is an SVG image or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$mimetype</td><td>Mime-type </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if it is an SVG file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadaaa2f05e320ff8e26fbde867423e30e" name="gadaaa2f05e320ff8e26fbde867423e30e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadaaa2f05e320ff8e26fbde867423e30e">&#9670;&#160;</a></span>file_merge_draft_area_into_draft_area()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_merge_draft_area_into_draft_area </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$getfromdraftid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mergeintodraftid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merge files from two draftarea areas. </p>
<p>This does not handle conflict resolution, files in the destination area which appear to be more recent will be kept disregarding the intended ones.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$getfromdraftid</td><td>the id of the draft area where are the files to merge. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$mergeintodraftid</td><td>the id of the draft area where new files will be merged. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.2 </dd></dl>

</div>
</div>
<a id="ga305421f700f77473b50b06fcb33a878c" name="ga305421f700f77473b50b06fcb33a878c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga305421f700f77473b50b06fcb33a878c">&#9670;&#160;</a></span>file_merge_files_from_draft_area_into_filearea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_merge_files_from_draft_area_into_filearea </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$draftitemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filearea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$options</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add files from a draft area into a final area. </p>
<p>Most of the time you do not want to use this. It is intended to be used by asynchronous services which cannot direcly manipulate a final area through a draft area. Instead they add files to a new draft area and merge that new draft into the final area when ready.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$draftitemid</td><td>the id of the draft area to use. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>this parameter and the next two identify the file area to save to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>component name </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td>indentifies the file area </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>identifies the item id or false for all items in the file area </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>area options (subdirs=false, maxfiles=-1, maxbytes=0, areamaxbytes=FILE_AREA_MAX_BYTES_UNLIMITED) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>file_save_draft_area_files </dd></dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.2 </dd></dl>

</div>
</div>
<a id="gab67ad31dbab132712dcbb06e7b2f0026" name="gab67ad31dbab132712dcbb06e7b2f0026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab67ad31dbab132712dcbb06e7b2f0026">&#9670;&#160;</a></span>file_mimetype_in_typegroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_mimetype_in_typegroup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mimetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$groups</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if mimetype $mimetype belongs to one of the groups $groups. </p>
<dl class="section see"><dt>See also</dt><dd>get_mimetypes_array() </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$mimetype</td><td></td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$groups</td><td>one group or array of groups to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6479ff09b281b0b6de9a19fe2e996116" name="ga6479ff09b281b0b6de9a19fe2e996116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6479ff09b281b0b6de9a19fe2e996116">&#9670;&#160;</a></span>file_overwrite_existing_draftfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_overwrite_existing_draftfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a>&#160;</td>
          <td class="paramname"><em>$newfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a>&#160;</td>
          <td class="paramname"><em>$existingfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overwrite an existing file in a draft area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td><td class="paramname">$newfile</td><td>the new file with the new content and meta-data </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td><td class="paramname">$existingfile</td><td>the file that will be overwritten </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.2 </dd></dl>

</div>
</div>
<a id="ga2e0b9c111a830b6aa8c532337dc08eab" name="ga2e0b9c111a830b6aa8c532337dc08eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e0b9c111a830b6aa8c532337dc08eab">&#9670;&#160;</a></span>file_pluginfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_pluginfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$relativepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$forcedownload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$preview</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$offline</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$embed</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function delegates file serving to individual plugins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$relativepath</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$forcedownload</td><td></td></tr>
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$preview</td><td>the preview mode, defaults to serving the original file </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$offline</td><td>If offline is requested - don't serve a redirect to an external file, return a file suitable for viewing offline (e.g. mobile app). </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$embed</td><td>Whether this file will be served embed into an iframe. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000102">Todo:</a></b></dt><dd><a href="https://tracker.moodle.org/browse/MDL-31088" class="el">MDL-31088</a> file serving improments </dd></dl>

</div>
</div>
<a id="ga7e83423ddc76e37413bfcb10865ac899" name="ga7e83423ddc76e37413bfcb10865ac899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e83423ddc76e37413bfcb10865ac899">&#9670;&#160;</a></span>file_remove_editor_orphaned_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_remove_editor_orphaned_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$editor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes those files from the user drafts filearea which are not referenced in the editor text. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$editor</td><td>The online text editor element from the submitted form data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga852aceb081671b5d3cfe258950cc978c" name="ga852aceb081671b5d3cfe258950cc978c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga852aceb081671b5d3cfe258950cc978c">&#9670;&#160;</a></span>file_replace_file_area_in_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_replace_file_area_in_text </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$newid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$forcehttps</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rewrites a file area in arbitrary text. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$file</td><td>General information about the file. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$newid</td><td>The new file area itemid. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>The text to rewrite. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$forcehttps</td><td>force https urls. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The rewritten text. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5c7084927f44532d492cf3a77eea3df3" name="ga5c7084927f44532d492cf3a77eea3df3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c7084927f44532d492cf3a77eea3df3">&#9670;&#160;</a></span>file_reset_sortorder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> file_reset_sortorder </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filearea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reset file sort order number to 0 $DB </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>the context id </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td>file area. </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;bool</td><td class="paramname">$itemid</td><td>itemid. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga503ed81e4a26decc25ac86221414b8d9" name="ga503ed81e4a26decc25ac86221414b8d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga503ed81e4a26decc25ac86221414b8d9">&#9670;&#160;</a></span>file_restore_source_field_from_draft_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_restore_source_field_from_draft_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$storedfile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restore the original source field from draft files. </p>
<p>Do not use this function because it makes field files.source inconsistent for draft area files. This function will be deprecated in 2.6</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td><td class="paramname">$storedfile</td><td>This only works with draft files </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaac3050de2ba41d4ab9906afcfdb4954e" name="gaac3050de2ba41d4ab9906afcfdb4954e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac3050de2ba41d4ab9906afcfdb4954e">&#9670;&#160;</a></span>file_rewrite_pluginfile_urls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_rewrite_pluginfile_urls </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filearea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$options</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert encoded URLs in $text from the @PLUGINFILE@/... form to an actual URL. </p>
<p>Passing a new option reverse = true in the $options var will make the function to convert actual URLs in $text to encoded URLs in the @PLUGINFILE@ form.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>The content that may contain ULRs in need of rewriting. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>The script that should be used to serve these files. pluginfile.php, draftfile.php, etc. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>This parameter and the next two identify the file area to use. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td>helps identify the file area. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>helps identify the file area. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>bool $options.forcehttps Force the user of https bool $options.reverse Reverse the behaviour of the function mixed $options.includetoken Use a token for authentication. True for current user, int value for other user id. string The processed text. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5b56656769c50716ba9ff2f9a7734ff2" name="ga5b56656769c50716ba9ff2f9a7734ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b56656769c50716ba9ff2f9a7734ff2">&#9670;&#160;</a></span>file_safe_save_content()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_safe_save_content </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Safely save content to a certain path. </p>
<p>This function tries hard to be atomic by first copying the content to a separate file, and then moving the file across. It also prevents the user to abort a request to prevent half-safed files.</p>
<p>This function is intended to be used when saving some content to cache like $CFG-&gt;localcachedir. If you're not caching a file you should use the File API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$content</td><td>The file content. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$destination</td><td>The absolute path of the final file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4b1d1fb456bfaed28fdcc48e99130110" name="ga4b1d1fb456bfaed28fdcc48e99130110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4b1d1fb456bfaed28fdcc48e99130110">&#9670;&#160;</a></span>file_set_sortorder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d6e/classmoodle__database.html">moodle_database</a> file_set_sortorder </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filearea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sortorder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set file sort order. </p>
<p>$DB </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>the context id </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>file component </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filearea</td><td>file area. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>itemid. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filepath</td><td>file path. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>file name. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$sortorder</td><td>the sort order of file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaea2b2ecd009fdf623822aa0b8b3df536" name="gaea2b2ecd009fdf623822aa0b8b3df536"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea2b2ecd009fdf623822aa0b8b3df536">&#9670;&#160;</a></span>format_array_postdata_for_curlcall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">format_array_postdata_for_curlcall </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$arraydata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currentdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recursive function formating an array in POST parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$arraydata</td><td>- the array that we are going to format and add into &amp;$data array </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$currentdata</td><td>- a row of the final postdata array at instant T when finish, it's assign to $data under this format: name[keyname][][]...[]='value' </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>- the final data array containing all POST parameters : 1 row = 1 parameter </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac98974f9377f89fd213bd2f18821e07b" name="gac98974f9377f89fd213bd2f18821e07b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac98974f9377f89fd213bd2f18821e07b">&#9670;&#160;</a></span>format_postdata_for_curlcall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">format_postdata_for_curlcall </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$postdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform a PHP array into POST parameter (see the recursive function format_array_postdata_for_curlcall) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$postdata</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>containing all POST parameters (1 row = 1 POST parameter) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8b081849494dfde80526148d3c591fc2" name="ga8b081849494dfde80526148d3c591fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b081849494dfde80526148d3c591fc2">&#9670;&#160;</a></span>fulldelete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fulldelete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$location</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recursively delete the file or folder with path $location. </p>
<p>That is, if it is a file delete it. If it is a folder, delete all its content then delete it. If $location does not exist to start, that is not considered an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$location</td><td>the path to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga95d0de260e5a681078add5b995b56766" name="ga95d0de260e5a681078add5b995b56766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95d0de260e5a681078add5b995b56766">&#9670;&#160;</a></span>get_mimetype_description()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_mimetype_description </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capitalise</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains descriptions for file types (e.g. </p>
<p>'Microsoft Word document') from the mimetypes.php language file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$obj</td><td>- instance of <a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> or <a class="el" href="../../de/dff/classfile__info.html" title="Base class for things in the tree navigated by file_browser.">file_info</a> or array/stdClass with field 'filename' and 'mimetype', or just a string with mimetype (though it is recommended to have filename); In case of array/stdClass the field 'mimetype' is optional. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$capitalise</td><td>If true, capitalises first character of result </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td><a class="el" href="../../da/d0e/class_text.html">Text</a> description </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad061703994d6fd5482154384516b276a" name="gad061703994d6fd5482154384516b276a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad061703994d6fd5482154384516b276a">&#9670;&#160;</a></span>get_mimetype_for_sending()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_mimetype_for_sending </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filename</em> = <code>''</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine a file's MIME type based on the given filename using the function mimeinfo. </p>
<p>This function retrieves a file's MIME type for a file that will be sent to the user. This should only be used for file-sending purposes just like in send_stored_file, send_file, and send_temp_file. Should the file's MIME type cannot be determined by mimeinfo, it will return 'application/octet-stream' as a default MIME type which should tell the browser "I don't know what type of file this is, so just download it.".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>The file's filename. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The file's MIME type or 'application/octet-stream' if it cannot be determined. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga17b21167dddcafc6b9df46cdfea08017" name="ga17b21167dddcafc6b9df46cdfea08017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17b21167dddcafc6b9df46cdfea08017">&#9670;&#160;</a></span>get_moodle_proxy_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_moodle_proxy_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the moodle proxy configuration as a formatted url. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the string to use for proxy settings. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab3f66aa39432aa6ed3d235259f1c156f" name="gab3f66aa39432aa6ed3d235259f1c156f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab3f66aa39432aa6ed3d235259f1c156f">&#9670;&#160;</a></span>readfile_accel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readfile_accel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mimetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$accelerate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enhanced readfile() with optional acceleration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td><td class="paramname">$file</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$mimetype</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$accelerate</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7bd4603b902f3ecbea46a2a2e466be59" name="ga7bd4603b902f3ecbea46a2a2e466be59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7bd4603b902f3ecbea46a2a2e466be59">&#9670;&#160;</a></span>readfile_allow_large()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readfile_allow_large </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filesize</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The readfile function can fail when files are larger than 2GB (even on 64-bit platforms). </p>
<p>This wrapper uses readfile for small files and custom code for large ones.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>Path to file </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$filesize</td><td>Size of file (if left out, will get it automatically) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|bool</td><td>Size read (will always be $filesize) or false if failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0ba413cdcd68252c059dedc3d76ded27" name="ga0ba413cdcd68252c059dedc3d76ded27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ba413cdcd68252c059dedc3d76ded27">&#9670;&#160;</a></span>readstring_accel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readstring_accel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mimetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$accelerate</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Similar to <a class="el" href="../../d5/d09/group__core__files.html#gab3f66aa39432aa6ed3d235259f1c156f" title="Enhanced readfile() with optional acceleration.">readfile_accel()</a> but designed for strings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$string</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$mimetype</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$accelerate</td><td>Ignored </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaaa214612e8f94f81d42b37fc28de9924" name="gaaa214612e8f94f81d42b37fc28de9924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa214612e8f94f81d42b37fc28de9924">&#9670;&#160;</a></span>send_content_uncached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">send_content_uncached </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serve content which is not meant to be cached. </p>
<p>This is only intended to be used for volatile public files, for instance when development is enabled, or when caching is not required on a public resource.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$content</td><td>Raw content. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>The file name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga863d05ce1a40ff489a03d97f43c40f7d" name="ga863d05ce1a40ff489a03d97f43c40f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga863d05ce1a40ff489a03d97f43c40f7d">&#9670;&#160;</a></span>send_file_not_found()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stdClass send_file_not_found </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requested file is not found or not accessible, does not return, terminates script. </p>
<p>$CFG @global stdClass $COURSE </p>

</div>
</div>
<a id="ga9748f110ef54ba552adf809019829fc4" name="ga9748f110ef54ba552adf809019829fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9748f110ef54ba552adf809019829fc4">&#9670;&#160;</a></span>send_temp_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">send_temp_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pathisstring</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the sending of temporary file to user, download is forced. </p>
<p>File is deleted after abort or successful sending, does not return, script terminated</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>path to file, preferably from moodledata/temp/something; or content of file itself </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>proposed file name when saving file </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$pathisstring</td><td>If the path is string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa78e6b6645ca7b6297b7df88077f501f" name="gaa78e6b6645ca7b6297b7df88077f501f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa78e6b6645ca7b6297b7df88077f501f">&#9670;&#160;</a></span>send_temp_file_finished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">send_temp_file_finished </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal callback function used by <a class="el" href="../../d5/d09/group__core__files.html#ga9748f110ef54ba552adf809019829fc4" title="Handles the sending of temporary file to user, download is forced.">send_temp_file()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab30721c8b2cdcf34b7c8cacf1fefab98" name="gab30721c8b2cdcf34b7c8cacf1fefab98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab30721c8b2cdcf34b7c8cacf1fefab98">&#9670;&#160;</a></span>xsendfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xsendfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filepath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serve file using X-Sendfile header, this needs special server module or configuration. </p>
<p>Please make sure that all headers are already sent and the all access control checks passed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filepath</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 18 2023 03:11:57 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
