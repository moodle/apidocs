<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: MongoDB\Operation\FindAndModify Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.11 (Build: 20240610) (c8c84b4af18)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search',false);
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d1/d48/namespace_mongo_d_b.html">MongoDB</a></li><li class="navelem"><a class="el" href="../../d8/d88/namespace_mongo_d_b_1_1_operation.html">Operation</a></li><li class="navelem"><a class="el" href="../../d7/d0a/class_mongo_d_b_1_1_operation_1_1_find_and_modify.html">FindAndModify</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../dc/d45/class_mongo_d_b_1_1_operation_1_1_find_and_modify-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MongoDB\Operation\FindAndModify Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for MongoDB\Operation\FindAndModify:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d7/d0a/class_mongo_d_b_1_1_operation_1_1_find_and_modify.png" usemap="#MongoDB_5COperation_5CFindAndModify_map" alt=""/>
  <map id="MongoDB_5COperation_5CFindAndModify_map" name="MongoDB_5COperation_5CFindAndModify_map">
<area href="../../d7/d7c/interface_mongo_d_b_1_1_operation_1_1_executable.html" alt="MongoDB\Operation\Executable" shape="rect" coords="0,56,219,80"/>
<area href="../../d6/dd0/interface_mongo_d_b_1_1_operation_1_1_explainable.html" alt="MongoDB\Operation\Explainable" shape="rect" coords="229,56,448,80"/>
<area href="../../d7/d7c/interface_mongo_d_b_1_1_operation_1_1_executable.html" alt="MongoDB\Operation\Executable" shape="rect" coords="229,0,448,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7566ccaea5ad04de3bb51ec3fa88d0d1" id="r_a7566ccaea5ad04de3bb51ec3fa88d0d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7566ccaea5ad04de3bb51ec3fa88d0d1">__construct</a> (string $databaseName, string $collectionName, array $options)</td></tr>
<tr class="memdesc:a7566ccaea5ad04de3bb51ec3fa88d0d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a findAndModify command.  <br /></td></tr>
<tr class="separator:a7566ccaea5ad04de3bb51ec3fa88d0d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7803768b1cbf943e73c05fba54a208" id="r_a9e7803768b1cbf943e73c05fba54a208"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e7803768b1cbf943e73c05fba54a208">execute</a> (Server $<a class="el" href="../../dc/d71/group___imap___client.html#gaa7cf0dd2417970c0d8ade087cb1dc7f8">server</a>)</td></tr>
<tr class="memdesc:a9e7803768b1cbf943e73c05fba54a208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the operation.  <br /></td></tr>
<tr class="separator:a9e7803768b1cbf943e73c05fba54a208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46d9d7a25aeb01ecc274e9abc13ad854" id="r_a46d9d7a25aeb01ecc274e9abc13ad854"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46d9d7a25aeb01ecc274e9abc13ad854">getCommandDocument</a> (Server $<a class="el" href="../../dc/d71/group___imap___client.html#gaa7cf0dd2417970c0d8ade087cb1dc7f8">server</a>)</td></tr>
<tr class="memdesc:a46d9d7a25aeb01ecc274e9abc13ad854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the command document for this operation.  <br /></td></tr>
<tr class="separator:a46d9d7a25aeb01ecc274e9abc13ad854"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7566ccaea5ad04de3bb51ec3fa88d0d1" name="a7566ccaea5ad04de3bb51ec3fa88d0d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7566ccaea5ad04de3bb51ec3fa88d0d1">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MongoDB\Operation\FindAndModify::__construct </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$databaseName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$collectionName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array</td>          <td class="paramname"><span class="paramname"><em>$options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a findAndModify command. </p>
<p>Supported options:</p>
<ul>
<li>arrayFilters (document array): A set of filters specifying to which array elements an update should apply.</li>
<li>collation (document): Collation specification.</li>
<li><p class="startli">comment (mixed): BSON value to attach as a comment to this command.</p>
<p class="startli">This is not supported for servers versions &lt; 4.4.</p>
</li>
<li>bypassDocumentValidation (boolean): If true, allows the write to circumvent document level validation.</li>
<li>fields (document): Limits the fields to return for the matching document.</li>
<li><p class="startli">hint (string|document): The index to use. Specify either the index name as a string or the index key pattern as a document. If specified, then the query system will only consider plans using the hinted index.</p>
<p class="startli">This is only supported on server versions &gt;= 4.4. Using this option in other contexts will result in an exception at execution time.</p>
</li>
<li>maxTimeMS (integer): The maximum amount of time to allow the query to run.</li>
<li>new (boolean): When true, returns the modified document rather than the original. This option is ignored for remove operations. The The default is false.</li>
<li>query (document): Query by which to filter documents.</li>
<li>remove (boolean): When true, removes the matched document. This option cannot be true if the update option is set. The default is false.</li>
<li>session (MongoDB\Driver\Session): <a class="el" href="../../d3/d7a/class_client.html">Client</a> session.</li>
<li>sort (document): Determines which document the operation modifies if the query selects multiple documents.</li>
<li>typeMap (array): Type map for BSON deserialization.</li>
<li>update (document): Update or replacement to apply to the matched document. This option cannot be set if the remove option is true.</li>
<li>upsert (boolean): When true, a new document is created if no document matches the query. This option is ignored for remove operations. The default is false.</li>
<li>let (document): Map of parameter names and values. Values must be constant or closed expressions that do not reference document fields. Parameters can then be accessed as variables in an aggregate expression context (e.g. "$$var").</li>
<li>writeConcern (MongoDB\Driver\WriteConcern): Write concern.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$databaseName</td><td>Database name </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$collectionName</td><td>Collection name </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>Command options </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">InvalidArgumentException</td><td>for parameter/option parsing errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9e7803768b1cbf943e73c05fba54a208" name="a9e7803768b1cbf943e73c05fba54a208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7803768b1cbf943e73c05fba54a208">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MongoDB\Operation\FindAndModify::execute </td>
          <td>(</td>
          <td class="paramtype">Server</td>          <td class="paramname"><span class="paramname"><em>$server</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute the operation. </p>
<dl class="section see"><dt>See also</dt><dd>Executable\execute() </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|object|null</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">UnexpectedValueException</td><td>if the command response was malformed </td></tr>
    <tr><td class="paramname">UnsupportedException</td><td>if hint or write concern is used and unsupported </td></tr>
    <tr><td class="paramname">DriverRuntimeException</td><td>for other driver errors (e.g. connection errors) </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d7/d7c/interface_mongo_d_b_1_1_operation_1_1_executable.html#a2a0d642f8265ebbc16968033cbe0d7d4">MongoDB\Operation\Executable</a>.</p>

</div>
</div>
<a id="a46d9d7a25aeb01ecc274e9abc13ad854" name="a46d9d7a25aeb01ecc274e9abc13ad854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46d9d7a25aeb01ecc274e9abc13ad854">&#9670;&#160;</a></span>getCommandDocument()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MongoDB\Operation\FindAndModify::getCommandDocument </td>
          <td>(</td>
          <td class="paramtype">Server</td>          <td class="paramname"><span class="paramname"><em>$server</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the command document for this operation. </p>
<dl class="section see"><dt>See also</dt><dd>Explainable\getCommandDocument() </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d6/dd0/interface_mongo_d_b_1_1_operation_1_1_explainable.html#aca5db3b08170fbc519ad14e9f32907fa">MongoDB\Operation\Explainable</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cache/stores/mongodb/MongoDB/Operation/<b>FindAndModify.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 9 2024 02:40:24 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
