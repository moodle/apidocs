<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: moodle_list Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.4+ (Build: 20230728) (13553c25da0)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../d8/d68/classmoodle__list-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">moodle_list Class Reference<div class="ingroups"><a class="el" href="../../d0/de1/group__core.html">core</a> &#124; <a class="el" href="../../d6/d9f/group__moodlecore.html">moodlecore</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Clues to reading this code:  
 <a href="../../d4/d86/classmoodle__list.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for moodle_list:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d4/d86/classmoodle__list.png" usemap="#moodle_5Flist_map" alt=""/>
  <map id="moodle_5Flist_map" name="moodle_5Flist_map">
<area href="../../d3/d69/classqbank__managecategories_1_1question__category__list.html" alt="qbank_managecategories\question_category_list" shape="rect" coords="0,56,284,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aebf3713de440a3eb9a052b09e58bd478"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#aebf3713de440a3eb9a052b09e58bd478">__construct</a> ($type='ul', $attributes='', $editable=false, $pageurl=null, $page=0, $pageparamname='page', $itemsperpage=20)</td></tr>
<tr class="memdesc:aebf3713de440a3eb9a052b09e58bd478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:aebf3713de440a3eb9a052b09e58bd478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef100472c7599ba73b8ff81024cd476"><td class="memItemLeft" align="right" valign="top"><a id="a3ef100472c7599ba73b8ff81024cd476" name="a3ef100472c7599ba73b8ff81024cd476"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>add_item</b> ($item)</td></tr>
<tr class="separator:a3ef100472c7599ba73b8ff81024cd476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd85bdc2945f5addd810b80ac159b50"><td class="memItemLeft" align="right" valign="top"><a id="a8dd85bdc2945f5addd810b80ac159b50" name="a8dd85bdc2945f5addd810b80ac159b50"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>display_page_numbers</b> ()</td></tr>
<tr class="memdesc:a8dd85bdc2945f5addd810b80ac159b50"><td class="mdescLeft">&#160;</td><td class="mdescRight">display list of page numbers for navigation <br /></td></tr>
<tr class="separator:a8dd85bdc2945f5addd810b80ac159b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a861328d89c5305fd6a5259517e9be381"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a861328d89c5305fd6a5259517e9be381">find_item</a> ($id, $suppresserror=false)</td></tr>
<tr class="memdesc:a861328d89c5305fd6a5259517e9be381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recurse down the tree and find an item by it's id.  <br /></td></tr>
<tr class="separator:a861328d89c5305fd6a5259517e9be381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721d96f3e851872fde674feb0d6a4945"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a721d96f3e851872fde674feb0d6a4945">get_child_ids</a> ()</td></tr>
<tr class="memdesc:a721d96f3e851872fde674feb0d6a4945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of ids of child items.  <br /></td></tr>
<tr class="separator:a721d96f3e851872fde674feb0d6a4945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d41c35d97097f87de465da3f7a6905a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a0d41c35d97097f87de465da3f7a6905a">get_items_peers</a> ($itemid)</td></tr>
<tr class="memdesc:a0d41c35d97097f87de465da3f7a6905a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of ids of peers of an item.  <br /></td></tr>
<tr class="separator:a0d41c35d97097f87de465da3f7a6905a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffe7c494bf1d4f81139d4660e180a9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a9ffe7c494bf1d4f81139d4660e180a9a">get_records</a> ()</td></tr>
<tr class="memdesc:a9ffe7c494bf1d4f81139d4660e180a9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should be overriden to return an array of records of list items.  <br /></td></tr>
<tr class="separator:a9ffe7c494bf1d4f81139d4660e180a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec3c47c28a562914017d2b32c31937f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a3ec3c47c28a562914017d2b32c31937f">get_top_level_parent_id</a> ($item)</td></tr>
<tr class="memdesc:a3ec3c47c28a562914017d2b32c31937f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value to be used as the parent for the $item when it goes to the top level.  <br /></td></tr>
<tr class="separator:a3ec3c47c28a562914017d2b32c31937f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a669223ecbc3da29e3a260cb2d31868a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a669223ecbc3da29e3a260cb2d31868a9">item_is_first_on_page</a> ($itemid)</td></tr>
<tr class="separator:a669223ecbc3da29e3a260cb2d31868a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a843e2303c39071882abaa4d81049b9ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a843e2303c39071882abaa4d81049b9ce">item_is_last_on_page</a> ($itemid)</td></tr>
<tr class="separator:a843e2303c39071882abaa4d81049b9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082ab86c24e9ad065f9dfe2806ccccd0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a082ab86c24e9ad065f9dfe2806ccccd0">list_from_records</a> ($paged=false, $offset=0)</td></tr>
<tr class="memdesc:a082ab86c24e9ad065f9dfe2806ccccd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produces a hierarchical tree of list items from a flat array of records.  <br /></td></tr>
<tr class="separator:a082ab86c24e9ad065f9dfe2806ccccd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f265cb6b8f41d75fde18598d23e38a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a65f265cb6b8f41d75fde18598d23e38a">move_item_left</a> ($id)</td></tr>
<tr class="memdesc:a65f265cb6b8f41d75fde18598d23e38a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves the item one step up in the tree.  <br /></td></tr>
<tr class="separator:a65f265cb6b8f41d75fde18598d23e38a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0206ef9939a06765d1f2368e88265a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#acf0206ef9939a06765d1f2368e88265a">move_item_right</a> ($id)</td></tr>
<tr class="memdesc:acf0206ef9939a06765d1f2368e88265a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make item with id $id the child of the peer that is just above it in the sort order.  <br /></td></tr>
<tr class="separator:acf0206ef9939a06765d1f2368e88265a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14f8f2cba31aefbce13438e030e9b59c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a14f8f2cba31aefbce13438e030e9b59c">move_item_up_down</a> ($direction, $id)</td></tr>
<tr class="memdesc:a14f8f2cba31aefbce13438e030e9b59c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move a record up or down.  <br /></td></tr>
<tr class="separator:a14f8f2cba31aefbce13438e030e9b59c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c371c4debd75ed72a36397ae0160437"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a3c371c4debd75ed72a36397ae0160437">process_actions</a> ($left, $right, $moveup, $movedown)</td></tr>
<tr class="memdesc:a3c371c4debd75ed72a36397ae0160437"><td class="mdescLeft">&#160;</td><td class="mdescRight">process any actions.  <br /></td></tr>
<tr class="separator:a3c371c4debd75ed72a36397ae0160437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da6de4fe30972dd435b0773e929a17a"><td class="memItemLeft" align="right" valign="top"><a id="a6da6de4fe30972dd435b0773e929a17a" name="a6da6de4fe30972dd435b0773e929a17a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>reorder_peers</b> ($peers)</td></tr>
<tr class="separator:a6da6de4fe30972dd435b0773e929a17a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6276c7e5974020d622162f2bef7d6db"><td class="memItemLeft" align="right" valign="top"><a id="ab6276c7e5974020d622162f2bef7d6db" name="ab6276c7e5974020d622162f2bef7d6db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>set_parent</b> ($parent)</td></tr>
<tr class="separator:ab6276c7e5974020d622162f2bef7d6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae49bc3ac65dfe07df74675f2a18b1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d86/classmoodle__list.html#a5ae49bc3ac65dfe07df74675f2a18b1e">to_html</a> ($indent=0, $extraargs=array())</td></tr>
<tr class="memdesc:a5ae49bc3ac65dfe07df74675f2a18b1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns html string.  <br /></td></tr>
<tr class="separator:a5ae49bc3ac65dfe07df74675f2a18b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a3d2cfd2b10cbf41d349842d8ae3473cb"><td class="memItemLeft" align="right" valign="top"><a id="a3d2cfd2b10cbf41d349842d8ae3473cb" name="a3d2cfd2b10cbf41d349842d8ae3473cb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$attributes</b></td></tr>
<tr class="separator:a3d2cfd2b10cbf41d349842d8ae3473cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f8954578adb2ac41ebba529df57a2fc"><td class="memItemLeft" align="right" valign="top"><a id="a2f8954578adb2ac41ebba529df57a2fc" name="a2f8954578adb2ac41ebba529df57a2fc"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$childparent</b></td></tr>
<tr class="memdesc:a2f8954578adb2ac41ebba529df57a2fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">keys are child ids, values are parents. <br /></td></tr>
<tr class="separator:a2f8954578adb2ac41ebba529df57a2fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2b41cbe7199ac58856ad434cc5cee84"><td class="memItemLeft" align="right" valign="top"><a id="ae2b41cbe7199ac58856ad434cc5cee84" name="ae2b41cbe7199ac58856ad434cc5cee84"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$editable</b></td></tr>
<tr class="separator:ae2b41cbe7199ac58856ad434cc5cee84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4000f3d0d24c877fa75de2294f521dd"><td class="memItemLeft" align="right" valign="top"><a id="af4000f3d0d24c877fa75de2294f521dd" name="af4000f3d0d24c877fa75de2294f521dd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$fieldnamesparent</b> = 'parent'</td></tr>
<tr class="separator:af4000f3d0d24c877fa75de2294f521dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a317a1cda3ac913a5ea7eaf6775bc0d99"><td class="memItemLeft" align="right" valign="top"><a id="a317a1cda3ac913a5ea7eaf6775bc0d99" name="a317a1cda3ac913a5ea7eaf6775bc0d99"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$firstitem</b> = 1</td></tr>
<tr class="separator:a317a1cda3ac913a5ea7eaf6775bc0d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0493fe98ce585ded27e4b80554a392d8"><td class="memItemLeft" align="right" valign="top"><a id="a0493fe98ce585ded27e4b80554a392d8" name="a0493fe98ce585ded27e4b80554a392d8"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$items</b> = array()</td></tr>
<tr class="memdesc:a0493fe98ce585ded27e4b80554a392d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">of $listitemclassname objects. <br /></td></tr>
<tr class="separator:a0493fe98ce585ded27e4b80554a392d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54457ec790233f6a774ed63748218c67"><td class="memItemLeft" align="right" valign="top"><a id="a54457ec790233f6a774ed63748218c67" name="a54457ec790233f6a774ed63748218c67"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$lastitem</b> = 999999</td></tr>
<tr class="separator:a54457ec790233f6a774ed63748218c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3246a805e51bd8c031a921248b00a93"><td class="memItemLeft" align="right" valign="top"><a id="af3246a805e51bd8c031a921248b00a93" name="af3246a805e51bd8c031a921248b00a93"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$listitemclassname</b> = '<a class="el" href="../../d6/dca/classlist__item.html">list_item</a>'</td></tr>
<tr class="separator:af3246a805e51bd8c031a921248b00a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a731534c554ded98e6134d122c3f87c4b"><td class="memItemLeft" align="right" valign="top"><a id="a731534c554ded98e6134d122c3f87c4b" name="a731534c554ded98e6134d122c3f87c4b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$offset</b> = 0</td></tr>
<tr class="separator:a731534c554ded98e6134d122c3f87c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118b63ccdd5bcf7dabf0d3e7c9dfd5cf"><td class="memItemLeft" align="right" valign="top"><a id="a118b63ccdd5bcf7dabf0d3e7c9dfd5cf" name="a118b63ccdd5bcf7dabf0d3e7c9dfd5cf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$page</b> = 0</td></tr>
<tr class="separator:a118b63ccdd5bcf7dabf0d3e7c9dfd5cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae40c78a5f5129751e3c30b8613fbf5d3"><td class="memItemLeft" align="right" valign="top"><a id="ae40c78a5f5129751e3c30b8613fbf5d3" name="ae40c78a5f5129751e3c30b8613fbf5d3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$pagecount</b></td></tr>
<tr class="separator:ae40c78a5f5129751e3c30b8613fbf5d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508bd43299ba4248d5a92275916b9c70"><td class="memItemLeft" align="right" valign="top"><a id="a508bd43299ba4248d5a92275916b9c70" name="a508bd43299ba4248d5a92275916b9c70"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$paged</b> = false</td></tr>
<tr class="separator:a508bd43299ba4248d5a92275916b9c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73b2222267cc610e531e830abf1fae5"><td class="memItemLeft" align="right" valign="top"><a id="af73b2222267cc610e531e830abf1fae5" name="af73b2222267cc610e531e830abf1fae5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$pageparamname</b></td></tr>
<tr class="separator:af73b2222267cc610e531e830abf1fae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f65f4f40b2494bab62368fbdcc34218"><td class="memItemLeft" align="right" valign="top"><a id="a7f65f4f40b2494bab62368fbdcc34218" name="a7f65f4f40b2494bab62368fbdcc34218"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$pageurl</b></td></tr>
<tr class="separator:a7f65f4f40b2494bab62368fbdcc34218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59229c2d05032bba80508d4d75a765a3"><td class="memItemLeft" align="right" valign="top"><a id="a59229c2d05032bba80508d4d75a765a3" name="a59229c2d05032bba80508d4d75a765a3"></a>
<a class="el" href="../../d6/dca/classlist__item.html">list_item</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$parentitem</b> = null</td></tr>
<tr class="memdesc:a59229c2d05032bba80508d4d75a765a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">or derived class. <br /></td></tr>
<tr class="separator:a59229c2d05032bba80508d4d75a765a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c100c18cf9989e5212274f43089cbb"><td class="memItemLeft" align="right" valign="top"><a id="a61c100c18cf9989e5212274f43089cbb" name="a61c100c18cf9989e5212274f43089cbb"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$records</b> = array()</td></tr>
<tr class="memdesc:a61c100c18cf9989e5212274f43089cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records from db, only used in top level list. <br /></td></tr>
<tr class="separator:a61c100c18cf9989e5212274f43089cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae826a83b0bed08b7c4222f5ebe68de99"><td class="memItemLeft" align="right" valign="top"><a id="ae826a83b0bed08b7c4222f5ebe68de99" name="ae826a83b0bed08b7c4222f5ebe68de99"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$table</b></td></tr>
<tr class="separator:ae826a83b0bed08b7c4222f5ebe68de99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd49189e751f8fccb11041c7ed5a8eaa"><td class="memItemLeft" align="right" valign="top"><a id="acd49189e751f8fccb11041c7ed5a8eaa" name="acd49189e751f8fccb11041c7ed5a8eaa"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$type</b></td></tr>
<tr class="memdesc:acd49189e751f8fccb11041c7ed5a8eaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">'ol' or 'ul'. <br /></td></tr>
<tr class="separator:acd49189e751f8fccb11041c7ed5a8eaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Clues to reading this code: </p>
<p>The functions that move things around the tree structure just update the database - they don't update the in-memory structure, instead they trigger a page reload so everything is rebuilt from scratch.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Jamie Pratt </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aebf3713de440a3eb9a052b09e58bd478" name="aebf3713de440a3eb9a052b09e58bd478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebf3713de440a3eb9a052b09e58bd478">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em> = <code>'ul'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$attributes</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$editable</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pageurl</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$page</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pageparamname</em> = <code>'page'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemsperpage</em> = <code>20</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$attributes</td><td></td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$editable</td><td></td></tr>
    <tr><td class="paramtype"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td class="paramname">$pageurl</td><td>url for this page </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$page</td><td>if 0 no pagination. (These three params only used in top level list.) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$pageparamname</td><td>name of url param that is used for passing page no </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$itemsperpage</td><td>no of top level items. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a861328d89c5305fd6a5259517e9be381" name="a861328d89c5305fd6a5259517e9be381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a861328d89c5305fd6a5259517e9be381">&#9670;&#160;</a></span>find_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::find_item </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$suppresserror</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recurse down the tree and find an item by it's id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$id</td><td></td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$suppresserror</td><td>error if not item found? </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/dca/classlist__item.html">list_item</a></td><td><em>copy</em> or null if item is not found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a721d96f3e851872fde674feb0d6a4945" name="a721d96f3e851872fde674feb0d6a4945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721d96f3e851872fde674feb0d6a4945">&#9670;&#160;</a></span>get_child_ids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::get_child_ids </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an array of ids of child items. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>peer ids </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d41c35d97097f87de465da3f7a6905a" name="a0d41c35d97097f87de465da3f7a6905a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d41c35d97097f87de465da3f7a6905a">&#9670;&#160;</a></span>get_items_peers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::get_items_peers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an array of ids of peers of an item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>itemid - if given, restrict records to those with this parent id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>peer ids </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9ffe7c494bf1d4f81139d4660e180a9a" name="a9ffe7c494bf1d4f81139d4660e180a9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ffe7c494bf1d4f81139d4660e180a9a">&#9670;&#160;</a></span>get_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::get_records </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should be overriden to return an array of records of list items. </p>

<p>Reimplemented in <a class="el" href="../../d3/d69/classqbank__managecategories_1_1question__category__list.html#a10343639926e47f11ab2b31bfcf95556">qbank_managecategories\question_category_list</a>.</p>

</div>
</div>
<a id="a3ec3c47c28a562914017d2b32c31937f" name="a3ec3c47c28a562914017d2b32c31937f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec3c47c28a562914017d2b32c31937f">&#9670;&#160;</a></span>get_top_level_parent_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::get_top_level_parent_id </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value to be used as the parent for the $item when it goes to the top level. </p>
<p>Override if needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d6/dca/classlist__item.html">list_item</a></td><td class="paramname">$item</td><td>The item which its top level parent is going to be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d69/classqbank__managecategories_1_1question__category__list.html#a7f30fff248a402c6674180b3cd522a85">qbank_managecategories\question_category_list</a>.</p>

</div>
</div>
<a id="a669223ecbc3da29e3a260cb2d31868a9" name="a669223ecbc3da29e3a260cb2d31868a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a669223ecbc3da29e3a260cb2d31868a9">&#9670;&#160;</a></span>item_is_first_on_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::item_is_first_on_page </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$itemid</td><td>an item id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>Is the item with the given id the first top-level item on the current page? </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a843e2303c39071882abaa4d81049b9ce" name="a843e2303c39071882abaa4d81049b9ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a843e2303c39071882abaa4d81049b9ce">&#9670;&#160;</a></span>item_is_last_on_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::item_is_last_on_page </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$itemid</td><td>an item id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>Is the item with the given id the last top-level item on the current page? </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a082ab86c24e9ad065f9dfe2806ccccd0" name="a082ab86c24e9ad065f9dfe2806ccccd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a082ab86c24e9ad065f9dfe2806ccccd0">&#9670;&#160;</a></span>list_from_records()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::list_from_records </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$paged</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$offset</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Produces a hierarchical tree of list items from a flat array of records. </p>
<p>'parent' field is expected to point to a parent record. records are already sorted. If the parent field doesn't point to another record in the array then this is a top level list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$offset</td><td>how many list toplevel items are there in lists before this one </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array(boolean,integer)</td><td>whether there is more than one page, $offset + how many toplevel items where there in this list. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a65f265cb6b8f41d75fde18598d23e38a" name="a65f265cb6b8f41d75fde18598d23e38a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f265cb6b8f41d75fde18598d23e38a">&#9670;&#160;</a></span>move_item_left()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::move_item_left </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves the item one step up in the tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>an item index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d6/dca/classlist__item.html">list_item</a></td><td>the item that used to be the parent of the item moved. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acf0206ef9939a06765d1f2368e88265a" name="acf0206ef9939a06765d1f2368e88265a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf0206ef9939a06765d1f2368e88265a">&#9670;&#160;</a></span>move_item_right()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::move_item_right </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make item with id $id the child of the peer that is just above it in the sort order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$id</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a14f8f2cba31aefbce13438e030e9b59c" name="a14f8f2cba31aefbce13438e030e9b59c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14f8f2cba31aefbce13438e030e9b59c">&#9670;&#160;</a></span>move_item_up_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::move_item_up_down </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move a record up or down. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$direction</td><td>up / down </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$id</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c371c4debd75ed72a36397ae0160437" name="a3c371c4debd75ed72a36397ae0160437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c371c4debd75ed72a36397ae0160437">&#9670;&#160;</a></span>process_actions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::process_actions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$moveup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$movedown</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>process any actions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$left</td><td>id of item to move left </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$right</td><td>id of item to move right </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$moveup</td><td>id of item to move up </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$movedown</td><td>id of item to move down </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">unknown</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d3/d69/classqbank__managecategories_1_1question__category__list.html#a166d12ee991162b3772e4360dd688b9d">qbank_managecategories\question_category_list</a>.</p>

</div>
</div>
<a id="a5ae49bc3ac65dfe07df74675f2a18b1e" name="a5ae49bc3ac65dfe07df74675f2a18b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ae49bc3ac65dfe07df74675f2a18b1e">&#9670;&#160;</a></span>to_html()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">moodle_list::to_html </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$indent</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extraargs</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns html string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$indent</td><td>depth of indentation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/listlib.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 30 2023 02:48:33 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
