<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: cache_is_lockable Interface Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.1+ (Build: 20230217) (3312a6814a5)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d1/dcd/interfacecache__is__lockable-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cache_is_lockable Interface Reference<div class="ingroups"><a class="el" href="../../d0/de1/group__core.html">core</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Cache store feature: locking.  
 <a href="../../d0/d78/interfacecache__is__lockable.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for cache_is_lockable:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d0/d78/interfacecache__is__lockable.png" usemap="#cache_5Fis_5Flockable_map" alt=""/>
  <map id="cache_5Fis_5Flockable_map" name="cache_5Fis_5Flockable_map">
<area href="../../da/df9/classcachestore__file.html" title="The file store class." alt="cachestore_file" shape="rect" coords="0,56,117,80"/>
<area href="../../dc/dea/classcachestore__redis.html" title="Redis Cache Store." alt="cachestore_redis" shape="rect" coords="127,56,244,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a321c2d60b5b0e3887751db0fd4649061"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d78/interfacecache__is__lockable.html#a321c2d60b5b0e3887751db0fd4649061">acquire_lock</a> ($key, $ownerid)</td></tr>
<tr class="memdesc:a321c2d60b5b0e3887751db0fd4649061"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires a lock on the given key for the given identifier.  <br /></td></tr>
<tr class="separator:a321c2d60b5b0e3887751db0fd4649061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a153faafa36fd95329e46012954bafa8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d78/interfacecache__is__lockable.html#a153faafa36fd95329e46012954bafa8f">check_lock_state</a> ($key, $ownerid)</td></tr>
<tr class="memdesc:a153faafa36fd95329e46012954bafa8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if there is already a lock for the given key and if there is whether it belongs to the calling code.  <br /></td></tr>
<tr class="separator:a153faafa36fd95329e46012954bafa8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa651a06ad8fcd16124b3d7bb41d1f8de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d78/interfacecache__is__lockable.html#aa651a06ad8fcd16124b3d7bb41d1f8de">release_lock</a> ($key, $ownerid)</td></tr>
<tr class="memdesc:aa651a06ad8fcd16124b3d7bb41d1f8de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the lock on the given key.  <br /></td></tr>
<tr class="separator:aa651a06ad8fcd16124b3d7bb41d1f8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Cache store feature: locking. </p>
<p>This is a feature that cache stores can implement if they wish to support locking themselves rather than having the cache loader handle it for them.</p>
<p>Can be implemented by classes already implementing <a class="el" href="../../d0/d4b/classcache__store.html">cache_store</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a321c2d60b5b0e3887751db0fd4649061" name="a321c2d60b5b0e3887751db0fd4649061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a321c2d60b5b0e3887751db0fd4649061">&#9670;&#160;</a></span>acquire_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cache_is_lockable::acquire_lock </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ownerid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquires a lock on the given key for the given identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>The key we are locking. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$ownerid</td><td>The identifier so we can check if we have the lock or if it is someone else. The use of this property is entirely optional and implementations can act as they like upon it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the lock could be acquired, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../da/df9/classcachestore__file.html#a9fe0fb30178209533b5d23aa9d3d8d44">cachestore_file</a>, and <a class="el" href="../../dc/dea/classcachestore__redis.html#ae8403f2959e41181e10fb7d98301a428">cachestore_redis</a>.</p>

</div>
</div>
<a id="a153faafa36fd95329e46012954bafa8f" name="a153faafa36fd95329e46012954bafa8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a153faafa36fd95329e46012954bafa8f">&#9670;&#160;</a></span>check_lock_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cache_is_lockable::check_lock_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ownerid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if there is already a lock for the given key and if there is whether it belongs to the calling code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>The key we are locking. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$ownerid</td><td>The identifier so we can check if we have the lock or if it is someone else. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if this code has the lock, false if there is a lock but this code doesn't have it, null if there is no lock. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../da/df9/classcachestore__file.html#a3fd093f5580490ba5082dfb722364198">cachestore_file</a>, and <a class="el" href="../../dc/dea/classcachestore__redis.html#ae309856eb831627d88c0a180b17b667d">cachestore_redis</a>.</p>

</div>
</div>
<a id="aa651a06ad8fcd16124b3d7bb41d1f8de" name="aa651a06ad8fcd16124b3d7bb41d1f8de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa651a06ad8fcd16124b3d7bb41d1f8de">&#9670;&#160;</a></span>release_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cache_is_lockable::release_lock </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ownerid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the lock on the given key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>The key we are locking. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$ownerid</td><td>The identifier so we can check if we have the lock or if it is someone else. The use of this property is entirely optional and implementations can act as they like upon it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the lock has been released, false if there was a problem releasing the lock. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../da/df9/classcachestore__file.html#a084ef2a2418005f8e22066b25e91258d">cachestore_file</a>, and <a class="el" href="../../dc/dea/classcachestore__redis.html#ac781ce5faa1bbe008df5c3874add1a15">cachestore_redis</a>.</p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>cache/classes/interfaces.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 19 2023 03:06:45 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
