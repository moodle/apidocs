<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: mod_quiz\question\bank\filter\custom_category_condition_helper Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.3+ (Build: 20230526) (090baf556eb)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../de/da7/namespacemod__quiz.html">mod_quiz</a></li><li class="navelem"><a class="el" href="../../d4/d00/namespacemod__quiz_1_1question.html">question</a></li><li class="navelem"><a class="el" href="../../d6/d00/namespacemod__quiz_1_1question_1_1bank.html">bank</a></li><li class="navelem"><a class="el" href="../../dc/dc9/namespacemod__quiz_1_1question_1_1bank_1_1filter.html">filter</a></li><li class="navelem"><a class="el" href="../../d0/dbf/classmod__quiz_1_1question_1_1bank_1_1filter_1_1custom__category__condition__helper.html">custom_category_condition_helper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../db/d32/classmod__quiz_1_1question_1_1bank_1_1filter_1_1custom__category__condition__helper-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mod_quiz\question\bank\filter\custom_category_condition_helper Class Reference<div class="ingroups"><a class="el" href="../../dd/df0/group__mod__quiz.html">mod_quiz</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for mod_quiz\question\bank\filter\custom_category_condition_helper:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d0/dbf/classmod__quiz_1_1question_1_1bank_1_1filter_1_1custom__category__condition__helper.png" usemap="#mod_5Fquiz_5Cquestion_5Cbank_5Cfilter_5Ccustom_5Fcategory_5Fcondition_5Fhelper_map" alt=""/>
  <map id="mod_5Fquiz_5Cquestion_5Cbank_5Cfilter_5Ccustom_5Fcategory_5Fcondition_5Fhelper_map" name="mod_5Fquiz_5Cquestion_5Cbank_5Cfilter_5Ccustom_5Fcategory_5Fcondition_5Fhelper_map">
<area href="../../d7/d82/classqbank__managecategories_1_1helper.html" alt="qbank_managecategories\helper" shape="rect" coords="0,0,375,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac3ce0a74a1023eb3a97b6b26f44b661c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#ac3ce0a74a1023eb3a97b6b26f44b661c">add_indented_names</a> (array $categories, int $nochildrenof=-1)</td></tr>
<tr class="memdesc:ac3ce0a74a1023eb3a97b6b26f44b661c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format categories into an indented list reflecting the tree structure.  <br /></td></tr>
<tr class="separator:ac3ce0a74a1023eb3a97b6b26f44b661c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38804dab2fe7a3429495252f3f70c4f3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#a38804dab2fe7a3429495252f3f70c4f3">flatten_category_tree</a> (array &amp;$categories, $id, int $depth=0, int $nochildrenof=-1)</td></tr>
<tr class="memdesc:a38804dab2fe7a3429495252f3f70c4f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only for the use of <a class="el" href="../../d0/de1/group__core.html#ga70d782028e5b254486f473143db1903e" title="Format categories into an indented list reflecting the tree structure.">add_indented_names()</a>.  <br /></td></tr>
<tr class="separator:a38804dab2fe7a3429495252f3f70c4f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f317af96ca6f8a7af74d885271125d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dbf/classmod__quiz_1_1question_1_1bank_1_1filter_1_1custom__category__condition__helper.html#af6f317af96ca6f8a7af74d885271125d">get_categories_for_contexts</a> ($contexts, string $sortorder='parent, sortorder, name ASC', bool $top=false, int $showallversions=0)</td></tr>
<tr class="memdesc:af6f317af96ca6f8a7af74d885271125d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the category objects, including a count of the number of questions in that category, for all the categories in the lists $contexts.  <br /></td></tr>
<tr class="separator:af6f317af96ca6f8a7af74d885271125d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac623f32d1c9a342b9bb9c2c3abe1a993"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#ac623f32d1c9a342b9bb9c2c3abe1a993">question_add_context_in_key</a> (array $categories)</td></tr>
<tr class="memdesc:ac623f32d1c9a342b9bb9c2c3abe1a993"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add context in categories key.  <br /></td></tr>
<tr class="separator:ac623f32d1c9a342b9bb9c2c3abe1a993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823a068f312199095e6526558b893c80"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#a823a068f312199095e6526558b893c80">question_can_delete_cat</a> (int $todelete)</td></tr>
<tr class="memdesc:a823a068f312199095e6526558b893c80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensures that this user is allowed to delete this category.  <br /></td></tr>
<tr class="separator:a823a068f312199095e6526558b893c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c6e018eda71f0c47d25bcd26388344"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dbf/classmod__quiz_1_1question_1_1bank_1_1filter_1_1custom__category__condition__helper.html#a23c6e018eda71f0c47d25bcd26388344">question_category_options</a> (array $contexts, bool $top=false, int $currentcat=0, bool $popupform=false, int $nochildrenof=-1, bool $escapecontextnames=true)</td></tr>
<tr class="memdesc:a23c6e018eda71f0c47d25bcd26388344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output an array of question categories.  <br /></td></tr>
<tr class="separator:a23c6e018eda71f0c47d25bcd26388344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51872ab778d16bde15543dc527dc6841"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#a51872ab778d16bde15543dc527dc6841">question_category_select_menu</a> (array $contexts, bool $top=false, int $currentcat=0, string $selected=&quot;&quot;, int $nochildrenof=-1, bool $return=false)</td></tr>
<tr class="memdesc:a51872ab778d16bde15543dc527dc6841"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output a select menu of question categories.  <br /></td></tr>
<tr class="separator:a51872ab778d16bde15543dc527dc6841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f7cf2337f0dde80a2c86a21ef8249c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#a58f7cf2337f0dde80a2c86a21ef8249c">question_fix_top_names</a> (array $categories, bool $<a class="el" href="../../dc/d71/group___imap___client.html#gab4e6060d5b0dd93113194ba83534d385">escape</a>=true)</td></tr>
<tr class="memdesc:a58f7cf2337f0dde80a2c86a21ef8249c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds top categories in the given categories hierarchy and replace their name with a proper localised string.  <br /></td></tr>
<tr class="separator:a58f7cf2337f0dde80a2c86a21ef8249c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a3c902e9621c7b58e6ed086e6de56e9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#a3a3c902e9621c7b58e6ed086e6de56e9">question_is_only_child_of_top_category_in_context</a> (int $categoryid)</td></tr>
<tr class="memdesc:a3a3c902e9621c7b58e6ed086e6de56e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether this is the only child of a top category in a context.  <br /></td></tr>
<tr class="separator:a3a3c902e9621c7b58e6ed086e6de56e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae90ca974695203f2a5e838a258fe88cf"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#ae90ca974695203f2a5e838a258fe88cf">question_is_top_category</a> (int $categoryid)</td></tr>
<tr class="memdesc:ae90ca974695203f2a5e838a258fe88cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the category is a "Top" category (with no parent).  <br /></td></tr>
<tr class="separator:ae90ca974695203f2a5e838a258fe88cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36340f2120fc1f43ae40228612347bf"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#ad36340f2120fc1f43ae40228612347bf">question_remove_stale_questions_from_category</a> (int $categoryid)</td></tr>
<tr class="memdesc:ad36340f2120fc1f43ae40228612347bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove stale questions from a category.  <br /></td></tr>
<tr class="separator:ad36340f2120fc1f43ae40228612347bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a4ea5b49fb40ff3e8ff7a7ef7bea7d828"><td class="memItemLeft" align="right" valign="top"><a id="a4ea5b49fb40ff3e8ff7a7ef7bea7d828" name="a4ea5b49fb40ff3e8ff7a7ef7bea7d828"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>PLUGINNAME</b> = 'qbank_managecategories'</td></tr>
<tr class="memdesc:a4ea5b49fb40ff3e8ff7a7ef7bea7d828"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of this plugin. <br /></td></tr>
<tr class="separator:a4ea5b49fb40ff3e8ff7a7ef7bea7d828"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac3ce0a74a1023eb3a97b6b26f44b661c" name="ac3ce0a74a1023eb3a97b6b26f44b661c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ce0a74a1023eb3a97b6b26f44b661c">&#9670;&#160;</a></span>add_indented_names()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static qbank_managecategories\helper::add_indented_names </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$categories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$nochildrenof</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Format categories into an indented list reflecting the tree structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$categories</td><td>An array of category objects, for example from the. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$nochildrenof</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>The formatted list of categories. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a38804dab2fe7a3429495252f3f70c4f3" name="a38804dab2fe7a3429495252f3f70c4f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38804dab2fe7a3429495252f3f70c4f3">&#9670;&#160;</a></span>flatten_category_tree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static qbank_managecategories\helper::flatten_category_tree </td>
          <td>(</td>
          <td class="paramtype">array &amp;&#160;</td>
          <td class="paramname"><em>$categories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$depth</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$nochildrenof</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only for the use of <a class="el" href="../../d0/de1/group__core.html#ga70d782028e5b254486f473143db1903e" title="Format categories into an indented list reflecting the tree structure.">add_indented_names()</a>. </p>
<p>Recursively adds an indentedname field to each category, starting with the category with id $id, and dealing with that category and all its children, and return a new array, with those categories in the right order.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$categories</td><td>an array of categories which has had childids fields added by <a class="el" href="../../d0/de1/group__core.html#ga8df79e80761139496f6e4bba40aeaa64" title="Private method, only for the use of add_indented_names().">flatten_category_tree()</a>. Passed by reference for performance only. It is not modfied. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>the category to start the indenting process from. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$depth</td><td>the indent depth. Used in recursive calls. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$nochildrenof</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>a new array of categories, in the right order for the tree. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af6f317af96ca6f8a7af74d885271125d" name="af6f317af96ca6f8a7af74d885271125d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6f317af96ca6f8a7af74d885271125d">&#9670;&#160;</a></span>get_categories_for_contexts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_quiz\question\bank\filter\custom_category_condition_helper::get_categories_for_contexts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contexts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$sortorder</em> = <code>'parent</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sortorder&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">name ASC'&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$top</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$showallversions</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all the category objects, including a count of the number of questions in that category, for all the categories in the lists $contexts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$contexts</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sortorder</td><td>used as the ORDER BY clause in the select statement. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$top</td><td>Whether to return the top categories or not. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$showallversions</td><td>1 to show all versions not only the latest. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of category objects. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#ac33a1ca80697c452bc4c61812340c3f9">qbank_managecategories\helper</a>.</p>

</div>
</div>
<a id="ac623f32d1c9a342b9bb9c2c3abe1a993" name="ac623f32d1c9a342b9bb9c2c3abe1a993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac623f32d1c9a342b9bb9c2c3abe1a993">&#9670;&#160;</a></span>question_add_context_in_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static qbank_managecategories\helper::question_add_context_in_key </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$categories</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add context in categories key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$categories</td><td>The list of categories. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a823a068f312199095e6526558b893c80" name="a823a068f312199095e6526558b893c80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a823a068f312199095e6526558b893c80">&#9670;&#160;</a></span>question_can_delete_cat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static qbank_managecategories\helper::question_can_delete_cat </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$todelete</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensures that this user is allowed to delete this category. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$todelete</td><td>a category id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d2/d15/classrequired__capability__exception.html" title="Exceptions indicating user does not have permissions to do something and the execution can not contin...">required_capability_exception</a></td><td></td></tr>
    <tr><td class="paramname">dml_exception|moodle_exception</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a23c6e018eda71f0c47d25bcd26388344" name="a23c6e018eda71f0c47d25bcd26388344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23c6e018eda71f0c47d25bcd26388344">&#9670;&#160;</a></span>question_category_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mod_quiz\question\bank\filter\custom_category_condition_helper::question_category_options </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$contexts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$top</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$currentcat</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$popupform</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$nochildrenof</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$escapecontextnames</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output an array of question categories. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$contexts</td><td>The list of contexts. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$top</td><td>Whether to return the top categories or not. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$currentcat</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$popupform</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$nochildrenof</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$escapecontextnames</td><td>Whether the returned name of the thing is to be HTML escaped or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception|dml_exception</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d7/d82/classqbank__managecategories_1_1helper.html#afa4c4f0ff64cc172a75e392c0f0c68ce">qbank_managecategories\helper</a>.</p>

</div>
</div>
<a id="a51872ab778d16bde15543dc527dc6841" name="a51872ab778d16bde15543dc527dc6841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51872ab778d16bde15543dc527dc6841">&#9670;&#160;</a></span>question_category_select_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static qbank_managecategories\helper::question_category_select_menu </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$contexts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$top</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$currentcat</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$selected</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$nochildrenof</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$return</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output a select menu of question categories. </p>
<p>Categories from this course and (optionally) published categories from other courses are included. Optionally, only categories the current user may edit can be included.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$contexts</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$top</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$currentcat</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$selected</td><td>optionally, the id of a category to be selected by default in the dropdown. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$nochildrenof</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$return</td><td>to return the string of the select menu or echo that from the method </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">coding_exception|dml_exception</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a58f7cf2337f0dde80a2c86a21ef8249c" name="a58f7cf2337f0dde80a2c86a21ef8249c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f7cf2337f0dde80a2c86a21ef8249c">&#9670;&#160;</a></span>question_fix_top_names()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static qbank_managecategories\helper::question_fix_top_names </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$categories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$escape</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds top categories in the given categories hierarchy and replace their name with a proper localised string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$categories</td><td>An array of question categories. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$escape</td><td>Whether the returned name of the thing is to be HTML escaped or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>The same question category list given to the function, with the top category names being translated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a3c902e9621c7b58e6ed086e6de56e9" name="a3a3c902e9621c7b58e6ed086e6de56e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a3c902e9621c7b58e6ed086e6de56e9">&#9670;&#160;</a></span>question_is_only_child_of_top_category_in_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static qbank_managecategories\helper::question_is_only_child_of_top_category_in_context </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$categoryid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether this is the only child of a top category in a context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$categoryid</td><td>a category id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae90ca974695203f2a5e838a258fe88cf" name="ae90ca974695203f2a5e838a258fe88cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae90ca974695203f2a5e838a258fe88cf">&#9670;&#160;</a></span>question_is_top_category()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static qbank_managecategories\helper::question_is_top_category </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$categoryid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether the category is a "Top" category (with no parent). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$categoryid</td><td>a category id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad36340f2120fc1f43ae40228612347bf" name="ad36340f2120fc1f43ae40228612347bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad36340f2120fc1f43ae40228612347bf">&#9670;&#160;</a></span>question_remove_stale_questions_from_category()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static qbank_managecategories\helper::question_remove_stale_questions_from_category </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$categoryid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove stale questions from a category. </p>
<p>While questions should not be left behind when they are not used any more, it does happen, maybe via restore, or old logic, or uncovered scenarios. When this happens, the users are unable to delete the question category unless they move those stale questions to another one category, but to them the category is empty as it does not contain anything. The purpose of this function is to detect the questions that may have gone stale and remove them.</p>
<p>You will typically use this prior to checking if the category contains questions.</p>
<p>The stale questions (unused and hidden to the user) handled are:</p><ul>
<li>hidden questions</li>
<li>random questions</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$categoryid</td><td>The category ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mod/quiz/classes/question/bank/filter/custom_category_condition_helper.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 28 2023 03:01:42 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
