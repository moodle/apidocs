<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: auth_plugin_ldap Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.1</span>
   </div>
   <div id="projectbrief">Moodle 4.1.4+ (Build: 20230616) (64b701190d3)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d4/d73/classauth__plugin__ldap-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">auth_plugin_ldap Class Reference<div class="ingroups"><a class="el" href="../../d0/d9f/group__auth__ldap.html">auth_ldap</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>LDAP authentication plugin.  
 <a href="../../d8/d60/classauth__plugin__ldap.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for auth_plugin_ldap:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d8/d60/classauth__plugin__ldap.png" usemap="#auth_5Fplugin_5Fldap_map" alt=""/>
  <map id="auth_5Fplugin_5Fldap_map" name="auth_5Fplugin_5Fldap_map">
<area href="../../da/d7a/classauth__plugin__base.html" title="Abstract authentication plugin." alt="auth_plugin_base" shape="rect" coords="0,0,111,24"/>
<area href="../../dc/daf/classauth__plugin__cas.html" title="CAS authentication plugin." alt="auth_plugin_cas" shape="rect" coords="0,112,111,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa61beaac5f8ebf0d00c4c86520a2a602"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#aa61beaac5f8ebf0d00c4c86520a2a602">__construct</a> ()</td></tr>
<tr class="memdesc:aa61beaac5f8ebf0d00c4c86520a2a602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor with initialisation.  <br /></td></tr>
<tr class="separator:aa61beaac5f8ebf0d00c4c86520a2a602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab99811371f7ae15d52bc10db38447731"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ab99811371f7ae15d52bc10db38447731">auth_plugin_ldap</a> ()</td></tr>
<tr class="memdesc:ab99811371f7ae15d52bc10db38447731"><td class="mdescLeft">&#160;</td><td class="mdescRight">Old syntax of class constructor.  <br /></td></tr>
<tr class="separator:ab99811371f7ae15d52bc10db38447731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2ebf5100cc16641401a346704b280fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ab2ebf5100cc16641401a346704b280fe">can_be_manually_set</a> ()</td></tr>
<tr class="memdesc:ab2ebf5100cc16641401a346704b280fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin can be manually set.  <br /></td></tr>
<tr class="separator:ab2ebf5100cc16641401a346704b280fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a9058013598a2b18a5882c2a02fb4f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a2a9058013598a2b18a5882c2a02fb4f1">can_change_password</a> ()</td></tr>
<tr class="memdesc:a2a9058013598a2b18a5882c2a02fb4f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin can change the user's password.  <br /></td></tr>
<tr class="separator:a2a9058013598a2b18a5882c2a02fb4f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b6d711ccf4da0a0c2f80d655cf5715"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a85b6d711ccf4da0a0c2f80d655cf5715">can_confirm</a> ()</td></tr>
<tr class="memdesc:a85b6d711ccf4da0a0c2f80d655cf5715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows confirming of new users.  <br /></td></tr>
<tr class="separator:a85b6d711ccf4da0a0c2f80d655cf5715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c5b62ba41a673ed3150871fd2e6502"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a35c5b62ba41a673ed3150871fd2e6502">can_edit_profile</a> ()</td></tr>
<tr class="memdesc:a35c5b62ba41a673ed3150871fd2e6502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin can edit the users' profile.  <br /></td></tr>
<tr class="separator:a35c5b62ba41a673ed3150871fd2e6502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0eb21b7f860f3df11e64e66664f41b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ae0eb21b7f860f3df11e64e66664f41b8">can_reset_password</a> ()</td></tr>
<tr class="memdesc:ae0eb21b7f860f3df11e64e66664f41b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows resetting of password from moodle.  <br /></td></tr>
<tr class="separator:ae0eb21b7f860f3df11e64e66664f41b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c66d0a4548c41aebb20daa148c38507"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a2c66d0a4548c41aebb20daa148c38507">can_signup</a> ()</td></tr>
<tr class="memdesc:a2c66d0a4548c41aebb20daa148c38507"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if plugin allows signup and user creation.  <br /></td></tr>
<tr class="separator:a2c66d0a4548c41aebb20daa148c38507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13931200ea2414a304d1d3ea4add8f22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a13931200ea2414a304d1d3ea4add8f22">change_password_url</a> ()</td></tr>
<tr class="memdesc:a13931200ea2414a304d1d3ea4add8f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the URL for changing the user's password, or empty if the default can be used.  <br /></td></tr>
<tr class="separator:a13931200ea2414a304d1d3ea4add8f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c4d919a83ab4be998397c1d2cc88b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a63c4d919a83ab4be998397c1d2cc88b4">config_form</a> ($config, $err, $user_fields)</td></tr>
<tr class="memdesc:a63c4d919a83ab4be998397c1d2cc88b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a form for configuring this authentication plugin.  <br /></td></tr>
<tr class="separator:a63c4d919a83ab4be998397c1d2cc88b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa004b95d95943e16ee51d40129235a01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa004b95d95943e16ee51d40129235a01">edit_profile_url</a> ()</td></tr>
<tr class="memdesc:aa004b95d95943e16ee51d40129235a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the URL for editing the users' profile, or empty if the default URL can be used.  <br /></td></tr>
<tr class="separator:aa004b95d95943e16ee51d40129235a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c40b2093ad0bf42b6639510bae58ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a10c40b2093ad0bf42b6639510bae58ac">get_custom_user_profile_fields</a> ()</td></tr>
<tr class="memdesc:a10c40b2093ad0bf42b6639510bae58ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return custom user profile fields.  <br /></td></tr>
<tr class="separator:a10c40b2093ad0bf42b6639510bae58ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9ec5061a1210cd8ba4c12396c170a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#abc9ec5061a1210cd8ba4c12396c170a7">get_description</a> ()</td></tr>
<tr class="memdesc:abc9ec5061a1210cd8ba4c12396c170a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the auth description (from core or own auth lang files)  <br /></td></tr>
<tr class="separator:abc9ec5061a1210cd8ba4c12396c170a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a32620a1d5b5fa9125a959c1bf47f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a34a32620a1d5b5fa9125a959c1bf47f7">get_extrauserinfo</a> ()</td></tr>
<tr class="memdesc:a34a32620a1d5b5fa9125a959c1bf47f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns extra user information.  <br /></td></tr>
<tr class="separator:a34a32620a1d5b5fa9125a959c1bf47f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c1c61db8de15e6b054abff97cc8087"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a64c1c61db8de15e6b054abff97cc8087">get_password_change_info</a> (stdClass $user)</td></tr>
<tr class="memdesc:a64c1c61db8de15e6b054abff97cc8087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information on how the specified user can change their password.  <br /></td></tr>
<tr class="separator:a64c1c61db8de15e6b054abff97cc8087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ea9b70395087455ef92c9a494b5dea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ad9ea9b70395087455ef92c9a494b5dea">get_title</a> ()</td></tr>
<tr class="memdesc:ad9ea9b70395087455ef92c9a494b5dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the properly translated human-friendly title of this auth plugin.  <br /></td></tr>
<tr class="separator:ad9ea9b70395087455ef92c9a494b5dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf54232b6104891c0c490e80ea56263"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#afdf54232b6104891c0c490e80ea56263">get_userinfo</a> ($username)</td></tr>
<tr class="memdesc:afdf54232b6104891c0c490e80ea56263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads user information from ldap and returns it in array()  <br /></td></tr>
<tr class="separator:afdf54232b6104891c0c490e80ea56263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a96cbd3205a7be9789943ee9221fd86"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a0a96cbd3205a7be9789943ee9221fd86">get_userinfo_asobj</a> ($username)</td></tr>
<tr class="memdesc:a0a96cbd3205a7be9789943ee9221fd86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads user information from ldap and returns it in an object.  <br /></td></tr>
<tr class="separator:a0a96cbd3205a7be9789943ee9221fd86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de3f88347023b927b8a282f3fba5785"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a9de3f88347023b927b8a282f3fba5785">get_userlist</a> ()</td></tr>
<tr class="memdesc:a9de3f88347023b927b8a282f3fba5785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all usernames from LDAP.  <br /></td></tr>
<tr class="separator:a9de3f88347023b927b8a282f3fba5785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4993714130776c297a1edfcadb97ac50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a4993714130776c297a1edfcadb97ac50">ignore_timeout_hook</a> ($user, $sid, $timecreated, $timemodified)</td></tr>
<tr class="memdesc:a4993714130776c297a1edfcadb97ac50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook called before timing out of database session.  <br /></td></tr>
<tr class="separator:a4993714130776c297a1edfcadb97ac50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79da9362a3f9d0ed7bc28177b4a3c8e"><td class="memItemLeft" align="right" valign="top"><a id="ae79da9362a3f9d0ed7bc28177b4a3c8e" name="ae79da9362a3f9d0ed7bc28177b4a3c8e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>init_plugin</b> ($authtype)</td></tr>
<tr class="memdesc:ae79da9362a3f9d0ed7bc28177b4a3c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init plugin config from database settings depending on the plugin auth type. <br /></td></tr>
<tr class="separator:ae79da9362a3f9d0ed7bc28177b4a3c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000cf01b1b7cb58bf8e6838e50d9224d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a000cf01b1b7cb58bf8e6838e50d9224d">is_captcha_enabled</a> ()</td></tr>
<tr class="memdesc:a000cf01b1b7cb58bf8e6838e50d9224d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether or not the captcha element is enabled.  <br /></td></tr>
<tr class="separator:a000cf01b1b7cb58bf8e6838e50d9224d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784738df78d605fcc572aaa92a7305c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a784738df78d605fcc572aaa92a7305c7">is_configured</a> ()</td></tr>
<tr class="memdesc:a784738df78d605fcc572aaa92a7305c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns false if this plugin is enabled but not configured.  <br /></td></tr>
<tr class="separator:a784738df78d605fcc572aaa92a7305c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f4c1ec4513cc24f6f4a4d4a02fe44fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a4f4c1ec4513cc24f6f4a4d4a02fe44fb">is_internal</a> ()</td></tr>
<tr class="memdesc:a4f4c1ec4513cc24f6f4a4d4a02fe44fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this authentication plugin is 'internal'.  <br /></td></tr>
<tr class="separator:a4f4c1ec4513cc24f6f4a4d4a02fe44fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ad6ffe25b6c9035ca36b0fdf755918"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a77ad6ffe25b6c9035ca36b0fdf755918">is_synchronised_with_external</a> ()</td></tr>
<tr class="memdesc:a77ad6ffe25b6c9035ca36b0fdf755918"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if moodle should automatically update internal user records with data from external sources using the information from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46" title="Read user information from external database and returns it as array().">get_userinfo()</a> method.  <br /></td></tr>
<tr class="separator:a77ad6ffe25b6c9035ca36b0fdf755918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ddc0c8428839adc9f679e11a3300021"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a6ddc0c8428839adc9f679e11a3300021">iscreator</a> ($username)</td></tr>
<tr class="memdesc:a6ddc0c8428839adc9f679e11a3300021"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if user should be coursecreator.  <br /></td></tr>
<tr class="separator:a6ddc0c8428839adc9f679e11a3300021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a432ad3bb20a548a0b00cf278a9ee9ebe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a432ad3bb20a548a0b00cf278a9ee9ebe">ldap_attributes</a> ()</td></tr>
<tr class="memdesc:a432ad3bb20a548a0b00cf278a9ee9ebe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns user attribute mappings between moodle and LDAP.  <br /></td></tr>
<tr class="separator:a432ad3bb20a548a0b00cf278a9ee9ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af733e2a96495271d647f30e0911a4066"><td class="memItemLeft" align="right" valign="top"><a id="af733e2a96495271d647f30e0911a4066" name="af733e2a96495271d647f30e0911a4066"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ldap_bulk_insert</b> ($username)</td></tr>
<tr class="memdesc:af733e2a96495271d647f30e0911a4066"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bulk insert in SQL's temp table. <br /></td></tr>
<tr class="separator:af733e2a96495271d647f30e0911a4066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005564e6a1530f42bcaca343578dcf00"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a005564e6a1530f42bcaca343578dcf00">ldap_close</a> ($force=false)</td></tr>
<tr class="memdesc:a005564e6a1530f42bcaca343578dcf00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects from a LDAP server.  <br /></td></tr>
<tr class="separator:a005564e6a1530f42bcaca343578dcf00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2a0edbe237299e07ea5e0ab1f9cb45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a7b2a0edbe237299e07ea5e0ab1f9cb45">ldap_connect</a> ()</td></tr>
<tr class="memdesc:a7b2a0edbe237299e07ea5e0ab1f9cb45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the LDAP server, using the plugin configured settings.  <br /></td></tr>
<tr class="separator:a7b2a0edbe237299e07ea5e0ab1f9cb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e953ccc6fc50f0ee94ac2f48d6eb567"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a9e953ccc6fc50f0ee94ac2f48d6eb567">ldap_expirationtime2unix</a> ($time, $ldapconnection, $user_dn)</td></tr>
<tr class="memdesc:a9e953ccc6fc50f0ee94ac2f48d6eb567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take expirationtime and return it as unix timestamp in seconds.  <br /></td></tr>
<tr class="separator:a9e953ccc6fc50f0ee94ac2f48d6eb567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc95ca75deb9fc15b1435278d5b91be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a5bc95ca75deb9fc15b1435278d5b91be">ldap_find_userdn</a> ($ldapconnection, $extusername)</td></tr>
<tr class="memdesc:a5bc95ca75deb9fc15b1435278d5b91be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search specified contexts for username and return the user dn like: cn=username,ou=suborg,o=org.  <br /></td></tr>
<tr class="separator:a5bc95ca75deb9fc15b1435278d5b91be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82f6a46604ea900972ae3364058c9abf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a82f6a46604ea900972ae3364058c9abf">ldap_get_ad_pwdexpire</a> ($pwdlastset, $ldapconn, $user_dn)</td></tr>
<tr class="memdesc:a82f6a46604ea900972ae3364058c9abf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get password expiration time for a given user from Active Directory.  <br /></td></tr>
<tr class="separator:a82f6a46604ea900972ae3364058c9abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd2039e744bf139c9c0af854228ca12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#abfd2039e744bf139c9c0af854228ca12">ldap_get_userlist</a> ($filter=' *')</td></tr>
<tr class="memdesc:abfd2039e744bf139c9c0af854228ca12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all usernames from LDAP.  <br /></td></tr>
<tr class="separator:abfd2039e744bf139c9c0af854228ca12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21bbb0b14ebc908685dc44d4b6b034e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a21bbb0b14ebc908685dc44d4b6b034e5">ldap_unix2expirationtime</a> ($time)</td></tr>
<tr class="memdesc:a21bbb0b14ebc908685dc44d4b6b034e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes unix timestamp and returns it formated for storing in LDAP.  <br /></td></tr>
<tr class="separator:a21bbb0b14ebc908685dc44d4b6b034e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751f1ecf497d528e4b564c99a7db9452"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a751f1ecf497d528e4b564c99a7db9452">loginpage_hook</a> ()</td></tr>
<tr class="memdesc:a751f1ecf497d528e4b564c99a7db9452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will get called before the login page is shownr.  <br /></td></tr>
<tr class="separator:a751f1ecf497d528e4b564c99a7db9452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12f9d89c198f34eb6a440a02c81a873"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#ae12f9d89c198f34eb6a440a02c81a873">loginpage_idp_list</a> ($wantsurl)</td></tr>
<tr class="memdesc:ae12f9d89c198f34eb6a440a02c81a873"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of potential IdPs that this authentication plugin supports.  <br /></td></tr>
<tr class="separator:ae12f9d89c198f34eb6a440a02c81a873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a083093742678c20450020780c9078fd9"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a083093742678c20450020780c9078fd9">logoutpage_hook</a> ()</td></tr>
<tr class="memdesc:a083093742678c20450020780c9078fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour of logout page.  <br /></td></tr>
<tr class="separator:a083093742678c20450020780c9078fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672199ac2caae6f015b23e5cabe12ac1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a672199ac2caae6f015b23e5cabe12ac1">ntlmsso_finish</a> ()</td></tr>
<tr class="memdesc:a672199ac2caae6f015b23e5cabe12ac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the session set by <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a3c28c6aef510a5e398481d192981a110" title="To be called from a page running under NTLM&#39;s &quot;Integrated Windows Authentication&quot;.">ntlmsso_magic()</a>, validate it and call <a class="el" href="../../d0/de1/group__core.html#ga7e4714dc516fbea87d224bbb75b57bc6" title="Authenticates a user against the chosen authentication mechanism.">authenticate_user_login()</a> to authenticate the user through the auth machinery.  <br /></td></tr>
<tr class="separator:a672199ac2caae6f015b23e5cabe12ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c28c6aef510a5e398481d192981a110"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a3c28c6aef510a5e398481d192981a110">ntlmsso_magic</a> ($<a class="el" href="../../d0/de1/group__core.html#ga9f816b5a451dc77db05c27c9b6ba1e24">sesskey</a>)</td></tr>
<tr class="memdesc:a3c28c6aef510a5e398481d192981a110"><td class="mdescLeft">&#160;</td><td class="mdescRight">To be called from a page running under NTLM's "Integrated Windows Authentication".  <br /></td></tr>
<tr class="separator:a3c28c6aef510a5e398481d192981a110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa987b6f2306c15122a197ba388ffe5d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#aa987b6f2306c15122a197ba388ffe5d2">password_expire</a> ($username)</td></tr>
<tr class="memdesc:aa987b6f2306c15122a197ba388ffe5d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return number of days to user password expires.  <br /></td></tr>
<tr class="separator:aa987b6f2306c15122a197ba388ffe5d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161b8e58713047dc1afb76f972afb6b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a161b8e58713047dc1afb76f972afb6b0">postlogout_hook</a> ($user)</td></tr>
<tr class="memdesc:a161b8e58713047dc1afb76f972afb6b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post logout hook.  <br /></td></tr>
<tr class="separator:a161b8e58713047dc1afb76f972afb6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d1997a51da39f2eefc7fc7b2da1075"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a71d1997a51da39f2eefc7fc7b2da1075">pre_loginpage_hook</a> ()</td></tr>
<tr class="memdesc:a71d1997a51da39f2eefc7fc7b2da1075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for overriding behaviour before going to the login page.  <br /></td></tr>
<tr class="separator:a71d1997a51da39f2eefc7fc7b2da1075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1020896f222cdab32fa490baaa17c1b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a1020896f222cdab32fa490baaa17c1b9">pre_user_login_hook</a> (&amp;$user)</td></tr>
<tr class="memdesc:a1020896f222cdab32fa490baaa17c1b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre user_login hook.  <br /></td></tr>
<tr class="separator:a1020896f222cdab32fa490baaa17c1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ec655c395f6ecbd884e99a47cf26f7"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa1ec655c395f6ecbd884e99a47cf26f7">prelogout_hook</a> ()</td></tr>
<tr class="memdesc:aa1ec655c395f6ecbd884e99a47cf26f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre logout hook.  <br /></td></tr>
<tr class="separator:aa1ec655c395f6ecbd884e99a47cf26f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a448a9dbfc31dbd1df69d23a866537db6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a448a9dbfc31dbd1df69d23a866537db6">prevent_local_passwords</a> ()</td></tr>
<tr class="memdesc:a448a9dbfc31dbd1df69d23a866537db6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if password hashes should be stored in local moodle database.  <br /></td></tr>
<tr class="separator:a448a9dbfc31dbd1df69d23a866537db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84c2e2ebb28ea283742d45f9b5f1732"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#aa84c2e2ebb28ea283742d45f9b5f1732">process_config</a> ($config)</td></tr>
<tr class="memdesc:aa84c2e2ebb28ea283742d45f9b5f1732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes and stores configuration data for this authentication plugin.  <br /></td></tr>
<tr class="separator:aa84c2e2ebb28ea283742d45f9b5f1732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662d92911f5207d0ab679491dcfb99ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a662d92911f5207d0ab679491dcfb99ec">set_extrauserinfo</a> (array $values)</td></tr>
<tr class="memdesc:a662d92911f5207d0ab679491dcfb99ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set extra user information.  <br /></td></tr>
<tr class="separator:a662d92911f5207d0ab679491dcfb99ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77f69d053c0a800f8c6929212ecfcf9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#af77f69d053c0a800f8c6929212ecfcf9">signup_form</a> ()</td></tr>
<tr class="memdesc:af77f69d053c0a800f8c6929212ecfcf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a form to capture user details for account creation.  <br /></td></tr>
<tr class="separator:af77f69d053c0a800f8c6929212ecfcf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a5216049c56fde6953a7d5460089a46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a9a5216049c56fde6953a7d5460089a46">sync_roles</a> ($user)</td></tr>
<tr class="memdesc:a9a5216049c56fde6953a7d5460089a46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync roles for this user.  <br /></td></tr>
<tr class="separator:a9a5216049c56fde6953a7d5460089a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de82dc5528603692f4a3d8a52dc5068"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a7de82dc5528603692f4a3d8a52dc5068">sync_users</a> ($do_updates=true)</td></tr>
<tr class="memdesc:a7de82dc5528603692f4a3d8a52dc5068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Syncronizes user fron external LDAP server to moodle user table.  <br /></td></tr>
<tr class="separator:a7de82dc5528603692f4a3d8a52dc5068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f90b37b3034ca19e92d8940dfb84aa5"><td class="memItemLeft" align="right" valign="top"><a id="a8f90b37b3034ca19e92d8940dfb84aa5" name="a8f90b37b3034ca19e92d8940dfb84aa5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>test_settings</b> ()</td></tr>
<tr class="memdesc:a8f90b37b3034ca19e92d8940dfb84aa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if settings are correct, print info to output. <br /></td></tr>
<tr class="separator:a8f90b37b3034ca19e92d8940dfb84aa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65ae815dd73c5abd74fb7ef45d6d8a25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a65ae815dd73c5abd74fb7ef45d6d8a25">user_activate</a> ($username)</td></tr>
<tr class="memdesc:a65ae815dd73c5abd74fb7ef45d6d8a25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates (enables) user in external LDAP so user can login.  <br /></td></tr>
<tr class="separator:a65ae815dd73c5abd74fb7ef45d6d8a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f41448612b93e326f25264a8a197e39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a0f41448612b93e326f25264a8a197e39">user_authenticated_hook</a> (&amp;$user, $username, $password)</td></tr>
<tr class="memdesc:a0f41448612b93e326f25264a8a197e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post authentication hook.  <br /></td></tr>
<tr class="separator:a0f41448612b93e326f25264a8a197e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac33178d865c00bed670859cdaf5bf8e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ac33178d865c00bed670859cdaf5bf8e9">user_confirm</a> ($username, $confirmsecret)</td></tr>
<tr class="memdesc:ac33178d865c00bed670859cdaf5bf8e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirm the new user as registered.  <br /></td></tr>
<tr class="separator:ac33178d865c00bed670859cdaf5bf8e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672fd3af3e63d81bdb9e873dcec7bb10"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a672fd3af3e63d81bdb9e873dcec7bb10">user_create</a> ($userobject, $plainpass)</td></tr>
<tr class="memdesc:a672fd3af3e63d81bdb9e873dcec7bb10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new user on LDAP.  <br /></td></tr>
<tr class="separator:a672fd3af3e63d81bdb9e873dcec7bb10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62731aff3764f0bfde3cbcadf47e8208"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a62731aff3764f0bfde3cbcadf47e8208">user_delete</a> ($olduser)</td></tr>
<tr class="memdesc:a62731aff3764f0bfde3cbcadf47e8208"><td class="mdescLeft">&#160;</td><td class="mdescRight">User delete requested - internal user record is mared as deleted already, username not present anymore.  <br /></td></tr>
<tr class="separator:a62731aff3764f0bfde3cbcadf47e8208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d28cff576e8323b3c0d106c4c20123"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#aa6d28cff576e8323b3c0d106c4c20123">user_exists</a> ($username)</td></tr>
<tr class="memdesc:aa6d28cff576e8323b3c0d106c4c20123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if user exists on LDAP.  <br /></td></tr>
<tr class="separator:aa6d28cff576e8323b3c0d106c4c20123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a534150f7d0d5739b6311f984979230"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a4a534150f7d0d5739b6311f984979230">user_login</a> ($username, $password)</td></tr>
<tr class="memdesc:a4a534150f7d0d5739b6311f984979230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the username and password work and false if they are wrong or don't exist.  <br /></td></tr>
<tr class="separator:a4a534150f7d0d5739b6311f984979230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8255295d0b40d056c29f21e8e66cb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a3f8255295d0b40d056c29f21e8e66cb1">user_signup</a> ($user, $<a class="el" href="../../d0/de1/group__core.html#gadd8686b50f3ac89a272ca980452d10cc">notify</a>=true)</td></tr>
<tr class="memdesc:a3f8255295d0b40d056c29f21e8e66cb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sign up a new user ready for confirmation.  <br /></td></tr>
<tr class="separator:a3f8255295d0b40d056c29f21e8e66cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad97823078da1da9936ed62c394adda7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#ad97823078da1da9936ed62c394adda7e">user_update</a> ($olduser, $newuser)</td></tr>
<tr class="memdesc:ad97823078da1da9936ed62c394adda7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the user record is updated.  <br /></td></tr>
<tr class="separator:ad97823078da1da9936ed62c394adda7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1d470409555ef70bf8490ff2656639"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a7c1d470409555ef70bf8490ff2656639">user_update_password</a> ($user, $newpassword)</td></tr>
<tr class="memdesc:a7c1d470409555ef70bf8490ff2656639"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes userpassword in LDAP.  <br /></td></tr>
<tr class="separator:a7c1d470409555ef70bf8490ff2656639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa597d2387e70cb903c8a5c64e72c1a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#afa597d2387e70cb903c8a5c64e72c1a0">validate_form</a> ($form, &amp;$err)</td></tr>
<tr class="memdesc:afa597d2387e70cb903c8a5c64e72c1a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A chance to validate form data, and last chance to do stuff before it is inserted in config_plugin.  <br /></td></tr>
<tr class="separator:afa597d2387e70cb903c8a5c64e72c1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1e03ec9caaba0ea64e6aa62040a2be20"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a1e03ec9caaba0ea64e6aa62040a2be20">get_identity_providers</a> ($authsequence)</td></tr>
<tr class="memdesc:a1e03ec9caaba0ea64e6aa62040a2be20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the list of enabled identity providers.  <br /></td></tr>
<tr class="separator:a1e03ec9caaba0ea64e6aa62040a2be20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a924e24173d42049499bef18dc4ec9898"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a924e24173d42049499bef18dc4ec9898">prepare_identity_providers_for_output</a> ($identityproviders, <a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a> $output)</td></tr>
<tr class="memdesc:a924e24173d42049499bef18dc4ec9898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a list of identity providers for output.  <br /></td></tr>
<tr class="separator:a924e24173d42049499bef18dc4ec9898"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8ddf152b48963e38db55fb5b6ce0f74b"><td class="memItemLeft" align="right" valign="top"><a id="a8ddf152b48963e38db55fb5b6ce0f74b" name="a8ddf152b48963e38db55fb5b6ce0f74b"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$authtype</b></td></tr>
<tr class="memdesc:a8ddf152b48963e38db55fb5b6ce0f74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authentication plugin type - the same as db field. <br /></td></tr>
<tr class="separator:a8ddf152b48963e38db55fb5b6ce0f74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a250f49853b26416e956538ed16a74d"><td class="memItemLeft" align="right" valign="top"><a id="a5a250f49853b26416e956538ed16a74d" name="a5a250f49853b26416e956538ed16a74d"></a>
object&#160;</td><td class="memItemRight" valign="bottom"><b>$config</b></td></tr>
<tr class="memdesc:a5a250f49853b26416e956538ed16a74d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The configuration details for the plugin. <br /></td></tr>
<tr class="separator:a5a250f49853b26416e956538ed16a74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827d7be85f7daf2354d7bd14f44877cc"><td class="memItemLeft" align="right" valign="top"><a id="a827d7be85f7daf2354d7bd14f44877cc" name="a827d7be85f7daf2354d7bd14f44877cc"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$userfields</b> = core_user::AUTHSYNCFIELDS</td></tr>
<tr class="separator:a827d7be85f7daf2354d7bd14f44877cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aaac044b809543655acc4ca02fa33d538"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#aaac044b809543655acc4ca02fa33d538">get_ntlm_remote_user</a> ($remoteuser)</td></tr>
<tr class="memdesc:aaac044b809543655acc4ca02fa33d538"><td class="mdescLeft">&#160;</td><td class="mdescRight">When using NTLM SSO, the format of the remote username we get in $_SERVER['REMOTE_USER'] may vary, depending on where from and how the web server gets the data.  <br /></td></tr>
<tr class="separator:aaac044b809543655acc4ca02fa33d538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71dfef5a3624b3c7f30ea0729958292c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a71dfef5a3624b3c7f30ea0729958292c">get_profile_keys</a> ($fetchall=false)</td></tr>
<tr class="memdesc:a71dfef5a3624b3c7f30ea0729958292c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of profile fields.  <br /></td></tr>
<tr class="separator:a71dfef5a3624b3c7f30ea0729958292c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf76b037851f57decc6e3f5348393083"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#adf76b037851f57decc6e3f5348393083">is_user_suspended</a> ($user)</td></tr>
<tr class="memdesc:adf76b037851f57decc6e3f5348393083"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a user is suspended.  <br /></td></tr>
<tr class="separator:adf76b037851f57decc6e3f5348393083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a669ebb789268be2bf9ef56695aaa10b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a669ebb789268be2bf9ef56695aaa10b3">ldap_ad_pwdexpired_from_diagmsg</a> ($diagmsg)</td></tr>
<tr class="memdesc:a669ebb789268be2bf9ef56695aaa10b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the diagnostic message for the LDAP login error tells us that the login is denied because the user password has expired or the password needs to be changed on first login (using interactive SMB/Windows logins, not LDAP logins).  <br /></td></tr>
<tr class="separator:a669ebb789268be2bf9ef56695aaa10b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cddbf9e25745e24af8155b9c66caa55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7a/classauth__plugin__base.html#a7cddbf9e25745e24af8155b9c66caa55">update_user_record</a> ($username, $updatekeys=false, $triggerevent=false, $suspenduser=false)</td></tr>
<tr class="memdesc:a7cddbf9e25745e24af8155b9c66caa55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a local user record from an external source.  <br /></td></tr>
<tr class="separator:a7cddbf9e25745e24af8155b9c66caa55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="memItemLeft" align="right" valign="top"><a id="ac560e8ce95e5d461b5426a5d5ba9cde8" name="ac560e8ce95e5d461b5426a5d5ba9cde8"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$errorlogtag</b> = ''</td></tr>
<tr class="memdesc:ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The tag we want to prepend to any error log messages. <br /></td></tr>
<tr class="separator:ac560e8ce95e5d461b5426a5d5ba9cde8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952cfbe040f1b09ce155484a79f3fc9a"><td class="memItemLeft" align="right" valign="top"><a id="a952cfbe040f1b09ce155484a79f3fc9a" name="a952cfbe040f1b09ce155484a79f3fc9a"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$extrauserinfo</b> = []</td></tr>
<tr class="memdesc:a952cfbe040f1b09ce155484a79f3fc9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores extra information available to the logged in event. <br /></td></tr>
<tr class="separator:a952cfbe040f1b09ce155484a79f3fc9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>LDAP authentication plugin. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa61beaac5f8ebf0d00c4c86520a2a602" name="aa61beaac5f8ebf0d00c4c86520a2a602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa61beaac5f8ebf0d00c4c86520a2a602">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::__construct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor with initialisation. </p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#ac23e93f9ee33e2158ce8dffda7d0d046">auth_plugin_cas</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab99811371f7ae15d52bc10db38447731" name="ab99811371f7ae15d52bc10db38447731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab99811371f7ae15d52bc10db38447731">&#9670;&#160;</a></span>auth_plugin_ldap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::auth_plugin_ldap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Old syntax of class constructor. </p>
<p>Deprecated in PHP7.</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000019">Deprecated:</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.1 </dd></dl>

</div>
</div>
<a id="ab2ebf5100cc16641401a346704b280fe" name="ab2ebf5100cc16641401a346704b280fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2ebf5100cc16641401a346704b280fe">&#9670;&#160;</a></span>can_be_manually_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::can_be_manually_set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if plugin can be manually set. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ac585c783ac815fe76affc377a1085942">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a2a9058013598a2b18a5882c2a02fb4f1" name="a2a9058013598a2b18a5882c2a02fb4f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a9058013598a2b18a5882c2a02fb4f1">&#9670;&#160;</a></span>can_change_password()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::can_change_password </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin can change the user's password. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#accac09bd5ca0353b2fddb1245c1884bb">auth_plugin_base</a>.</p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a255e763893dea410b4967c4368b96c11">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a85b6d711ccf4da0a0c2f80d655cf5715" name="a85b6d711ccf4da0a0c2f80d655cf5715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85b6d711ccf4da0a0c2f80d655cf5715">&#9670;&#160;</a></span>can_confirm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::can_confirm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if plugin allows confirming of new users. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a4acb0dd80f85a76cce65c030c2a4c4ab">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a35c5b62ba41a673ed3150871fd2e6502" name="a35c5b62ba41a673ed3150871fd2e6502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c5b62ba41a673ed3150871fd2e6502">&#9670;&#160;</a></span>can_edit_profile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::can_edit_profile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin can edit the users' profile. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0eb21b7f860f3df11e64e66664f41b8" name="ae0eb21b7f860f3df11e64e66664f41b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0eb21b7f860f3df11e64e66664f41b8">&#9670;&#160;</a></span>can_reset_password()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::can_reset_password </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if plugin allows resetting of password from moodle. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a6315b78e1ae3e7bc53595bb323e70c97">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a2c66d0a4548c41aebb20daa148c38507" name="a2c66d0a4548c41aebb20daa148c38507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c66d0a4548c41aebb20daa148c38507">&#9670;&#160;</a></span>can_signup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::can_signup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if plugin allows signup and user creation. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a8b46763556093098c7249c6a37d3e701">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a13931200ea2414a304d1d3ea4add8f22" name="a13931200ea2414a304d1d3ea4add8f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13931200ea2414a304d1d3ea4add8f22">&#9670;&#160;</a></span>change_password_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::change_password_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the URL for changing the user's password, or empty if the default can be used. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a35518ee2fa3510b2361235c04fc40d24">auth_plugin_base</a>.</p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a3ef73e314f469c18d88bf5a6695ba7e1">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a63c4d919a83ab4be998397c1d2cc88b4" name="a63c4d919a83ab4be998397c1d2cc88b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c4d919a83ab4be998397c1d2cc88b4">&#9670;&#160;</a></span>config_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::config_form </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints a form for configuring this authentication plugin. </p>
<p>This function is called from admin/auth.php, and outputs a full page with a form for configuring this plugin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$config</td><td></td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$err</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$user_fields</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000158">Deprecated:</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<a id="aa004b95d95943e16ee51d40129235a01" name="aa004b95d95943e16ee51d40129235a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa004b95d95943e16ee51d40129235a01">&#9670;&#160;</a></span>edit_profile_url()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::edit_profile_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the URL for editing the users' profile, or empty if the default URL can be used. </p>
<p>This method is used if <a class="el" href="../../da/d7a/classauth__plugin__base.html#a35c5b62ba41a673ed3150871fd2e6502" title="Returns true if this authentication plugin can edit the users&#39; profile.">can_edit_profile()</a> returns true. This method is called only when user is logged in, it may use global $USER.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td>url of the profile page or null if standard used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10c40b2093ad0bf42b6639510bae58ac" name="a10c40b2093ad0bf42b6639510bae58ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10c40b2093ad0bf42b6639510bae58ac">&#9670;&#160;</a></span>get_custom_user_profile_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_custom_user_profile_fields </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return custom user profile fields. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>list of custom fields. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc9ec5061a1210cd8ba4c12396c170a7" name="abc9ec5061a1210cd8ba4c12396c170a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9ec5061a1210cd8ba4c12396c170a7">&#9670;&#160;</a></span>get_description()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_description </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the auth description (from core or own auth lang files) </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The description </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a34a32620a1d5b5fa9125a959c1bf47f7" name="a34a32620a1d5b5fa9125a959c1bf47f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a32620a1d5b5fa9125a959c1bf47f7">&#9670;&#160;</a></span>get_extrauserinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_extrauserinfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns extra user information. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of keys and values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e03ec9caaba0ea64e6aa62040a2be20" name="a1e03ec9caaba0ea64e6aa62040a2be20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e03ec9caaba0ea64e6aa62040a2be20">&#9670;&#160;</a></span>get_identity_providers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::get_identity_providers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$authsequence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the list of enabled identity providers. </p>
<p>Each identity provider data contains the keys url, name and iconurl (or icon). See the documentation of <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae12f9d89c198f34eb6a440a02c81a873">auth_plugin_base::loginpage_idp_list()</a> for detailed description of the returned structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$authsequence</td><td>site's auth sequence (list of auth plugins ordered) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>List of arrays describing the identity providers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaac044b809543655acc4ca02fa33d538" name="aaac044b809543655acc4ca02fa33d538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaac044b809543655acc4ca02fa33d538">&#9670;&#160;</a></span>get_ntlm_remote_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::get_ntlm_remote_user </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$remoteuser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When using NTLM SSO, the format of the remote username we get in $_SERVER['REMOTE_USER'] may vary, depending on where from and how the web server gets the data. </p>
<p>So we let the admin configure the format using two place holders (domain% and username%). This function tries to extract the username (stripping the domain part and any separators if they are present) from the value present in $_SERVER['REMOTE_USER'], using the configured format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$remoteuser</td><td>The value from $_SERVER['REMOTE_USER'] (converted to UTF-8)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The remote username (without domain part or separators). Empty string if we can't extract the username. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64c1c61db8de15e6b054abff97cc8087" name="a64c1c61db8de15e6b054abff97cc8087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64c1c61db8de15e6b054abff97cc8087">&#9670;&#160;</a></span>get_password_change_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_password_change_info </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns information on how the specified user can change their password. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>A user object </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string[]</td><td>An array of strings with keys subject and message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/dff/classauth__plugin__nologin.html#a4e5d395b26f50472cc265288658559e7">auth_plugin_nologin</a>, and <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#a912176f13f967d374b9fe8de0f3c5832">auth_oauth2\auth</a>.</p>

</div>
</div>
<a id="a71dfef5a3624b3c7f30ea0729958292c" name="a71dfef5a3624b3c7f30ea0729958292c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71dfef5a3624b3c7f30ea0729958292c">&#9670;&#160;</a></span>get_profile_keys()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::get_profile_keys </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fetchall</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of profile fields. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$fetchall</td><td>Fetch all, not just those for update. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9ea9b70395087455ef92c9a494b5dea" name="ad9ea9b70395087455ef92c9a494b5dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ea9b70395087455ef92c9a494b5dea">&#9670;&#160;</a></span>get_title()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::get_title </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the properly translated human-friendly title of this auth plugin. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000061">Todo:</a></b></dt><dd>Document this function </dd></dl>

</div>
</div>
<a id="afdf54232b6104891c0c490e80ea56263" name="afdf54232b6104891c0c490e80ea56263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdf54232b6104891c0c490e80ea56263">&#9670;&#160;</a></span>get_userinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::get_userinfo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads user information from ldap and returns it in array() </p>
<p>Function should return all information available. If you are saving this information to moodle user-table you should honor syncronization flags</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>array with no magic quotes or false on error </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ae1cc19d3ba1c5a112165f9e9d9bbdc46">auth_plugin_base</a>.</p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a86571b8443bd54776356b17e87942a8e">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a0a96cbd3205a7be9789943ee9221fd86" name="a0a96cbd3205a7be9789943ee9221fd86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a96cbd3205a7be9789943ee9221fd86">&#9670;&#160;</a></span>get_userinfo_asobj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::get_userinfo_asobj </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads user information from ldap and returns it in an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username (with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>object or false on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9de3f88347023b927b8a282f3fba5785" name="a9de3f88347023b927b8a282f3fba5785"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9de3f88347023b927b8a282f3fba5785">&#9670;&#160;</a></span>get_userlist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::get_userlist </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all usernames from LDAP. </p>
<p>get_userlist returns all usernames from LDAP</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4993714130776c297a1edfcadb97ac50" name="a4993714130776c297a1edfcadb97ac50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4993714130776c297a1edfcadb97ac50">&#9670;&#160;</a></span>ignore_timeout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::ignore_timeout_hook </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timecreated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timemodified</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook called before timing out of database session. </p>
<p>This is useful for SSO and MNET.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sid</td><td>session id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timecreated</td><td>start of session </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timemodified</td><td>user last seen </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means do not timeout session yet </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a000cf01b1b7cb58bf8e6838e50d9224d" name="a000cf01b1b7cb58bf8e6838e50d9224d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000cf01b1b7cb58bf8e6838e50d9224d">&#9670;&#160;</a></span>is_captcha_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_captcha_enabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether or not the captcha element is enabled. </p>
<p>@abstract Implement in child classes </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de4/classauth__plugin__email.html#a40a300d76a58f69a8ad34704ba0d5763">auth_plugin_email</a>.</p>

</div>
</div>
<a id="a784738df78d605fcc572aaa92a7305c7" name="a784738df78d605fcc572aaa92a7305c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a784738df78d605fcc572aaa92a7305c7">&#9670;&#160;</a></span>is_configured()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_configured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns false if this plugin is enabled but not configured. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a2de56f35f7188942d95fd01716e4ed8d">auth_plugin_db</a>.</p>

</div>
</div>
<a id="a4f4c1ec4513cc24f6f4a4d4a02fe44fb" name="a4f4c1ec4513cc24f6f4a4d4a02fe44fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f4c1ec4513cc24f6f4a4d4a02fe44fb">&#9670;&#160;</a></span>is_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::is_internal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if this authentication plugin is 'internal'. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a0dd33f08da51b61b3d8ab9310f24de64">auth_plugin_base</a>.</p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a70ce285ca5c1dbf54f180180dbb7f076">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a77ad6ffe25b6c9035ca36b0fdf755918" name="a77ad6ffe25b6c9035ca36b0fdf755918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ad6ffe25b6c9035ca36b0fdf755918">&#9670;&#160;</a></span>is_synchronised_with_external()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::is_synchronised_with_external </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if moodle should automatically update internal user records with data from external sources using the information from <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#afdf54232b6104891c0c490e80ea56263" title="Reads user information from ldap and returns it in array()">get_userinfo()</a> method. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means automatically copy data from ext to user table </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d7/d1d/classauth__plugin__db.html#a40cfd2a14ebddeb2cd4c8f400fbe0526">auth_plugin_db</a>, and <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#aed155feb73b65f3f828f17f576f24a18">auth_oauth2\auth</a>.</p>

</div>
</div>
<a id="adf76b037851f57decc6e3f5348393083" name="adf76b037851f57decc6e3f5348393083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf76b037851f57decc6e3f5348393083">&#9670;&#160;</a></span>is_user_suspended()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::is_user_suspended </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a user is suspended. </p>
<p>This function is intended to be used after calling get_userinfo_asobj. This is needed because LDAP doesn't have a notion of disabled users, however things like MS Active Directory support it and expose information through a field.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>the user object returned by get_userinfo_asobj </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6ddc0c8428839adc9f679e11a3300021" name="a6ddc0c8428839adc9f679e11a3300021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ddc0c8428839adc9f679e11a3300021">&#9670;&#160;</a></span>iscreator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::iscreator </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if user should be coursecreator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$username</td><td>username (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>result null if course creators is not configured, boolean otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000020">Deprecated:</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.4 <a href="https://tracker.moodle.org/browse/MDL-30634" class="el">MDL-30634</a> - please do not use this function any more. </dd></dl>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a2afbe04d8e69640d8d0cc44bf9548786">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a669ebb789268be2bf9ef56695aaa10b3" name="a669ebb789268be2bf9ef56695aaa10b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a669ebb789268be2bf9ef56695aaa10b3">&#9670;&#160;</a></span>ldap_ad_pwdexpired_from_diagmsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ldap_ad_pwdexpired_from_diagmsg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$diagmsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the diagnostic message for the LDAP login error tells us that the login is denied because the user password has expired or the password needs to be changed on first login (using interactive SMB/Windows logins, not LDAP logins). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>the diagnostic message for the LDAP login error </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the password has expired or the password must be changed on first login </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a432ad3bb20a548a0b00cf278a9ee9ebe" name="a432ad3bb20a548a0b00cf278a9ee9ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a432ad3bb20a548a0b00cf278a9ee9ebe">&#9670;&#160;</a></span>ldap_attributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ldap_attributes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns user attribute mappings between moodle and LDAP. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a005564e6a1530f42bcaca343578dcf00" name="a005564e6a1530f42bcaca343578dcf00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a005564e6a1530f42bcaca343578dcf00">&#9670;&#160;</a></span>ldap_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ldap_close </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$force</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects from a LDAP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">force</td><td>boolean Forces closing the real connection to the LDAP server, ignoring any cached connections. This is needed when we've used paged results and want to use normal results again. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7b2a0edbe237299e07ea5e0ab1f9cb45" name="a7b2a0edbe237299e07ea5e0ab1f9cb45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2a0edbe237299e07ea5e0ab1f9cb45">&#9670;&#160;</a></span>ldap_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ldap_connect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to the LDAP server, using the plugin configured settings. </p>
<p>It's actually a wrapper around <a class="el" href="../../d0/de1/group__core.html#gae634b62ce5f303703c3997d2047f5302" title="Tries connect to specified ldap servers.">ldap_connect_moodle()</a></p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">resource</td><td>A valid LDAP connection (or dies if it can't connect) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e953ccc6fc50f0ee94ac2f48d6eb567" name="a9e953ccc6fc50f0ee94ac2f48d6eb567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e953ccc6fc50f0ee94ac2f48d6eb567">&#9670;&#160;</a></span>ldap_expirationtime2unix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ldap_expirationtime2unix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ldapconnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_dn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take expirationtime and return it as unix timestamp in seconds. </p>
<p>Takes expiration timestamp as read from LDAP and returns it as unix timestamp in seconds Depends on $this-&gt;config-&gt;user_type variable</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">mixed</td><td>time Time stamp read from LDAP as it is. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$ldapconnection</td><td>Only needed for Active Directory. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$user_dn</td><td>User distinguished name for the user we are checking password expiration (only needed for Active Directory). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">timestamp</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5bc95ca75deb9fc15b1435278d5b91be" name="a5bc95ca75deb9fc15b1435278d5b91be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bc95ca75deb9fc15b1435278d5b91be">&#9670;&#160;</a></span>ldap_find_userdn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ldap_find_userdn </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ldapconnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extusername</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search specified contexts for username and return the user dn like: cn=username,ou=suborg,o=org. </p>
<p>It's actually a wrapper around <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a5bc95ca75deb9fc15b1435278d5b91be" title="Search specified contexts for username and return the user dn like: cn=username,ou=suborg,...">ldap_find_userdn()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">resource</td><td class="paramname">$ldapconnection</td><td>a valid LDAP connection </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$extusername</td><td>the username to search (in external LDAP encoding, no db slashes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>the user dn (external LDAP encoding) or false </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a82f6a46604ea900972ae3364058c9abf" name="a82f6a46604ea900972ae3364058c9abf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82f6a46604ea900972ae3364058c9abf">&#9670;&#160;</a></span>ldap_get_ad_pwdexpire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ldap_get_ad_pwdexpire </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pwdlastset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ldapconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_dn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get password expiration time for a given user from Active Directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$pwdlastset</td><td>The time last time we changed the password. </td></tr>
    <tr><td class="paramtype">resource</td><td class="paramname">$lcapconn</td><td>The open LDAP connection. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$user_dn</td><td>The distinguished name of the user we are checking.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string::$unixtime</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abfd2039e744bf139c9c0af854228ca12" name="abfd2039e744bf139c9c0af854228ca12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfd2039e744bf139c9c0af854228ca12">&#9670;&#160;</a></span>ldap_get_userlist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ldap_get_userlist </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filter</em> = <code>'*'</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all usernames from LDAP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$filter</td><td>An LDAP search filter to select desired users </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of LDAP user names converted to UTF-8 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a21bbb0b14ebc908685dc44d4b6b034e5" name="a21bbb0b14ebc908685dc44d4b6b034e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21bbb0b14ebc908685dc44d4b6b034e5">&#9670;&#160;</a></span>ldap_unix2expirationtime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ldap_unix2expirationtime </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes unix timestamp and returns it formated for storing in LDAP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">integer</td><td>unix time stamp </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a751f1ecf497d528e4b564c99a7db9452" name="a751f1ecf497d528e4b564c99a7db9452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a751f1ecf497d528e4b564c99a7db9452">&#9670;&#160;</a></span>loginpage_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::loginpage_hook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Will get called before the login page is shownr. </p>
<p>Ff NTLM SSO is enabled, and the user is in the right network, we'll redirect to the magic NTLM page for SSO... </p>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a590266d46d9dd8a153de4f5c9de48966">auth_plugin_base</a>.</p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#adcb7546d888d2f85db0199211dcc0695">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="ae12f9d89c198f34eb6a440a02c81a873" name="ae12f9d89c198f34eb6a440a02c81a873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12f9d89c198f34eb6a440a02c81a873">&#9670;&#160;</a></span>loginpage_idp_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::loginpage_idp_list </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$wantsurl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of potential IdPs that this authentication plugin supports. </p>
<p>This is used to provide links on the login page and the login block.</p>
<p>The parameter $wantsurl is typically used by the plugin to implement a return-url feature.</p>
<p>The returned value is expected to be a list of associative arrays with string keys:</p>
<ul>
<li>url =&gt; (moodle_url|string) URL of the page to send the user to for authentication</li>
<li>name =&gt; (string) Human readable name of the IdP</li>
<li>iconurl =&gt; (moodle_url|string) URL of the icon representing the IdP (since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3)</li>
</ul>
<p>For legacy reasons, pre-3.3 plugins can provide the icon via the key:</p>
<ul>
<li>icon =&gt; (<a class="el" href="../../d0/d6e/classpix__icon.html">pix_icon</a>) Icon representing the IdP</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$wantsurl</td><td>The relative url fragment the user wants to get to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>List of associative arrays with keys url, name, iconurl|icon </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a62813bc64d7ec5bf194d377e25956f35">auth_plugin_cas</a>, <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a266eae8af58b48a58648ca9d70d0c1b9">auth_plugin_mnet</a>, <a class="el" href="../../d8/d6f/classauth__oauth2_1_1auth.html#ac36223453296960bd322f7986887761f">auth_oauth2\auth</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#a73781247fdbcd9e7deb0bfc764e9b9a0">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="a083093742678c20450020780c9078fd9" name="a083093742678c20450020780c9078fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a083093742678c20450020780c9078fd9">&#9670;&#160;</a></span>logoutpage_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object auth_plugin_base::logoutpage_hook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for overriding behaviour of logout page. </p>
<p>This method is called from login/logout.php page for all enabled auth plugins.</p>
<p>@global string </p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a23a60b3af0398a0da55df45a4ef9d725">auth_plugin_cas</a>, <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a74787b6d221adbbfbeb3350369a1ddd8">auth_plugin_mnet</a>, and <a class="el" href="../../df/d54/classauth__plugin__shibboleth.html#ab748488d44647ede5363c5e116af861a">auth_plugin_shibboleth</a>.</p>

</div>
</div>
<a id="a672199ac2caae6f015b23e5cabe12ac1" name="a672199ac2caae6f015b23e5cabe12ac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a672199ac2caae6f015b23e5cabe12ac1">&#9670;&#160;</a></span>ntlmsso_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ntlmsso_finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the session set by <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a3c28c6aef510a5e398481d192981a110" title="To be called from a page running under NTLM&#39;s &quot;Integrated Windows Authentication&quot;.">ntlmsso_magic()</a>, validate it and call <a class="el" href="../../d0/de1/group__core.html#ga7e4714dc516fbea87d224bbb75b57bc6" title="Authenticates a user against the chosen authentication mechanism.">authenticate_user_login()</a> to authenticate the user through the auth machinery. </p>
<p>It is complemented by a similar check in <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a4a534150f7d0d5739b6311f984979230" title="Returns true if the username and password work and false if they are wrong or don&#39;t exist.">user_login()</a>.</p>
<p>If it succeeds, it never returns. </p>

</div>
</div>
<a id="a3c28c6aef510a5e398481d192981a110" name="a3c28c6aef510a5e398481d192981a110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c28c6aef510a5e398481d192981a110">&#9670;&#160;</a></span>ntlmsso_magic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::ntlmsso_magic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sesskey</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To be called from a page running under NTLM's "Integrated Windows Authentication". </p>
<p>If successful, it will set a special "cookie" (not an HTTP cookie!) in cache_flags under the $this-&gt;pluginconfig/ntlmsess "plugin" and return true. The "cookie" will be picked up by <a class="el" href="../../d8/d60/classauth__plugin__ldap.html#a672199ac2caae6f015b23e5cabe12ac1" title="Find the session set by ntlmsso_magic(), validate it and call authenticate_user_login() to authentica...">ntlmsso_finish()</a> to complete the process.</p>
<p>On failure it will return false for the caller to display an appropriate error message (probably saying that Integrated Windows Auth isn't enabled!)</p>
<p>NOTE that this code will execute under the OS user credentials, so we MUST avoid dealing with files &ndash; such as session files. (The caller should define('NO_MOODLE_COOKIES', true) before including config.php) </p>

</div>
</div>
<a id="aa987b6f2306c15122a197ba388ffe5d2" name="aa987b6f2306c15122a197ba388ffe5d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa987b6f2306c15122a197ba388ffe5d2">&#9670;&#160;</a></span>password_expire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::password_expire </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return number of days to user password expires. </p>
<p>If userpassword does not expire it should return 0. If password is already expired it should return negative value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$username</td><td>username </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">integer</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a86d165eca39aaeb1e0d8c7f960423d18">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a161b8e58713047dc1afb76f972afb6b0" name="a161b8e58713047dc1afb76f972afb6b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161b8e58713047dc1afb76f972afb6b0">&#9670;&#160;</a></span>postlogout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::postlogout_hook </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Post logout hook. </p>
<p>This method is used after moodle logout by auth classes to execute server logout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>clone of USER object before the user session was terminated </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a7fdf311a49fd87253c5fefaed914d4f5">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a71d1997a51da39f2eefc7fc7b2da1075" name="a71d1997a51da39f2eefc7fc7b2da1075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d1997a51da39f2eefc7fc7b2da1075">&#9670;&#160;</a></span>pre_loginpage_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::pre_loginpage_hook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for overriding behaviour before going to the login page. </p>
<p>This method is called from require_login from potentially any page for all enabled auth plugins and gives each plugin a chance to redirect directly to an external login page, or to instantly login a user where possible.</p>
<p>If an auth plugin implements this hook, it must not rely on ONLY this hook in order to work, as there are many ways a user can browse directly to the standard login page. As a general rule in this case you should also implement the loginpage_hook as well. </p>

</div>
</div>
<a id="a1020896f222cdab32fa490baaa17c1b9" name="a1020896f222cdab32fa490baaa17c1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1020896f222cdab32fa490baaa17c1b9">&#9670;&#160;</a></span>pre_user_login_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::pre_user_login_hook </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre user_login hook. </p>
<p>This method is called from <a class="el" href="../../d0/de1/group__core.html#ga7e4714dc516fbea87d224bbb75b57bc6" title="Authenticates a user against the chosen authentication mechanism.">authenticate_user_login()</a> right after the user object is generated. This gives the auth plugins an option to make adjustments before the verification process starts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>user object, later used for $USER </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1ec655c395f6ecbd884e99a47cf26f7" name="aa1ec655c395f6ecbd884e99a47cf26f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1ec655c395f6ecbd884e99a47cf26f7">&#9670;&#160;</a></span>prelogout_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object auth_plugin_base::prelogout_hook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre logout hook. </p>
<p>This method is called from require_logout() for all enabled auth plugins, </p>

<p>Reimplemented in <a class="el" href="../../d1/d42/classauth__plugin__mnet.html#a872238d9883672941a1c12e9cea72500">auth_plugin_mnet</a>.</p>

</div>
</div>
<a id="a924e24173d42049499bef18dc4ec9898" name="a924e24173d42049499bef18dc4ec9898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a924e24173d42049499bef18dc4ec9898">&#9670;&#160;</a></span>prepare_identity_providers_for_output()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auth_plugin_base::prepare_identity_providers_for_output </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$identityproviders</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a>&#160;</td>
          <td class="paramname"><em>$output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare a list of identity providers for output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$identityproviders</td><td>as returned by <a class="el" href="../../">self::get_identity_providers()</a> </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../de/d60/classrenderer__base.html">renderer_base</a></td><td class="paramname">$output</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the identity providers ready for output </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a448a9dbfc31dbd1df69d23a866537db6" name="a448a9dbfc31dbd1df69d23a866537db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a448a9dbfc31dbd1df69d23a866537db6">&#9670;&#160;</a></span>prevent_local_passwords()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::prevent_local_passwords </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates if password hashes should be stored in local moodle database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true means flag 'not_cached' stored instead of password hash </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a261ade2764b3aeb66582c5b8c889aee3">auth_plugin_base</a>.</p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#ad8cf6e8218f2fec2981c25d0942cf415">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="aa84c2e2ebb28ea283742d45f9b5f1732" name="aa84c2e2ebb28ea283742d45f9b5f1732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84c2e2ebb28ea283742d45f9b5f1732">&#9670;&#160;</a></span>process_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::process_config </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes and stores configuration data for this authentication plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>object with submitted configuration settings (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000160">Deprecated:</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<a id="a662d92911f5207d0ab679491dcfb99ec" name="a662d92911f5207d0ab679491dcfb99ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a662d92911f5207d0ab679491dcfb99ec">&#9670;&#160;</a></span>set_extrauserinfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::set_extrauserinfo </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$values</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set extra user information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$values</td><td>Any Key value pair. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af77f69d053c0a800f8c6929212ecfcf9" name="af77f69d053c0a800f8c6929212ecfcf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af77f69d053c0a800f8c6929212ecfcf9">&#9670;&#160;</a></span>signup_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::signup_form </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a form to capture user details for account creation. </p>
<p>This is used in /login/signup.php. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">moodle_form</td><td>A form which edits a record from the user table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9a5216049c56fde6953a7d5460089a46" name="a9a5216049c56fde6953a7d5460089a46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a5216049c56fde6953a7d5460089a46">&#9670;&#160;</a></span>sync_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::sync_roles </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sync roles for this user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>The user to sync (without system magic quotes). </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a6ff25d207596f3e682e2d152eb5cbf6e">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a7de82dc5528603692f4a3d8a52dc5068" name="a7de82dc5528603692f4a3d8a52dc5068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7de82dc5528603692f4a3d8a52dc5068">&#9670;&#160;</a></span>sync_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::sync_users </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$do_updates</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Syncronizes user fron external LDAP server to moodle user table. </p>
<p>Sync is now using username attribute.</p>
<p>Syncing users removes or suspends users that dont exists anymore in external LDAP. Creates new users and updates coursecreator status of users.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$do_updates</td><td>will do pull in data updates from LDAP if relevant </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a9e9e31f96e93de11f2bbf4547770190d">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a7cddbf9e25745e24af8155b9c66caa55" name="a7cddbf9e25745e24af8155b9c66caa55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cddbf9e25745e24af8155b9c66caa55">&#9670;&#160;</a></span>update_user_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::update_user_record </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$updatekeys</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$triggerevent</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$suspenduser</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update a local user record from an external source. </p>
<p>This is a lighter version of the one in moodlelib &ndash; won't do expensive ops such as enrolment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$updatekeys</td><td>fields to update, false updates all fields. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$triggerevent</td><td>set false if user_updated event should not be triggered. This will not affect user_password_updated event triggering. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$suspenduser</td><td>Should the user be suspended? </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|bool</td><td>updated user record or false if there is no new info to update. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a65ae815dd73c5abd74fb7ef45d6d8a25" name="a65ae815dd73c5abd74fb7ef45d6d8a25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65ae815dd73c5abd74fb7ef45d6d8a25">&#9670;&#160;</a></span>user_activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::user_activate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activates (enables) user in external LDAP so user can login. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$username</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>result </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0f41448612b93e326f25264a8a197e39" name="a0f41448612b93e326f25264a8a197e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f41448612b93e326f25264a8a197e39">&#9670;&#160;</a></span>user_authenticated_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_authenticated_hook </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Post authentication hook. </p>
<p>This method is called from <a class="el" href="../../d0/de1/group__core.html#ga7e4714dc516fbea87d224bbb75b57bc6" title="Authenticates a user against the chosen authentication mechanism.">authenticate_user_login()</a> for all enabled auth plugins.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>user object, later used for $USER </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>(with system magic quotes) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>plain text password (with system magic quotes) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac33178d865c00bed670859cdaf5bf8e9" name="ac33178d865c00bed670859cdaf5bf8e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac33178d865c00bed670859cdaf5bf8e9">&#9670;&#160;</a></span>user_confirm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::user_confirm </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$confirmsecret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirm the new user as registered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$confirmsecret</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a5c859c2ce584ade45e98a11683647ae1">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a672fd3af3e63d81bdb9e873dcec7bb10" name="a672fd3af3e63d81bdb9e873dcec7bb10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a672fd3af3e63d81bdb9e873dcec7bb10">&#9670;&#160;</a></span>user_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::user_create </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userobject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$plainpass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new user on LDAP. </p>
<p>By using information in userobject Use user_exists to prevent duplicate usernames</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$userobject</td><td><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> userobject </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$plainpass</td><td>Plaintext password </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62731aff3764f0bfde3cbcadf47e8208" name="a62731aff3764f0bfde3cbcadf47e8208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62731aff3764f0bfde3cbcadf47e8208">&#9670;&#160;</a></span>user_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::user_delete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$olduser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>User delete requested - internal user record is mared as deleted already, username not present anymore. </p>
<p>Do any action in external database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>Userobject before delete (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa6d28cff576e8323b3c0d106c4c20123" name="aa6d28cff576e8323b3c0d106c4c20123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6d28cff576e8323b3c0d106c4c20123">&#9670;&#160;</a></span>user_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::user_exists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if user exists on LDAP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#ad7bb0b4120624dc594e5fe5e29e003b6">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a4a534150f7d0d5739b6311f984979230" name="a4a534150f7d0d5739b6311f984979230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a534150f7d0d5739b6311f984979230">&#9670;&#160;</a></span>user_login()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::user_login </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the username and password work and false if they are wrong or don't exist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>The username (without system magic quotes) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>The password (without system magic quotes)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Authentication success or failure. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a6058156bc816a3fe164212cf697755ec">auth_plugin_base</a>.</p>

<p>Reimplemented in <a class="el" href="../../dc/daf/classauth__plugin__cas.html#a9a24d6180bfd49389e2819eb8e5daa5f">auth_plugin_cas</a>.</p>

</div>
</div>
<a id="a3f8255295d0b40d056c29f21e8e66cb1" name="a3f8255295d0b40d056c29f21e8e66cb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f8255295d0b40d056c29f21e8e66cb1">&#9670;&#160;</a></span>user_signup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::user_signup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$notify</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sign up a new user ready for confirmation. </p>
<p>Password is passed in plaintext.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>new user object </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$notify</td><td>print notice with link and terminate </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a47840a5fd43ae4bae4c0b562f0a0ff94">auth_plugin_base</a>.</p>

</div>
</div>
<a id="ad97823078da1da9936ed62c394adda7e" name="ad97823078da1da9936ed62c394adda7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad97823078da1da9936ed62c394adda7e">&#9670;&#160;</a></span>user_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::user_update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$olduser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$newuser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when the user record is updated. </p>
<p>Modifies user in external LDAP server. It takes olduser (before changes) and newuser (after changes) compares information and saves modified information to external LDAP server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$olduser</td><td>Userobject before modifications (without system magic quotes) </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$newuser</td><td>Userobject new modified userobject (without system magic quotes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>result </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#aa7c6287e69024da1720e15027c3a347d">auth_plugin_base</a>.</p>

</div>
</div>
<a id="a7c1d470409555ef70bf8490ff2656639" name="a7c1d470409555ef70bf8490ff2656639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c1d470409555ef70bf8490ff2656639">&#9670;&#160;</a></span>user_update_password()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_ldap::user_update_password </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$newpassword</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes userpassword in LDAP. </p>
<p>Called when the user password is updated. It assumes it is called by an admin or that you've otherwise checked the user's credentials</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>User table object </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newpassword</td><td>Plaintext password (not crypted/md5'ed) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>result </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d7a/classauth__plugin__base.html#a6360533b7796dfc382899ba361021ec4">auth_plugin_base</a>.</p>

</div>
</div>
<a id="afa597d2387e70cb903c8a5c64e72c1a0" name="afa597d2387e70cb903c8a5c64e72c1a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa597d2387e70cb903c8a5c64e72c1a0">&#9670;&#160;</a></span>validate_form()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auth_plugin_base::validate_form </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A chance to validate form data, and last chance to do stuff before it is inserted in config_plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">object</td><td>object with submitted configuration settings (without system magic quotes) </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$err</td><td>array of error messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000159">Deprecated:</a></b></dt><dd>since <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.3 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>auth/ldap/auth.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 18 2023 03:12:06 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
