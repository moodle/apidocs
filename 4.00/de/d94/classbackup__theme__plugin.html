<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: backup_theme_plugin Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.0</span>
   </div>
   <div id="projectbrief">Moodle 4.0.9+ (Build: 20230728) (5ab94239f41)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d5/d8d/classbackup__theme__plugin-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">backup_theme_plugin Class Reference<div class="ingroups"><a class="el" href="../../d5/d0a/group__core__backup.html">core_backup</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Base class for theme backup plugins.  
 <a href="../../de/d94/classbackup__theme__plugin.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for backup_theme_plugin:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../de/d94/classbackup__theme__plugin.png" usemap="#backup_5Ftheme_5Fplugin_map" alt=""/>
  <map id="backup_5Ftheme_5Fplugin_map" name="backup_5Ftheme_5Fplugin_map">
<area href="../../d3/d82/classbackup__plugin.html" title="Class implementing the plugins support for moodle2 backups." alt="backup_plugin" shape="rect" coords="0,0,134,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8f8263dd7c8783c5061f6e514de90bca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/classbackup__theme__plugin.html#a8f8263dd7c8783c5061f6e514de90bca">__construct</a> ($plugintype, $pluginname, $optigroup, $step)</td></tr>
<tr class="separator:a8f8263dd7c8783c5061f6e514de90bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e5d054513a33b622c5743f41bb0368"><td class="memItemLeft" align="right" valign="top"><a id="a80e5d054513a33b622c5743f41bb0368" name="a80e5d054513a33b622c5743f41bb0368"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>define_plugin_structure</b> ($connectionpoint)</td></tr>
<tr class="separator:a80e5d054513a33b622c5743f41bb0368"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aec63967db26ba4c4e7a2b90493569362"><td class="memItemLeft" align="right" valign="top"><a id="aec63967db26ba4c4e7a2b90493569362" name="aec63967db26ba4c4e7a2b90493569362"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>get_plugin_element</b> ($final_elements=null, $conditionparam=null, $conditionvalue=null)</td></tr>
<tr class="memdesc:aec63967db26ba4c4e7a2b90493569362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factory method that will return one backup_plugin_element (<a class="el" href="../../d2/ddf/classbackup__optigroup__element.html" title="Instantiable class representing one optigroup element for conditional branching.">backup_optigroup_element</a>) with its name automatically calculated, based one the plugin being handled (type, name) <br /></td></tr>
<tr class="separator:aec63967db26ba4c4e7a2b90493569362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19900d9e301dd523110078882825560e"><td class="memItemLeft" align="right" valign="top"><a id="a19900d9e301dd523110078882825560e" name="a19900d9e301dd523110078882825560e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>get_recommended_name</b> ()</td></tr>
<tr class="memdesc:a19900d9e301dd523110078882825560e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple helper function that suggests one name for the main nested element in plugins It's not mandatory to use it but recommended ;-) <br /></td></tr>
<tr class="separator:a19900d9e301dd523110078882825560e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20644c8a87d08999663cc614df9227fa"><td class="memItemLeft" align="right" valign="top"><a id="a20644c8a87d08999663cc614df9227fa" name="a20644c8a87d08999663cc614df9227fa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>get_setting_value</b> ($name)</td></tr>
<tr class="memdesc:a20644c8a87d08999663cc614df9227fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of one (task/plan) setting. <br /></td></tr>
<tr class="separator:a20644c8a87d08999663cc614df9227fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada95df28e37da2b323590719752a4f1d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d94/classbackup__theme__plugin.html#ada95df28e37da2b323590719752a4f1d">get_theme_condition</a> ()</td></tr>
<tr class="memdesc:ada95df28e37da2b323590719752a4f1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return condition for whether this theme should be backed up (= if it is the same theme as the one used in this course).  <br /></td></tr>
<tr class="separator:ada95df28e37da2b323590719752a4f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a06f366ccd4ee7d54fb374a2ca48ef4e3"><td class="memItemLeft" align="right" valign="top"><a id="a06f366ccd4ee7d54fb374a2ca48ef4e3" name="a06f366ccd4ee7d54fb374a2ca48ef4e3"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$connectionpoint</b></td></tr>
<tr class="separator:a06f366ccd4ee7d54fb374a2ca48ef4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3572a500c27d2168d9c0177dc6383a"><td class="memItemLeft" align="right" valign="top"><a id="a1a3572a500c27d2168d9c0177dc6383a" name="a1a3572a500c27d2168d9c0177dc6383a"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$coursetheme</b></td></tr>
<tr class="memdesc:a1a3572a500c27d2168d9c0177dc6383a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current theme for course (may not be the same as plugin). <br /></td></tr>
<tr class="separator:a1a3572a500c27d2168d9c0177dc6383a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83c41f82cc8c532e423ccdc4e8527f6"><td class="memItemLeft" align="right" valign="top"><a id="ad83c41f82cc8c532e423ccdc4e8527f6" name="ad83c41f82cc8c532e423ccdc4e8527f6"></a>
<a class="el" href="../../d2/ddf/classbackup__optigroup__element.html">backup_optigroup_element</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$optigroup</b></td></tr>
<tr class="separator:ad83c41f82cc8c532e423ccdc4e8527f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76870852d59e12258852e1706798ded4"><td class="memItemLeft" align="right" valign="top"><a id="a76870852d59e12258852e1706798ded4" name="a76870852d59e12258852e1706798ded4"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$pluginname</b></td></tr>
<tr class="separator:a76870852d59e12258852e1706798ded4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada90244fc5e048bfcfde3cac6e56821f"><td class="memItemLeft" align="right" valign="top"><a id="ada90244fc5e048bfcfde3cac6e56821f" name="ada90244fc5e048bfcfde3cac6e56821f"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$plugintype</b></td></tr>
<tr class="separator:ada90244fc5e048bfcfde3cac6e56821f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16fd1402c5ab58313c655c150d49620b"><td class="memItemLeft" align="right" valign="top"><a id="a16fd1402c5ab58313c655c150d49620b" name="a16fd1402c5ab58313c655c150d49620b"></a>
<a class="el" href="../../d2/d73/classbackup__structure__step.html">backup_structure_step</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$step</b></td></tr>
<tr class="separator:a16fd1402c5ab58313c655c150d49620b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a5c78ba3ea7c7c6487a9948fe8843d8"><td class="memItemLeft" align="right" valign="top"><a id="a2a5c78ba3ea7c7c6487a9948fe8843d8" name="a2a5c78ba3ea7c7c6487a9948fe8843d8"></a>
<a class="el" href="../../d3/d23/classbackup__course__task.html">backup_course_task</a> <a class="el" href="../../d8/d39/classbackup__activity__task.html">backup_activity_task</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$task</b></td></tr>
<tr class="separator:a2a5c78ba3ea7c7c6487a9948fe8843d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for theme backup plugins. </p>
<p>NOTE: When you back up a course, it runs backup for ALL themes - not just the currently selected one.</p>
<p>That means that if, for example, a course was once in theme A, and theme A had some data settings, but it is then changed to theme B, the data settings will still be included in the backup and restore. With the restored course, if you ever change it back to theme A, the settings will be ready.</p>
<p>It also means that other themes which are not the one set up for the course, but might be seen by some users (eg user themes, session themes, mnet themes) can store data.</p>
<p>If this behaviour is not desired for a particular theme's data, the subclass can call is_current_theme('myname') to check. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8f8263dd7c8783c5061f6e514de90bca" name="a8f8263dd7c8783c5061f6e514de90bca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f8263dd7c8783c5061f6e514de90bca">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">backup_theme_plugin::__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$plugintype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pluginname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$optigroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$plugintype</td><td>Plugin type (always 'theme') </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$pluginname</td><td>Plugin name (name of theme) </td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d6/dbe/classbackup__optigroup.html" title="Instantiable class representing one optigroup element for conditional branching.">backup_optigroup</a></td><td class="paramname">$optigroup</td><td>Group that will contain this data </td></tr>
    <tr><td class="paramtype">backup_course_structure_step</td><td class="paramname">$step</td><td>Backup step that this is part of </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/d82/classbackup__plugin.html#ac30985317768032b6a28155f14267d24">backup_plugin</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ada95df28e37da2b323590719752a4f1d" name="ada95df28e37da2b323590719752a4f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada95df28e37da2b323590719752a4f1d">&#9670;&#160;</a></span>get_theme_condition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">backup_theme_plugin::get_theme_condition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return condition for whether this theme should be backed up (= if it is the same theme as the one used in this course). </p>
<p>This condition has the theme used in the course. It will be compared against the name of the theme, by use of third parameter in get_plugin_element; in subclass, you should do: $plugin = $this-&gt;get_plugin_element(null, $this-&gt;<a class="el" href="../../de/d94/classbackup__theme__plugin.html#ada95df28e37da2b323590719752a4f1d" title="Return condition for whether this theme should be backed up (= if it is the same theme as the one use...">get_theme_condition()</a>, 'mytheme'); </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>backup/moodle2/backup_theme_plugin.class.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 30 2023 02:41:19 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
