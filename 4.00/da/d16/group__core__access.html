<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_access</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.0</span>
   </div>
   <div id="projectbrief">Moodle 4.0.2+ (Build: 20220812) (bcd0bdaf513)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">core_access</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:d0/df8/namespacecore_1_1event"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/df8/namespacecore_1_1event.html">core\event</a></td></tr>
<tr class="memdesc:d0/df8/namespacecore_1_1event"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#160; <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d04/classcontext.html">context</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d82/classcontext__coursecat.html">context_coursecat</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dca/classcontext__helper.html">context_helper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/db4/classcontext__module.html">context_module</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de3/classcontext__system.html">context_system</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d12/classcontext__user.html">context_user</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d48/classcore_1_1event_1_1context__locked.html">core\event\context_locked</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event triggered after a context has been frozen.  <a href="../../d7/d48/classcore_1_1event_1_1context__locked.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d12/classcore_1_1event_1_1context__unlocked.html">core\event\context_unlocked</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event triggered after a context has been unfrozen.  <a href="../../d8/d12/classcore_1_1event_1_1context__unlocked.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d7b/classrequire__login__exception.html">require_login_exception</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Course/activity access exception.  <a href="../../da/d7b/classrequire__login__exception.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d59/classrequire__login__session__timeout__exception.html">require_login_session_timeout_exception</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Session timeout exception.  <a href="../../d1/d59/classrequire__login__session__timeout__exception.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d15/classrequired__capability__exception.html">required_capability_exception</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exceptions indicating user does not have permissions to do something and the execution can not continue.  <a href="../../d2/d15/classrequired__capability__exception.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga64dd630ae3ce00462af63847fc63770e"><td class="memItemLeft" align="right" valign="top"><a id="ga64dd630ae3ce00462af63847fc63770e" name="ga64dd630ae3ce00462af63847fc63770e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>context_helper::__construct</b> ()</td></tr>
<tr class="memdesc:ga64dd630ae3ce00462af63847fc63770e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance does not make sense here, only static use. <br /></td></tr>
<tr class="separator:ga64dd630ae3ce00462af63847fc63770e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ba08c927b8820c4bd724576982144aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga2ba08c927b8820c4bd724576982144aa">context::__construct</a> (stdClass $record)</td></tr>
<tr class="memdesc:ga2ba08c927b8820c4bd724576982144aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor is protected so that devs are forced to use context_xxx::instance() or <a class="el" href="../../da/d16/group__core__access.html#gaad669d6d6eee4c611c3103d616d5f41e" title="Get a context instance as an object, from a given context id.">context::instance_by_id()</a>.  <a href="../../da/d16/group__core__access.html#ga2ba08c927b8820c4bd724576982144aa">More...</a><br /></td></tr>
<tr class="separator:ga2ba08c927b8820c4bd724576982144aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafea1f232f06f77f16f0c9c6bc04e789b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gafea1f232f06f77f16f0c9c6bc04e789b">context_system::__construct</a> (stdClass $record)</td></tr>
<tr class="memdesc:gafea1f232f06f77f16f0c9c6bc04e789b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Please use <a class="el" href="../../da/d16/group__core__access.html#ga4ef1b82f04f6a72f7336bb5ebfce1811" title="Returns system context instance.">context_system::instance()</a> if you need the instance of context.  <a href="../../da/d16/group__core__access.html#gafea1f232f06f77f16f0c9c6bc04e789b">More...</a><br /></td></tr>
<tr class="separator:gafea1f232f06f77f16f0c9c6bc04e789b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e6c63f5cd4fd76a639adc003ffc2c89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga6e6c63f5cd4fd76a639adc003ffc2c89">context_user::__construct</a> (stdClass $record)</td></tr>
<tr class="memdesc:ga6e6c63f5cd4fd76a639adc003ffc2c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Please use <a class="el" href="../../da/d16/group__core__access.html#ga850f14ddc575f28ec42cbe71b3069ceb" title="Returns user context instance.">context_user::instance</a>($userid) if you need the instance of context.  <a href="../../da/d16/group__core__access.html#ga6e6c63f5cd4fd76a639adc003ffc2c89">More...</a><br /></td></tr>
<tr class="separator:ga6e6c63f5cd4fd76a639adc003ffc2c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9038bbbf52aca29ea955c1aa60f08f7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga9038bbbf52aca29ea955c1aa60f08f7e">context_coursecat::__construct</a> (stdClass $record)</td></tr>
<tr class="memdesc:ga9038bbbf52aca29ea955c1aa60f08f7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Please use <a class="el" href="../../da/d16/group__core__access.html#ga92b4ab69c89826db242b815ac2d77b0b" title="Returns course category context instance.">context_coursecat::instance</a>($coursecatid) if you need the instance of context.  <a href="../../da/d16/group__core__access.html#ga9038bbbf52aca29ea955c1aa60f08f7e">More...</a><br /></td></tr>
<tr class="separator:ga9038bbbf52aca29ea955c1aa60f08f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga221ae51af1d9024ae06e9847549a50c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga221ae51af1d9024ae06e9847549a50c9">context_course::__construct</a> (stdClass $record)</td></tr>
<tr class="memdesc:ga221ae51af1d9024ae06e9847549a50c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Please use <a class="el" href="../../da/d16/group__core__access.html#ga471cfe5467fd78bb3b8d3379ba01178b" title="Returns course context instance.">context_course::instance</a>($courseid) if you need the instance of context.  <a href="../../da/d16/group__core__access.html#ga221ae51af1d9024ae06e9847549a50c9">More...</a><br /></td></tr>
<tr class="separator:ga221ae51af1d9024ae06e9847549a50c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf292b7f9dca08db54091c9e426193dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaaf292b7f9dca08db54091c9e426193dd">context_module::__construct</a> (stdClass $record)</td></tr>
<tr class="memdesc:gaaf292b7f9dca08db54091c9e426193dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Please use <a class="el" href="../../da/d16/group__core__access.html#ga32cfbef633764d292f909de3fab1df66" title="Returns module context instance.">context_module::instance</a>($cmid) if you need the instance of context.  <a href="../../da/d16/group__core__access.html#gaaf292b7f9dca08db54091c9e426193dd">More...</a><br /></td></tr>
<tr class="separator:gaaf292b7f9dca08db54091c9e426193dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga384090619c09ed92120044f992c1a594"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga384090619c09ed92120044f992c1a594">context::__get</a> ($<a class="el" href="../../d8/ded/group___simple_pie.html#ga4b516aaa5fa38da4fed24ab6001627e2">name</a>)</td></tr>
<tr class="memdesc:ga384090619c09ed92120044f992c1a594"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic method getter, redirects to read only values.  <a href="../../da/d16/group__core__access.html#ga384090619c09ed92120044f992c1a594">More...</a><br /></td></tr>
<tr class="separator:ga384090619c09ed92120044f992c1a594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga426d6dd0c74bb4cf67f8e19bbab5e2ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga426d6dd0c74bb4cf67f8e19bbab5e2ce">context::__isset</a> ($<a class="el" href="../../d8/ded/group___simple_pie.html#ga4b516aaa5fa38da4fed24ab6001627e2">name</a>)</td></tr>
<tr class="memdesc:ga426d6dd0c74bb4cf67f8e19bbab5e2ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full support for isset on our magic read only properties.  <a href="../../da/d16/group__core__access.html#ga426d6dd0c74bb4cf67f8e19bbab5e2ce">More...</a><br /></td></tr>
<tr class="separator:ga426d6dd0c74bb4cf67f8e19bbab5e2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0829d8958f90cb8dc652b35225a03897"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga0829d8958f90cb8dc652b35225a03897">context::__set</a> ($<a class="el" href="../../d8/ded/group___simple_pie.html#ga4b516aaa5fa38da4fed24ab6001627e2">name</a>, $<a class="el" href="../../d8/ded/group___simple_pie.html#gaefbfa229f1c9e1fc967bff724a010f9e">value</a>)</td></tr>
<tr class="memdesc:ga0829d8958f90cb8dc652b35225a03897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic setter method, we do not want anybody to modify properties from the outside.  <a href="../../da/d16/group__core__access.html#ga0829d8958f90cb8dc652b35225a03897">More...</a><br /></td></tr>
<tr class="separator:ga0829d8958f90cb8dc652b35225a03897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5253c0f386b5e20a42686af5f480e8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gad5253c0f386b5e20a42686af5f480e8f">context::__unset</a> ($<a class="el" href="../../d8/ded/group___simple_pie.html#ga4b516aaa5fa38da4fed24ab6001627e2">name</a>)</td></tr>
<tr class="memdesc:gad5253c0f386b5e20a42686af5f480e8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">All properties are read only, sorry.  <a href="../../da/d16/group__core__access.html#gad5253c0f386b5e20a42686af5f480e8f">More...</a><br /></td></tr>
<tr class="separator:gad5253c0f386b5e20a42686af5f480e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga75275d90e9a4b5a473d7028d42986cd4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga75275d90e9a4b5a473d7028d42986cd4">assign_capability</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, $permission, $roleid, $contextid, $overwrite=false)</td></tr>
<tr class="memdesc:ga75275d90e9a4b5a473d7028d42986cd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to write context specific overrides, or default capabilities.  <a href="../../da/d16/group__core__access.html#ga75275d90e9a4b5a473d7028d42986cd4">More...</a><br /></td></tr>
<tr class="separator:ga75275d90e9a4b5a473d7028d42986cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4044312274e5f5f9bf768f1faa4587c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga4044312274e5f5f9bf768f1faa4587c5">assign_legacy_capabilities</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, $legacyperms)</td></tr>
<tr class="memdesc:ga4044312274e5f5f9bf768f1faa4587c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign the defaults found in this capability definition to roles that have the corresponding legacy capabilities assigned to them.  <a href="../../da/d16/group__core__access.html#ga4044312274e5f5f9bf768f1faa4587c5">More...</a><br /></td></tr>
<tr class="separator:ga4044312274e5f5f9bf768f1faa4587c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ee0db8e1df405276a842a346d7b76a3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga2ee0db8e1df405276a842a346d7b76a3">context_helper::build_all_paths</a> ($force=false)</td></tr>
<tr class="memdesc:ga2ee0db8e1df405276a842a346d7b76a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild paths and depths in all context levels.  <a href="../../da/d16/group__core__access.html#ga2ee0db8e1df405276a842a346d7b76a3">More...</a><br /></td></tr>
<tr class="separator:ga2ee0db8e1df405276a842a346d7b76a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17e24ca1d4a8bfce7b3b411a94d4240c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga17e24ca1d4a8bfce7b3b411a94d4240c">context::build_paths</a> ($force)</td></tr>
<tr class="memdesc:ga17e24ca1d4a8bfce7b3b411a94d4240c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild context paths and depths at context level.  <a href="../../da/d16/group__core__access.html#ga17e24ca1d4a8bfce7b3b411a94d4240c">More...</a><br /></td></tr>
<tr class="separator:ga17e24ca1d4a8bfce7b3b411a94d4240c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb359c9d9370d86b0da062aee125e503"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gadb359c9d9370d86b0da062aee125e503">context_system::build_paths</a> ($force)</td></tr>
<tr class="memdesc:gadb359c9d9370d86b0da062aee125e503"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild context paths and depths at system context level.  <a href="../../da/d16/group__core__access.html#gadb359c9d9370d86b0da062aee125e503">More...</a><br /></td></tr>
<tr class="separator:gadb359c9d9370d86b0da062aee125e503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fb0994c79cd54035ced70830c1f13e5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga3fb0994c79cd54035ced70830c1f13e5">context_user::build_paths</a> ($force)</td></tr>
<tr class="memdesc:ga3fb0994c79cd54035ced70830c1f13e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild context paths and depths at user context level.  <a href="../../da/d16/group__core__access.html#ga3fb0994c79cd54035ced70830c1f13e5">More...</a><br /></td></tr>
<tr class="separator:ga3fb0994c79cd54035ced70830c1f13e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae556a7c92d86606540e7c9568bb93435"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gae556a7c92d86606540e7c9568bb93435">context_coursecat::build_paths</a> ($force)</td></tr>
<tr class="memdesc:gae556a7c92d86606540e7c9568bb93435"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild context paths and depths at course category context level.  <a href="../../da/d16/group__core__access.html#gae556a7c92d86606540e7c9568bb93435">More...</a><br /></td></tr>
<tr class="separator:gae556a7c92d86606540e7c9568bb93435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga447e1608945bb5a174cd074c6b0d2c0f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga447e1608945bb5a174cd074c6b0d2c0f">context_course::build_paths</a> ($force)</td></tr>
<tr class="memdesc:ga447e1608945bb5a174cd074c6b0d2c0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild context paths and depths at course context level.  <a href="../../da/d16/group__core__access.html#ga447e1608945bb5a174cd074c6b0d2c0f">More...</a><br /></td></tr>
<tr class="separator:ga447e1608945bb5a174cd074c6b0d2c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a8e52d828aa82c3f1f0a7169a312abf"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga9a8e52d828aa82c3f1f0a7169a312abf">context_module::build_paths</a> ($force)</td></tr>
<tr class="memdesc:ga9a8e52d828aa82c3f1f0a7169a312abf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild context paths and depths at module context level.  <a href="../../da/d16/group__core__access.html#ga9a8e52d828aa82c3f1f0a7169a312abf">More...</a><br /></td></tr>
<tr class="separator:ga9a8e52d828aa82c3f1f0a7169a312abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ef68df61fbf1cc7338e391378a8d6e5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga5ef68df61fbf1cc7338e391378a8d6e5">context::cache_add</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:ga5ef68df61fbf1cc7338e391378a8d6e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a context to the cache.  <a href="../../da/d16/group__core__access.html#ga5ef68df61fbf1cc7338e391378a8d6e5">More...</a><br /></td></tr>
<tr class="separator:ga5ef68df61fbf1cc7338e391378a8d6e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe91ef15cf1b06e98c16515bcd3473fe"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gabe91ef15cf1b06e98c16515bcd3473fe">context::cache_get</a> ($contextlevel, $instance)</td></tr>
<tr class="memdesc:gabe91ef15cf1b06e98c16515bcd3473fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a context from the cache.  <a href="../../da/d16/group__core__access.html#gabe91ef15cf1b06e98c16515bcd3473fe">More...</a><br /></td></tr>
<tr class="separator:gabe91ef15cf1b06e98c16515bcd3473fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b13f79d6715e1239631152f53f935b7"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga1b13f79d6715e1239631152f53f935b7">context::cache_get_by_id</a> ($id)</td></tr>
<tr class="memdesc:ga1b13f79d6715e1239631152f53f935b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a context from the cache based on its id.  <a href="../../da/d16/group__core__access.html#ga1b13f79d6715e1239631152f53f935b7">More...</a><br /></td></tr>
<tr class="separator:ga1b13f79d6715e1239631152f53f935b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe799a6d13be6991adac4360cbd446ee"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gabe799a6d13be6991adac4360cbd446ee">context::cache_remove</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:gabe799a6d13be6991adac4360cbd446ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a context from the cache.  <a href="../../da/d16/group__core__access.html#gabe799a6d13be6991adac4360cbd446ee">More...</a><br /></td></tr>
<tr class="separator:gabe799a6d13be6991adac4360cbd446ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5c5c0f0093c4b085455c14c0c5c7fa4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gad5c5c0f0093c4b085455c14c0c5c7fa4">can_access_course</a> (stdClass $course, $user=null, $withcapability='', $onlyactive=false)</td></tr>
<tr class="memdesc:gad5c5c0f0093c4b085455c14c0c5c7fa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the user is able to access the course.  <a href="../../da/d16/group__core__access.html#gad5c5c0f0093c4b085455c14c0c5c7fa4">More...</a><br /></td></tr>
<tr class="separator:gad5c5c0f0093c4b085455c14c0c5c7fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11ea59716c460bfc6fec265f3f27ae93"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga11ea59716c460bfc6fec265f3f27ae93">context_helper::cleanup_instances</a> ()</td></tr>
<tr class="memdesc:ga11ea59716c460bfc6fec265f3f27ae93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove stale contexts that belonged to deleted instances.  <a href="../../da/d16/group__core__access.html#ga11ea59716c460bfc6fec265f3f27ae93">More...</a><br /></td></tr>
<tr class="separator:ga11ea59716c460bfc6fec265f3f27ae93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73fb6f7b305131ff1d48fa08e020e187"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga73fb6f7b305131ff1d48fa08e020e187">component_level_changed</a> ($cap, $comp, $contextlevel)</td></tr>
<tr class="memdesc:ga73fb6f7b305131ff1d48fa08e020e187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aids in detecting if a new line is required when reading a new capability.  <a href="../../da/d16/group__core__access.html#ga73fb6f7b305131ff1d48fa08e020e187">More...</a><br /></td></tr>
<tr class="separator:ga73fb6f7b305131ff1d48fa08e020e187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3c8bcb840b64feaed9dd0da770246b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gad3c8bcb840b64feaed9dd0da770246b1">core_role_set_assign_allowed</a> ($fromroleid, $targetroleid)</td></tr>
<tr class="memdesc:gad3c8bcb840b64feaed9dd0da770246b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a record in the role_allow_assign table.  <a href="../../da/d16/group__core__access.html#gad3c8bcb840b64feaed9dd0da770246b1">More...</a><br /></td></tr>
<tr class="separator:gad3c8bcb840b64feaed9dd0da770246b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga328f41c9ebd5b1dc5c82afe17cb048b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga328f41c9ebd5b1dc5c82afe17cb048b7">core_role_set_override_allowed</a> ($fromroleid, $targetroleid)</td></tr>
<tr class="memdesc:ga328f41c9ebd5b1dc5c82afe17cb048b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a record in the role_allow_override table.  <a href="../../da/d16/group__core__access.html#ga328f41c9ebd5b1dc5c82afe17cb048b7">More...</a><br /></td></tr>
<tr class="separator:ga328f41c9ebd5b1dc5c82afe17cb048b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad789a6560ddff7773934c2a2c2b6b2f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gad789a6560ddff7773934c2a2c2b6b2f5">core_role_set_switch_allowed</a> ($fromroleid, $targetroleid)</td></tr>
<tr class="memdesc:gad789a6560ddff7773934c2a2c2b6b2f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a record in the role_allow_switch table.  <a href="../../da/d16/group__core__access.html#gad789a6560ddff7773934c2a2c2b6b2f5">More...</a><br /></td></tr>
<tr class="separator:gad789a6560ddff7773934c2a2c2b6b2f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47bd0411f15fb14e5bf8d5794464e9fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga47bd0411f15fb14e5bf8d5794464e9fa">core_role_set_view_allowed</a> ($fromroleid, $targetroleid)</td></tr>
<tr class="memdesc:ga47bd0411f15fb14e5bf8d5794464e9fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a record in the role_allow_view table.  <a href="../../da/d16/group__core__access.html#ga47bd0411f15fb14e5bf8d5794464e9fa">More...</a><br /></td></tr>
<tr class="separator:ga47bd0411f15fb14e5bf8d5794464e9fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f467700c1117ca97f289cbedc83a3fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga1f467700c1117ca97f289cbedc83a3fd">count_role_users</a> ($roleid, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $parent=false)</td></tr>
<tr class="memdesc:ga1f467700c1117ca97f289cbedc83a3fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts all the users assigned this role in this context or higher.  <a href="../../da/d16/group__core__access.html#ga1f467700c1117ca97f289cbedc83a3fd">More...</a><br /></td></tr>
<tr class="separator:ga1f467700c1117ca97f289cbedc83a3fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b480172aa1660b81b23838bbe64c856"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga5b480172aa1660b81b23838bbe64c856">context::create_instance_from_record</a> (stdClass $record)</td></tr>
<tr class="memdesc:ga5b480172aa1660b81b23838bbe64c856"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is also used to work around 'protected' keyword problems in <a class="el" href="../../df/dca/classcontext__helper.html">context_helper</a>.  <a href="../../da/d16/group__core__access.html#ga5b480172aa1660b81b23838bbe64c856">More...</a><br /></td></tr>
<tr class="separator:ga5b480172aa1660b81b23838bbe64c856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef18e7629b32305d521521fd11664670"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaef18e7629b32305d521521fd11664670">context_helper::create_instances</a> ($contextlevel=null, $buildpaths=true)</td></tr>
<tr class="memdesc:gaef18e7629b32305d521521fd11664670"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create all context instances at the given level and above.  <a href="../../da/d16/group__core__access.html#gaef18e7629b32305d521521fd11664670">More...</a><br /></td></tr>
<tr class="separator:gaef18e7629b32305d521521fd11664670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga770ca72b88ffe963cfb30d5c06724b7e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga770ca72b88ffe963cfb30d5c06724b7e">context::create_level_instances</a> ()</td></tr>
<tr class="memdesc:ga770ca72b88ffe963cfb30d5c06724b7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create missing context instances at given level.  <a href="../../da/d16/group__core__access.html#ga770ca72b88ffe963cfb30d5c06724b7e">More...</a><br /></td></tr>
<tr class="separator:ga770ca72b88ffe963cfb30d5c06724b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb5110dcd69bc6634d6c6dcbd35cf14c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaeb5110dcd69bc6634d6c6dcbd35cf14c">context_system::create_level_instances</a> ()</td></tr>
<tr class="memdesc:gaeb5110dcd69bc6634d6c6dcbd35cf14c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create missing context instances at system context.  <a href="../../da/d16/group__core__access.html#gaeb5110dcd69bc6634d6c6dcbd35cf14c">More...</a><br /></td></tr>
<tr class="separator:gaeb5110dcd69bc6634d6c6dcbd35cf14c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae5266dabd9932e859a54df6bb6f8778"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaae5266dabd9932e859a54df6bb6f8778">context_user::create_level_instances</a> ()</td></tr>
<tr class="memdesc:gaae5266dabd9932e859a54df6bb6f8778"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create missing context instances at user context level.  <a href="../../da/d16/group__core__access.html#gaae5266dabd9932e859a54df6bb6f8778">More...</a><br /></td></tr>
<tr class="separator:gaae5266dabd9932e859a54df6bb6f8778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6353e94d2a432880cfff75558a86e688"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga6353e94d2a432880cfff75558a86e688">context_coursecat::create_level_instances</a> ()</td></tr>
<tr class="memdesc:ga6353e94d2a432880cfff75558a86e688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create missing context instances at course category context level.  <a href="../../da/d16/group__core__access.html#ga6353e94d2a432880cfff75558a86e688">More...</a><br /></td></tr>
<tr class="separator:ga6353e94d2a432880cfff75558a86e688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8b67d35f3cdbc9716d1a508971f5f12"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gad8b67d35f3cdbc9716d1a508971f5f12">context_course::create_level_instances</a> ()</td></tr>
<tr class="memdesc:gad8b67d35f3cdbc9716d1a508971f5f12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create missing context instances at course context level.  <a href="../../da/d16/group__core__access.html#gad8b67d35f3cdbc9716d1a508971f5f12">More...</a><br /></td></tr>
<tr class="separator:gad8b67d35f3cdbc9716d1a508971f5f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga538069ec9653dc04013284f6b006b897"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga538069ec9653dc04013284f6b006b897">context_module::create_level_instances</a> ()</td></tr>
<tr class="memdesc:ga538069ec9653dc04013284f6b006b897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create missing context instances at module context level.  <a href="../../da/d16/group__core__access.html#ga538069ec9653dc04013284f6b006b897">More...</a><br /></td></tr>
<tr class="separator:ga538069ec9653dc04013284f6b006b897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20f99c5e8f189803231f52e4e37ae1f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga20f99c5e8f189803231f52e4e37ae1f8">create_role</a> ($<a class="el" href="../../d8/ded/group___simple_pie.html#ga4b516aaa5fa38da4fed24ab6001627e2">name</a>, $shortname, $description, $archetype='')</td></tr>
<tr class="memdesc:ga20f99c5e8f189803231f52e4e37ae1f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that creates a role.  <a href="../../da/d16/group__core__access.html#ga20f99c5e8f189803231f52e4e37ae1f8">More...</a><br /></td></tr>
<tr class="separator:ga20f99c5e8f189803231f52e4e37ae1f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9c389b5bade7edd54dc1b7dcacb6efe"><td class="memItemLeft" align="right" valign="top"><a id="gab9c389b5bade7edd54dc1b7dcacb6efe" name="gab9c389b5bade7edd54dc1b7dcacb6efe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>context::delete</b> ()</td></tr>
<tr class="memdesc:gab9c389b5bade7edd54dc1b7dcacb6efe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the context content and the context record itself. <br /></td></tr>
<tr class="separator:gab9c389b5bade7edd54dc1b7dcacb6efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7ab595ddad8b421fd26df589ef38e3c"><td class="memItemLeft" align="right" valign="top"><a id="gae7ab595ddad8b421fd26df589ef38e3c" name="gae7ab595ddad8b421fd26df589ef38e3c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>context::delete_capabilities</b> ()</td></tr>
<tr class="memdesc:gae7ab595ddad8b421fd26df589ef38e3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unassign all capabilities from a context. <br /></td></tr>
<tr class="separator:gae7ab595ddad8b421fd26df589ef38e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga410f7e0b58d734a6f0c757d180747f55"><td class="memItemLeft" align="right" valign="top"><a id="ga410f7e0b58d734a6f0c757d180747f55" name="ga410f7e0b58d734a6f0c757d180747f55"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>context::delete_content</b> ()</td></tr>
<tr class="memdesc:ga410f7e0b58d734a6f0c757d180747f55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all data linked to content, do not delete the context record itself. <br /></td></tr>
<tr class="separator:ga410f7e0b58d734a6f0c757d180747f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24121b1ff33ddc715fd158374d5e4a47"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga24121b1ff33ddc715fd158374d5e4a47">context_helper::delete_instance</a> ($contextlevel, $instanceid)</td></tr>
<tr class="memdesc:ga24121b1ff33ddc715fd158374d5e4a47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete context instance.  <a href="../../da/d16/group__core__access.html#ga24121b1ff33ddc715fd158374d5e4a47">More...</a><br /></td></tr>
<tr class="separator:ga24121b1ff33ddc715fd158374d5e4a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31f98de8b303947a9245a927602b56ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga31f98de8b303947a9245a927602b56ec">delete_role</a> ($roleid)</td></tr>
<tr class="memdesc:ga31f98de8b303947a9245a927602b56ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that deletes a role and cleanups up after it.  <a href="../../da/d16/group__core__access.html#ga31f98de8b303947a9245a927602b56ec">More...</a><br /></td></tr>
<tr class="separator:ga31f98de8b303947a9245a927602b56ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b916e8e765a9e7a808e41ceb536b9fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga1b916e8e765a9e7a808e41ceb536b9fc">fix_role_sortorder</a> ($allroles)</td></tr>
<tr class="memdesc:ga1b916e8e765a9e7a808e41ceb536b9fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fix the roles.sortorder field in the database, so it contains sequential integers, and return an array of roleids in order.  <a href="../../da/d16/group__core__access.html#ga1b916e8e765a9e7a808e41ceb536b9fc">More...</a><br /></td></tr>
<tr class="separator:ga1b916e8e765a9e7a808e41ceb536b9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7d3fa115f042eee7d883ea8909547d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gab7d3fa115f042eee7d883ea8909547d9">get_all_capabilities</a> ()</td></tr>
<tr class="memdesc:gab7d3fa115f042eee7d883ea8909547d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all capabilitiy records, preferably from MUC and not database.  <a href="../../da/d16/group__core__access.html#gab7d3fa115f042eee7d883ea8909547d9">More...</a><br /></td></tr>
<tr class="separator:gab7d3fa115f042eee7d883ea8909547d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga533d1f33328baa229ae531489b02c117"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga533d1f33328baa229ae531489b02c117">context_helper::get_all_levels</a> ()</td></tr>
<tr class="memdesc:ga533d1f33328baa229ae531489b02c117"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of all context levels.  <a href="../../da/d16/group__core__access.html#ga533d1f33328baa229ae531489b02c117">More...</a><br /></td></tr>
<tr class="separator:ga533d1f33328baa229ae531489b02c117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4da976b4aa3c72c607ab4560a9add05b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga4da976b4aa3c72c607ab4560a9add05b">get_all_risks</a> ()</td></tr>
<tr class="memdesc:ga4da976b4aa3c72c607ab4560a9add05b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of all the known types of risk The array keys can be used, for example as CSS class names, or in calls to print_risk_icon.  <a href="../../da/d16/group__core__access.html#ga4da976b4aa3c72c607ab4560a9add05b">More...</a><br /></td></tr>
<tr class="separator:ga4da976b4aa3c72c607ab4560a9add05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab826913ef6aa23566fc9cc49b3cb8b90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gab826913ef6aa23566fc9cc49b3cb8b90">get_all_roles</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>=null)</td></tr>
<tr class="memdesc:gab826913ef6aa23566fc9cc49b3cb8b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all site roles in correct sort order.  <a href="../../da/d16/group__core__access.html#gab826913ef6aa23566fc9cc49b3cb8b90">More...</a><br /></td></tr>
<tr class="separator:gab826913ef6aa23566fc9cc49b3cb8b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2492b6ae94d98c374a171bd0fd81eb8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gad2492b6ae94d98c374a171bd0fd81eb8">get_archetype_roles</a> ($archetype)</td></tr>
<tr class="memdesc:gad2492b6ae94d98c374a171bd0fd81eb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns roles of a specified archetype.  <a href="../../da/d16/group__core__access.html#gad2492b6ae94d98c374a171bd0fd81eb8">More...</a><br /></td></tr>
<tr class="separator:gad2492b6ae94d98c374a171bd0fd81eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga742db860b11ecedf56f83185b61d26eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga742db860b11ecedf56f83185b61d26eb">get_assignable_roles</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $rolenamedisplay=<a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a>, $withusercounts=false, $user=null)</td></tr>
<tr class="memdesc:ga742db860b11ecedf56f83185b61d26eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a list of roles that this user can assign in this context.  <a href="../../da/d16/group__core__access.html#ga742db860b11ecedf56f83185b61d26eb">More...</a><br /></td></tr>
<tr class="separator:ga742db860b11ecedf56f83185b61d26eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac22614cf57e446e5e886054378f986ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gac22614cf57e446e5e886054378f986ee">context::get_capabilities</a> (string $<a class="el" href="../../dc/d71/group___imap___client.html#ga3d0fc1cc1d578318de8ea6548d53c546">sort</a>=self::DEFAULT_CAPABILITY_SORT)</td></tr>
<tr class="memdesc:gac22614cf57e446e5e886054378f986ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns array of relevant context capability records.  <a href="../../da/d16/group__core__access.html#gac22614cf57e446e5e886054378f986ee">More...</a><br /></td></tr>
<tr class="separator:gac22614cf57e446e5e886054378f986ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga563e1e3efee19f76b7f45db9e2fc5502"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga563e1e3efee19f76b7f45db9e2fc5502">context_helper::get_capabilities</a> (string $<a class="el" href="../../dc/d71/group___imap___client.html#ga3d0fc1cc1d578318de8ea6548d53c546">sort</a>=self::DEFAULT_CAPABILITY_SORT)</td></tr>
<tr class="memdesc:ga563e1e3efee19f76b7f45db9e2fc5502"><td class="mdescLeft">&#160;</td><td class="mdescRight">not used  <a href="../../da/d16/group__core__access.html#ga563e1e3efee19f76b7f45db9e2fc5502">More...</a><br /></td></tr>
<tr class="separator:ga563e1e3efee19f76b7f45db9e2fc5502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93cdce2937022f36b1e8762d6c359aca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga93cdce2937022f36b1e8762d6c359aca">context_system::get_capabilities</a> (string $<a class="el" href="../../dc/d71/group___imap___client.html#ga3d0fc1cc1d578318de8ea6548d53c546">sort</a>=self::DEFAULT_CAPABILITY_SORT)</td></tr>
<tr class="memdesc:ga93cdce2937022f36b1e8762d6c359aca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns array of relevant context capability records.  <a href="../../da/d16/group__core__access.html#ga93cdce2937022f36b1e8762d6c359aca">More...</a><br /></td></tr>
<tr class="separator:ga93cdce2937022f36b1e8762d6c359aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56007cd82fde361a8caa13b2b8fe3699"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga56007cd82fde361a8caa13b2b8fe3699">context_user::get_capabilities</a> (string $<a class="el" href="../../dc/d71/group___imap___client.html#ga3d0fc1cc1d578318de8ea6548d53c546">sort</a>=self::DEFAULT_CAPABILITY_SORT)</td></tr>
<tr class="memdesc:ga56007cd82fde361a8caa13b2b8fe3699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns array of relevant context capability records.  <a href="../../da/d16/group__core__access.html#ga56007cd82fde361a8caa13b2b8fe3699">More...</a><br /></td></tr>
<tr class="separator:ga56007cd82fde361a8caa13b2b8fe3699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25de4a2fb5ade2e4cdff5211cb4c2552"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga25de4a2fb5ade2e4cdff5211cb4c2552">context_coursecat::get_capabilities</a> (string $<a class="el" href="../../dc/d71/group___imap___client.html#ga3d0fc1cc1d578318de8ea6548d53c546">sort</a>=self::DEFAULT_CAPABILITY_SORT)</td></tr>
<tr class="memdesc:ga25de4a2fb5ade2e4cdff5211cb4c2552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns array of relevant context capability records.  <a href="../../da/d16/group__core__access.html#ga25de4a2fb5ade2e4cdff5211cb4c2552">More...</a><br /></td></tr>
<tr class="separator:ga25de4a2fb5ade2e4cdff5211cb4c2552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ffc92b390f97543d248b71a130114b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga9ffc92b390f97543d248b71a130114b3">context_course::get_capabilities</a> (string $<a class="el" href="../../dc/d71/group___imap___client.html#ga3d0fc1cc1d578318de8ea6548d53c546">sort</a>=self::DEFAULT_CAPABILITY_SORT)</td></tr>
<tr class="memdesc:ga9ffc92b390f97543d248b71a130114b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns array of relevant context capability records.  <a href="../../da/d16/group__core__access.html#ga9ffc92b390f97543d248b71a130114b3">More...</a><br /></td></tr>
<tr class="separator:ga9ffc92b390f97543d248b71a130114b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87c776bc1db391105820af71dca765d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga87c776bc1db391105820af71dca765d4">context_module::get_capabilities</a> (string $<a class="el" href="../../dc/d71/group___imap___client.html#ga3d0fc1cc1d578318de8ea6548d53c546">sort</a>=self::DEFAULT_CAPABILITY_SORT)</td></tr>
<tr class="memdesc:ga87c776bc1db391105820af71dca765d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns array of relevant context capability records.  <a href="../../da/d16/group__core__access.html#ga87c776bc1db391105820af71dca765d4">More...</a><br /></td></tr>
<tr class="separator:ga87c776bc1db391105820af71dca765d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga854ed4600b36dc8377d9bcbdc5a95907"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga854ed4600b36dc8377d9bcbdc5a95907">get_capabilities_from_role_on_context</a> ($role, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:ga854ed4600b36dc8377d9bcbdc5a95907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all capabilities for this role on this context (overrides)  <a href="../../da/d16/group__core__access.html#ga854ed4600b36dc8377d9bcbdc5a95907">More...</a><br /></td></tr>
<tr class="separator:ga854ed4600b36dc8377d9bcbdc5a95907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bbfc4b637693b92528151ccfcd8748e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga4bbfc4b637693b92528151ccfcd8748e">get_capability_docs_link</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>)</td></tr>
<tr class="memdesc:ga4bbfc4b637693b92528151ccfcd8748e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a link to moodle docs for a given capability name.  <a href="../../da/d16/group__core__access.html#ga4bbfc4b637693b92528151ccfcd8748e">More...</a><br /></td></tr>
<tr class="separator:ga4bbfc4b637693b92528151ccfcd8748e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga517737effe562e088ce605a695920368"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga517737effe562e088ce605a695920368">get_capability_info</a> ($capabilityname)</td></tr>
<tr class="memdesc:ga517737effe562e088ce605a695920368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns capability information (cached)  <a href="../../da/d16/group__core__access.html#ga517737effe562e088ce605a695920368">More...</a><br /></td></tr>
<tr class="separator:ga517737effe562e088ce605a695920368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga058d59768f0c61d69433aa58dfe5831f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga058d59768f0c61d69433aa58dfe5831f">get_capability_string</a> ($capabilityname)</td></tr>
<tr class="memdesc:ga058d59768f0c61d69433aa58dfe5831f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the human-readable, translated version of the capability.  <a href="../../da/d16/group__core__access.html#ga058d59768f0c61d69433aa58dfe5831f">More...</a><br /></td></tr>
<tr class="separator:ga058d59768f0c61d69433aa58dfe5831f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac40065839e60b6076a30c799aad95053"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gac40065839e60b6076a30c799aad95053">context::get_child_contexts</a> ()</td></tr>
<tr class="memdesc:gac40065839e60b6076a30c799aad95053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursive function which, given a context, find all its children context ids.  <a href="../../da/d16/group__core__access.html#gac40065839e60b6076a30c799aad95053">More...</a><br /></td></tr>
<tr class="separator:gac40065839e60b6076a30c799aad95053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecd5ebb3034f0d38f12b142e5c27a1b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaecd5ebb3034f0d38f12b142e5c27a1b4">context_system::get_child_contexts</a> ()</td></tr>
<tr class="memdesc:gaecd5ebb3034f0d38f12b142e5c27a1b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all site contexts except the system context, DO NOT call on production servers!!  <a href="../../da/d16/group__core__access.html#gaecd5ebb3034f0d38f12b142e5c27a1b4">More...</a><br /></td></tr>
<tr class="separator:gaecd5ebb3034f0d38f12b142e5c27a1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19206873119790dbe90dc5e34b73ead3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga19206873119790dbe90dc5e34b73ead3">context_coursecat::get_child_contexts</a> ()</td></tr>
<tr class="memdesc:ga19206873119790dbe90dc5e34b73ead3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns immediate child contexts of category and all subcategories, children of subcategories and courses are not returned.  <a href="../../da/d16/group__core__access.html#ga19206873119790dbe90dc5e34b73ead3">More...</a><br /></td></tr>
<tr class="separator:ga19206873119790dbe90dc5e34b73ead3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga75746a705b9a3f5c727f5de73a1e7650"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga75746a705b9a3f5c727f5de73a1e7650">context_helper::get_class_for_level</a> ($contextlevel)</td></tr>
<tr class="memdesc:ga75746a705b9a3f5c727f5de73a1e7650"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a class name of the context level class.  <a href="../../da/d16/group__core__access.html#ga75746a705b9a3f5c727f5de73a1e7650">More...</a><br /></td></tr>
<tr class="separator:ga75746a705b9a3f5c727f5de73a1e7650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8bbd293f5a42de2580207e22b4149b6c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga8bbd293f5a42de2580207e22b4149b6c">context::get_cleanup_sql</a> ()</td></tr>
<tr class="memdesc:ga8bbd293f5a42de2580207e22b4149b6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns sql necessary for purging of stale context instances.  <a href="../../da/d16/group__core__access.html#ga8bbd293f5a42de2580207e22b4149b6c">More...</a><br /></td></tr>
<tr class="separator:ga8bbd293f5a42de2580207e22b4149b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa61f4cd123d1860bce0c9ef695fe7218"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaa61f4cd123d1860bce0c9ef695fe7218">context_system::get_cleanup_sql</a> ()</td></tr>
<tr class="memdesc:gaa61f4cd123d1860bce0c9ef695fe7218"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns sql necessary for purging of stale context instances.  <a href="../../da/d16/group__core__access.html#gaa61f4cd123d1860bce0c9ef695fe7218">More...</a><br /></td></tr>
<tr class="separator:gaa61f4cd123d1860bce0c9ef695fe7218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a62f8feb4daa579856c5fff4e4e092a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga0a62f8feb4daa579856c5fff4e4e092a">context_user::get_cleanup_sql</a> ()</td></tr>
<tr class="memdesc:ga0a62f8feb4daa579856c5fff4e4e092a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns sql necessary for purging of stale context instances.  <a href="../../da/d16/group__core__access.html#ga0a62f8feb4daa579856c5fff4e4e092a">More...</a><br /></td></tr>
<tr class="separator:ga0a62f8feb4daa579856c5fff4e4e092a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30ef4ee9e706a1c4b0f12ddf28c99903"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga30ef4ee9e706a1c4b0f12ddf28c99903">context_coursecat::get_cleanup_sql</a> ()</td></tr>
<tr class="memdesc:ga30ef4ee9e706a1c4b0f12ddf28c99903"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns sql necessary for purging of stale context instances.  <a href="../../da/d16/group__core__access.html#ga30ef4ee9e706a1c4b0f12ddf28c99903">More...</a><br /></td></tr>
<tr class="separator:ga30ef4ee9e706a1c4b0f12ddf28c99903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78241b8009b5383c0505dc44cf049ab0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga78241b8009b5383c0505dc44cf049ab0">context_course::get_cleanup_sql</a> ()</td></tr>
<tr class="memdesc:ga78241b8009b5383c0505dc44cf049ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns sql necessary for purging of stale context instances.  <a href="../../da/d16/group__core__access.html#ga78241b8009b5383c0505dc44cf049ab0">More...</a><br /></td></tr>
<tr class="separator:ga78241b8009b5383c0505dc44cf049ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga220eeadbd5a056c2e6780272733192a2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga220eeadbd5a056c2e6780272733192a2">context_module::get_cleanup_sql</a> ()</td></tr>
<tr class="memdesc:ga220eeadbd5a056c2e6780272733192a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns sql necessary for purging of stale context instances.  <a href="../../da/d16/group__core__access.html#ga220eeadbd5a056c2e6780272733192a2">More...</a><br /></td></tr>
<tr class="separator:ga220eeadbd5a056c2e6780272733192a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4059ae8da018cd7274be3a48433dfaee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga4059ae8da018cd7274be3a48433dfaee">get_component_string</a> ($component, $contextlevel)</td></tr>
<tr class="memdesc:ga4059ae8da018cd7274be3a48433dfaee"><td class="mdescLeft">&#160;</td><td class="mdescRight">This gets the mod/block/course/core etc strings.  <a href="../../da/d16/group__core__access.html#ga4059ae8da018cd7274be3a48433dfaee">More...</a><br /></td></tr>
<tr class="separator:ga4059ae8da018cd7274be3a48433dfaee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ddcaac5f93ff61388ed9c9cc791ad18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga0ddcaac5f93ff61388ed9c9cc791ad18">get_context_info_array</a> ($contextid)</td></tr>
<tr class="memdesc:ga0ddcaac5f93ff61388ed9c9cc791ad18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns context instance plus related course and cm instances.  <a href="../../da/d16/group__core__access.html#ga0ddcaac5f93ff61388ed9c9cc791ad18">More...</a><br /></td></tr>
<tr class="separator:ga0ddcaac5f93ff61388ed9c9cc791ad18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3384c80281e2f83320b1a520ec8c9734"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga3384c80281e2f83320b1a520ec8c9734">context::get_context_name</a> ($withprefix=true, $short=false, $<a class="el" href="../../dc/d71/group___imap___client.html#gab4e6060d5b0dd93113194ba83534d385">escape</a>=true)</td></tr>
<tr class="memdesc:ga3384c80281e2f83320b1a520ec8c9734"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context identifier.  <a href="../../da/d16/group__core__access.html#ga3384c80281e2f83320b1a520ec8c9734">More...</a><br /></td></tr>
<tr class="separator:ga3384c80281e2f83320b1a520ec8c9734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28d0881f2874a69ea6d078a8627a9e3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga28d0881f2874a69ea6d078a8627a9e3c">context_system::get_context_name</a> ($withprefix=true, $short=false, $<a class="el" href="../../dc/d71/group___imap___client.html#gab4e6060d5b0dd93113194ba83534d385">escape</a>=true)</td></tr>
<tr class="memdesc:ga28d0881f2874a69ea6d078a8627a9e3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context identifier.  <a href="../../da/d16/group__core__access.html#ga28d0881f2874a69ea6d078a8627a9e3c">More...</a><br /></td></tr>
<tr class="separator:ga28d0881f2874a69ea6d078a8627a9e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2827450b96bb762c8d76dcbd30c86da3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga2827450b96bb762c8d76dcbd30c86da3">context_user::get_context_name</a> ($withprefix=true, $short=false, $<a class="el" href="../../dc/d71/group___imap___client.html#gab4e6060d5b0dd93113194ba83534d385">escape</a>=true)</td></tr>
<tr class="memdesc:ga2827450b96bb762c8d76dcbd30c86da3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context identifier.  <a href="../../da/d16/group__core__access.html#ga2827450b96bb762c8d76dcbd30c86da3">More...</a><br /></td></tr>
<tr class="separator:ga2827450b96bb762c8d76dcbd30c86da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8c6cb873aa12f64e3490c8a3654b358"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gac8c6cb873aa12f64e3490c8a3654b358">context_coursecat::get_context_name</a> ($withprefix=true, $short=false, $<a class="el" href="../../dc/d71/group___imap___client.html#gab4e6060d5b0dd93113194ba83534d385">escape</a>=true)</td></tr>
<tr class="memdesc:gac8c6cb873aa12f64e3490c8a3654b358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context identifier.  <a href="../../da/d16/group__core__access.html#gac8c6cb873aa12f64e3490c8a3654b358">More...</a><br /></td></tr>
<tr class="separator:gac8c6cb873aa12f64e3490c8a3654b358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac34729ea8eb8fb249b2af82e30fd81e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gac34729ea8eb8fb249b2af82e30fd81e4">context_course::get_context_name</a> ($withprefix=true, $short=false, $<a class="el" href="../../dc/d71/group___imap___client.html#gab4e6060d5b0dd93113194ba83534d385">escape</a>=true)</td></tr>
<tr class="memdesc:gac34729ea8eb8fb249b2af82e30fd81e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context identifier.  <a href="../../da/d16/group__core__access.html#gac34729ea8eb8fb249b2af82e30fd81e4">More...</a><br /></td></tr>
<tr class="separator:gac34729ea8eb8fb249b2af82e30fd81e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61961cfb15b3e8a0a7fad3d559ea6aed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga61961cfb15b3e8a0a7fad3d559ea6aed">context_module::get_context_name</a> ($withprefix=true, $short=false, $<a class="el" href="../../dc/d71/group___imap___client.html#gab4e6060d5b0dd93113194ba83534d385">escape</a>=true)</td></tr>
<tr class="memdesc:ga61961cfb15b3e8a0a7fad3d559ea6aed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context identifier.  <a href="../../da/d16/group__core__access.html#ga61961cfb15b3e8a0a7fad3d559ea6aed">More...</a><br /></td></tr>
<tr class="separator:ga61961cfb15b3e8a0a7fad3d559ea6aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92c7ec941fec2764edccd8add39f1c90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga92c7ec941fec2764edccd8add39f1c90">context::get_course_context</a> ($strict=true)</td></tr>
<tr class="memdesc:ga92c7ec941fec2764edccd8add39f1c90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this context part of any course? If yes return course context.  <a href="../../da/d16/group__core__access.html#ga92c7ec941fec2764edccd8add39f1c90">More...</a><br /></td></tr>
<tr class="separator:ga92c7ec941fec2764edccd8add39f1c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b4564369472332426787067382c76e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga5b4564369472332426787067382c76e8">context_course::get_course_context</a> ($strict=true)</td></tr>
<tr class="memdesc:ga5b4564369472332426787067382c76e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this context part of any course? If yes return course context.  <a href="../../da/d16/group__core__access.html#ga5b4564369472332426787067382c76e8">More...</a><br /></td></tr>
<tr class="separator:ga5b4564369472332426787067382c76e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39cd271653e907497193fa2f91448b9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga39cd271653e907497193fa2f91448b9d">context_module::get_course_context</a> ($strict=true)</td></tr>
<tr class="memdesc:ga39cd271653e907497193fa2f91448b9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this context part of any course? If yes return course context.  <a href="../../da/d16/group__core__access.html#ga39cd271653e907497193fa2f91448b9d">More...</a><br /></td></tr>
<tr class="separator:ga39cd271653e907497193fa2f91448b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60062476167ca8b21387c7f1ca54e52f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga60062476167ca8b21387c7f1ca54e52f">get_default_capabilities</a> ($archetype)</td></tr>
<tr class="memdesc:ga60062476167ca8b21387c7f1ca54e52f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns default capabilities for given role archetype.  <a href="../../da/d16/group__core__access.html#ga60062476167ca8b21387c7f1ca54e52f">More...</a><br /></td></tr>
<tr class="separator:ga60062476167ca8b21387c7f1ca54e52f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga375fe15fa1a778d7e3a81de7115b69a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga375fe15fa1a778d7e3a81de7115b69a2">get_default_contextlevels</a> ($rolearchetype)</td></tr>
<tr class="memdesc:ga375fe15fa1a778d7e3a81de7115b69a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns default context levels where roles can be assigned.  <a href="../../da/d16/group__core__access.html#ga375fe15fa1a778d7e3a81de7115b69a2">More...</a><br /></td></tr>
<tr class="separator:ga375fe15fa1a778d7e3a81de7115b69a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae06c72d126b730c50a297cfd258c8333"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gae06c72d126b730c50a297cfd258c8333">get_default_role_archetype_allows</a> ($type, $archetype)</td></tr>
<tr class="memdesc:gae06c72d126b730c50a297cfd258c8333"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return default roles that can be assigned, overridden or switched by give role archetype.  <a href="../../da/d16/group__core__access.html#gae06c72d126b730c50a297cfd258c8333">More...</a><br /></td></tr>
<tr class="separator:gae06c72d126b730c50a297cfd258c8333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab59a0e62fc226a4952602ed064d3c5ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gab59a0e62fc226a4952602ed064d3c5ef">get_guest_role</a> ()</td></tr>
<tr class="memdesc:gab59a0e62fc226a4952602ed064d3c5ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the default guest role, this is used for guest account, search engine spiders, etc.  <a href="../../da/d16/group__core__access.html#gab59a0e62fc226a4952602ed064d3c5ef">More...</a><br /></td></tr>
<tr class="separator:gab59a0e62fc226a4952602ed064d3c5ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf36917f5ef4e5d8df2e676f421d2355b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaf36917f5ef4e5d8df2e676f421d2355b">context_helper::get_level_name</a> ($contextlevel)</td></tr>
<tr class="memdesc:gaf36917f5ef4e5d8df2e676f421d2355b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of specified context level.  <a href="../../da/d16/group__core__access.html#gaf36917f5ef4e5d8df2e676f421d2355b">More...</a><br /></td></tr>
<tr class="separator:gaf36917f5ef4e5d8df2e676f421d2355b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff7f0a2fa12e246f8d21c28990cedc76"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaff7f0a2fa12e246f8d21c28990cedc76">context_system::get_level_name</a> ()</td></tr>
<tr class="memdesc:gaff7f0a2fa12e246f8d21c28990cedc76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context level name.  <a href="../../da/d16/group__core__access.html#gaff7f0a2fa12e246f8d21c28990cedc76">More...</a><br /></td></tr>
<tr class="separator:gaff7f0a2fa12e246f8d21c28990cedc76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27b4a199e9f5cc2d0fc20d22b89a3e70"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga27b4a199e9f5cc2d0fc20d22b89a3e70">context_user::get_level_name</a> ()</td></tr>
<tr class="memdesc:ga27b4a199e9f5cc2d0fc20d22b89a3e70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context level name.  <a href="../../da/d16/group__core__access.html#ga27b4a199e9f5cc2d0fc20d22b89a3e70">More...</a><br /></td></tr>
<tr class="separator:ga27b4a199e9f5cc2d0fc20d22b89a3e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4266c1fa68c3393ebf031b6d2f9e14a6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga4266c1fa68c3393ebf031b6d2f9e14a6">context_coursecat::get_level_name</a> ()</td></tr>
<tr class="memdesc:ga4266c1fa68c3393ebf031b6d2f9e14a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context level name.  <a href="../../da/d16/group__core__access.html#ga4266c1fa68c3393ebf031b6d2f9e14a6">More...</a><br /></td></tr>
<tr class="separator:ga4266c1fa68c3393ebf031b6d2f9e14a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf0fd8646c1e166379e66354fe333bb9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gadf0fd8646c1e166379e66354fe333bb9">context_course::get_level_name</a> ()</td></tr>
<tr class="memdesc:gadf0fd8646c1e166379e66354fe333bb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context level name.  <a href="../../da/d16/group__core__access.html#gadf0fd8646c1e166379e66354fe333bb9">More...</a><br /></td></tr>
<tr class="separator:gadf0fd8646c1e166379e66354fe333bb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26961bc6479d8cea6eced4994d05dd96"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga26961bc6479d8cea6eced4994d05dd96">context_module::get_level_name</a> ()</td></tr>
<tr class="memdesc:ga26961bc6479d8cea6eced4994d05dd96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns human readable context level name.  <a href="../../da/d16/group__core__access.html#ga26961bc6479d8cea6eced4994d05dd96">More...</a><br /></td></tr>
<tr class="separator:ga26961bc6479d8cea6eced4994d05dd96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab25141a38b80146bc4c36c8837547897"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gab25141a38b80146bc4c36c8837547897">get_local_override</a> ($roleid, $contextid, $<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>)</td></tr>
<tr class="memdesc:gab25141a38b80146bc4c36c8837547897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the local override (if any) for a given capability in a role in a context.  <a href="../../da/d16/group__core__access.html#gab25141a38b80146bc4c36c8837547897">More...</a><br /></td></tr>
<tr class="separator:gab25141a38b80146bc4c36c8837547897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0aba898634cb299be489b7475c602111"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga0aba898634cb299be489b7475c602111">context_helper::get_navigation_filter_context</a> (?<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:ga0aba898634cb299be489b7475c602111"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current context to be used for navigation tree filtering.  <a href="../../da/d16/group__core__access.html#ga0aba898634cb299be489b7475c602111">More...</a><br /></td></tr>
<tr class="separator:ga0aba898634cb299be489b7475c602111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfe471980560b88a19dc699f4d051516"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gabfe471980560b88a19dc699f4d051516">get_overridable_roles</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $rolenamedisplay=<a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a>, $withcounts=false)</td></tr>
<tr class="memdesc:gabfe471980560b88a19dc699f4d051516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a list of roles that this user can override in this context.  <a href="../../da/d16/group__core__access.html#gabfe471980560b88a19dc699f4d051516">More...</a><br /></td></tr>
<tr class="separator:gabfe471980560b88a19dc699f4d051516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac376e41d0d0dff3b54bf23bf44f95806"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gac376e41d0d0dff3b54bf23bf44f95806">context::get_parent_context</a> ()</td></tr>
<tr class="memdesc:gac376e41d0d0dff3b54bf23bf44f95806"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns parent context.  <a href="../../da/d16/group__core__access.html#gac376e41d0d0dff3b54bf23bf44f95806">More...</a><br /></td></tr>
<tr class="separator:gac376e41d0d0dff3b54bf23bf44f95806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52c1b47f40cc198ca316d9f57df94d3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga52c1b47f40cc198ca316d9f57df94d3f">context::get_parent_context_ids</a> ($includeself=false)</td></tr>
<tr class="memdesc:ga52c1b47f40cc198ca316d9f57df94d3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns parent context ids of this context in reversed order, i.e.  <a href="../../da/d16/group__core__access.html#ga52c1b47f40cc198ca316d9f57df94d3f">More...</a><br /></td></tr>
<tr class="separator:ga52c1b47f40cc198ca316d9f57df94d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8210ef526af464477d28b81e26ad6175"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga8210ef526af464477d28b81e26ad6175">context::get_parent_context_paths</a> ($includeself=false)</td></tr>
<tr class="memdesc:ga8210ef526af464477d28b81e26ad6175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns parent context paths of this context.  <a href="../../da/d16/group__core__access.html#ga8210ef526af464477d28b81e26ad6175">More...</a><br /></td></tr>
<tr class="separator:ga8210ef526af464477d28b81e26ad6175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8136f649a95ea87282923fde4b917ce8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga8136f649a95ea87282923fde4b917ce8">context::get_parent_contexts</a> ($includeself=false)</td></tr>
<tr class="memdesc:ga8136f649a95ea87282923fde4b917ce8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns parent contexts of this context in reversed order, i.e.  <a href="../../da/d16/group__core__access.html#ga8136f649a95ea87282923fde4b917ce8">More...</a><br /></td></tr>
<tr class="separator:ga8136f649a95ea87282923fde4b917ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0347266737df19842b3744ee9df983a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gab0347266737df19842b3744ee9df983a">context_helper::get_preload_record_columns</a> ($tablealias)</td></tr>
<tr class="memdesc:gab0347266737df19842b3744ee9df983a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all fields necessary for context preloading from user $rec.  <a href="../../da/d16/group__core__access.html#gab0347266737df19842b3744ee9df983a">More...</a><br /></td></tr>
<tr class="separator:gab0347266737df19842b3744ee9df983a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga452fd467350ce8a4b2c5ba9a63804a75"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga452fd467350ce8a4b2c5ba9a63804a75">context_helper::get_preload_record_columns_sql</a> ($tablealias)</td></tr>
<tr class="memdesc:ga452fd467350ce8a4b2c5ba9a63804a75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all fields necessary for context preloading from user $rec.  <a href="../../da/d16/group__core__access.html#ga452fd467350ce8a4b2c5ba9a63804a75">More...</a><br /></td></tr>
<tr class="separator:ga452fd467350ce8a4b2c5ba9a63804a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c63ee2636ff556a822992b8a031f9e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga9c63ee2636ff556a822992b8a031f9e4">get_profile_roles</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:ga9c63ee2636ff556a822992b8a031f9e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the list of roles assigned to this context and up (parents) from the aggregation of: a) the list of roles that are visible on user profile page and participants page (profileroles setting) and; b) if applicable, those roles that are assigned in the context.  <a href="../../da/d16/group__core__access.html#ga9c63ee2636ff556a822992b8a031f9e4">More...</a><br /></td></tr>
<tr class="separator:ga9c63ee2636ff556a822992b8a031f9e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b3a6778d7d7292ee7fee13caa11410f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga4b3a6778d7d7292ee7fee13caa11410f">get_role_archetypes</a> ()</td></tr>
<tr class="memdesc:ga4b3a6778d7d7292ee7fee13caa11410f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns array of all role archetypes.  <a href="../../da/d16/group__core__access.html#ga4b3a6778d7d7292ee7fee13caa11410f">More...</a><br /></td></tr>
<tr class="separator:ga4b3a6778d7d7292ee7fee13caa11410f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa22b5be5494ae6bc9c32085891f677d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaa22b5be5494ae6bc9c32085891f677d0">get_role_contextlevels</a> ($roleid)</td></tr>
<tr class="memdesc:gaa22b5be5494ae6bc9c32085891f677d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return context levels where this role is assignable.  <a href="../../da/d16/group__core__access.html#gaa22b5be5494ae6bc9c32085891f677d0">More...</a><br /></td></tr>
<tr class="separator:gaa22b5be5494ae6bc9c32085891f677d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6f9384510b05dcbc81447619fee407b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gae6f9384510b05dcbc81447619fee407b">get_role_definitions</a> (array $roleids)</td></tr>
<tr class="memdesc:gae6f9384510b05dcbc81447619fee407b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch raw "site wide" role definitions.  <a href="../../da/d16/group__core__access.html#gae6f9384510b05dcbc81447619fee407b">More...</a><br /></td></tr>
<tr class="separator:gae6f9384510b05dcbc81447619fee407b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6968eb16a1953af54144833c2131e9a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga6968eb16a1953af54144833c2131e9a0">get_role_definitions_uncached</a> (array $roleids)</td></tr>
<tr class="memdesc:ga6968eb16a1953af54144833c2131e9a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query raw "site wide" role definitions.  <a href="../../da/d16/group__core__access.html#ga6968eb16a1953af54144833c2131e9a0">More...</a><br /></td></tr>
<tr class="separator:ga6968eb16a1953af54144833c2131e9a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4bfb489377303d064575ffa0756a5f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gae4bfb489377303d064575ffa0756a5f3">get_role_names_with_caps_in_context</a> ($<a class="el" href="../../da/d04/classcontext.html">context</a>, $capabilities)</td></tr>
<tr class="memdesc:gae4bfb489377303d064575ffa0756a5f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of role names that have ALL of the the supplied capabilities Uses <a class="el" href="../../da/d16/group__core__access.html#ga6418f9879fe9d13aaa87e1950eaee3a5" title="Returns an array of role IDs that have ALL of the the supplied capabilities Uses get_roles_with_cap_i...">get_roles_with_caps_in_context()</a>.  <a href="../../da/d16/group__core__access.html#gae4bfb489377303d064575ffa0756a5f3">More...</a><br /></td></tr>
<tr class="separator:gae4bfb489377303d064575ffa0756a5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1eb64f68288f6d8d04fb1ce3cf0f5798"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga1eb64f68288f6d8d04fb1ce3cf0f5798">get_role_users</a> ($roleid, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $parent=false, $fields='', $<a class="el" href="../../dc/d71/group___imap___client.html#ga3d0fc1cc1d578318de8ea6548d53c546">sort</a>=null, $all=true, $group='', $limitfrom='', $limitnum='', $extrawheretest='', $whereorsortparams=array())</td></tr>
<tr class="memdesc:ga1eb64f68288f6d8d04fb1ce3cf0f5798"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all the users assigned this role in this context or higher.  <a href="../../da/d16/group__core__access.html#ga1eb64f68288f6d8d04fb1ce3cf0f5798">More...</a><br /></td></tr>
<tr class="separator:ga1eb64f68288f6d8d04fb1ce3cf0f5798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbe0f7b472391ae7f0e0f9ec44f81408"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gadbe0f7b472391ae7f0e0f9ec44f81408">get_roles_for_contextlevels</a> ($contextlevel)</td></tr>
<tr class="memdesc:gadbe0f7b472391ae7f0e0f9ec44f81408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return roles suitable for assignment at the specified context level.  <a href="../../da/d16/group__core__access.html#gadbe0f7b472391ae7f0e0f9ec44f81408">More...</a><br /></td></tr>
<tr class="separator:gadbe0f7b472391ae7f0e0f9ec44f81408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1098e905ef351f974bb6f36084230069"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga1098e905ef351f974bb6f36084230069">get_roles_used_in_context</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $includeparents=true)</td></tr>
<tr class="memdesc:ga1098e905ef351f974bb6f36084230069"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the list of roles assigned to this context and up (parents)  <a href="../../da/d16/group__core__access.html#ga1098e905ef351f974bb6f36084230069">More...</a><br /></td></tr>
<tr class="separator:ga1098e905ef351f974bb6f36084230069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03cc6680a53a24a80f501bf0059f062d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga03cc6680a53a24a80f501bf0059f062d">get_roles_with_cap_in_context</a> ($<a class="el" href="../../da/d04/classcontext.html">context</a>, $<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>)</td></tr>
<tr class="memdesc:ga03cc6680a53a24a80f501bf0059f062d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns two lists, this can be used to find out if user has capability.  <a href="../../da/d16/group__core__access.html#ga03cc6680a53a24a80f501bf0059f062d">More...</a><br /></td></tr>
<tr class="separator:ga03cc6680a53a24a80f501bf0059f062d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga971eb3acfb63288c23b5b7fa5a7bf9d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga971eb3acfb63288c23b5b7fa5a7bf9d3">get_roles_with_capability</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, $permission=null, $<a class="el" href="../../da/d04/classcontext.html">context</a>=null)</td></tr>
<tr class="memdesc:ga971eb3acfb63288c23b5b7fa5a7bf9d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the roles that have a given capability assigned to it.  <a href="../../da/d16/group__core__access.html#ga971eb3acfb63288c23b5b7fa5a7bf9d3">More...</a><br /></td></tr>
<tr class="separator:ga971eb3acfb63288c23b5b7fa5a7bf9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6418f9879fe9d13aaa87e1950eaee3a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga6418f9879fe9d13aaa87e1950eaee3a5">get_roles_with_caps_in_context</a> ($<a class="el" href="../../da/d04/classcontext.html">context</a>, $capabilities)</td></tr>
<tr class="memdesc:ga6418f9879fe9d13aaa87e1950eaee3a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of role IDs that have ALL of the the supplied capabilities Uses <a class="el" href="../../da/d16/group__core__access.html#ga03cc6680a53a24a80f501bf0059f062d" title="Returns two lists, this can be used to find out if user has capability.">get_roles_with_cap_in_context()</a>.  <a href="../../da/d16/group__core__access.html#ga6418f9879fe9d13aaa87e1950eaee3a5">More...</a><br /></td></tr>
<tr class="separator:ga6418f9879fe9d13aaa87e1950eaee3a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ec2ce1871d50a42a20441d94dfa30a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga9ec2ce1871d50a42a20441d94dfa30a1">get_roles_with_override_on_context</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:ga9ec2ce1871d50a42a20441d94dfa30a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get any role that has an override on exact context.  <a href="../../da/d16/group__core__access.html#ga9ec2ce1871d50a42a20441d94dfa30a1">More...</a><br /></td></tr>
<tr class="separator:ga9ec2ce1871d50a42a20441d94dfa30a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0802e1b7439f8766590563f7f63cd2ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga0802e1b7439f8766590563f7f63cd2ae">get_switchable_roles</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $rolenamedisplay=<a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a>)</td></tr>
<tr class="memdesc:ga0802e1b7439f8766590563f7f63cd2ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a list of roles that this user can switch to in a context.  <a href="../../da/d16/group__core__access.html#ga0802e1b7439f8766590563f7f63cd2ae">More...</a><br /></td></tr>
<tr class="separator:ga0802e1b7439f8766590563f7f63cd2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01af2cab88c5836b2e1443faba07e7a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga01af2cab88c5836b2e1443faba07e7a0">context::get_url</a> ()</td></tr>
<tr class="memdesc:ga01af2cab88c5836b2e1443faba07e7a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most relevant URL for this context.  <a href="../../da/d16/group__core__access.html#ga01af2cab88c5836b2e1443faba07e7a0">More...</a><br /></td></tr>
<tr class="separator:ga01af2cab88c5836b2e1443faba07e7a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a45e7c218011110b3142193f3bd4ee7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga5a45e7c218011110b3142193f3bd4ee7">context_helper::get_url</a> ()</td></tr>
<tr class="memdesc:ga5a45e7c218011110b3142193f3bd4ee7"><td class="mdescLeft">&#160;</td><td class="mdescRight">not used  <a href="../../da/d16/group__core__access.html#ga5a45e7c218011110b3142193f3bd4ee7">More...</a><br /></td></tr>
<tr class="separator:ga5a45e7c218011110b3142193f3bd4ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36023fb1bfcf3d7d3b697de33614454c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga36023fb1bfcf3d7d3b697de33614454c">context_system::get_url</a> ()</td></tr>
<tr class="memdesc:ga36023fb1bfcf3d7d3b697de33614454c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most relevant URL for this context.  <a href="../../da/d16/group__core__access.html#ga36023fb1bfcf3d7d3b697de33614454c">More...</a><br /></td></tr>
<tr class="separator:ga36023fb1bfcf3d7d3b697de33614454c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafaa5a583b22c41a86c960cfc010afd6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gafaa5a583b22c41a86c960cfc010afd6c">context_user::get_url</a> ()</td></tr>
<tr class="memdesc:gafaa5a583b22c41a86c960cfc010afd6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most relevant URL for this context.  <a href="../../da/d16/group__core__access.html#gafaa5a583b22c41a86c960cfc010afd6c">More...</a><br /></td></tr>
<tr class="separator:gafaa5a583b22c41a86c960cfc010afd6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga858514c73dd6875b97d758f926a45088"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga858514c73dd6875b97d758f926a45088">context_coursecat::get_url</a> ()</td></tr>
<tr class="memdesc:ga858514c73dd6875b97d758f926a45088"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most relevant URL for this context.  <a href="../../da/d16/group__core__access.html#ga858514c73dd6875b97d758f926a45088">More...</a><br /></td></tr>
<tr class="separator:ga858514c73dd6875b97d758f926a45088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0038673afa9317b1ce58d042aa3deec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaa0038673afa9317b1ce58d042aa3deec">context_course::get_url</a> ()</td></tr>
<tr class="memdesc:gaa0038673afa9317b1ce58d042aa3deec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most relevant URL for this context.  <a href="../../da/d16/group__core__access.html#gaa0038673afa9317b1ce58d042aa3deec">More...</a><br /></td></tr>
<tr class="separator:gaa0038673afa9317b1ce58d042aa3deec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61827cdc7f0a721dedfadfbc4f22bef2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga61827cdc7f0a721dedfadfbc4f22bef2">context_module::get_url</a> ()</td></tr>
<tr class="memdesc:ga61827cdc7f0a721dedfadfbc4f22bef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most relevant URL for this context.  <a href="../../da/d16/group__core__access.html#ga61827cdc7f0a721dedfadfbc4f22bef2">More...</a><br /></td></tr>
<tr class="separator:ga61827cdc7f0a721dedfadfbc4f22bef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe0e63eb2ac64e2a09254bb166f96f2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gafe0e63eb2ac64e2a09254bb166f96f2f">get_user_capability_contexts</a> (string $<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, bool $getcategories, $userid=null, $doanything=true, $coursefieldsexceptid='', $categoryfieldsexceptid='', $courseorderby='', $categoryorderby='', $limit=0)</td></tr>
<tr class="memdesc:gafe0e63eb2ac64e2a09254bb166f96f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets the list of course and course category contexts that this user has a particular capability in.  <a href="../../da/d16/group__core__access.html#gafe0e63eb2ac64e2a09254bb166f96f2f">More...</a><br /></td></tr>
<tr class="separator:gafe0e63eb2ac64e2a09254bb166f96f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ffab498514c3891fe6fcfda0ad641f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga1ffab498514c3891fe6fcfda0ad641f0">get_user_capability_course</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, $userid=null, $doanything=true, $fieldsexceptid='', $orderby='', $limit=0)</td></tr>
<tr class="memdesc:ga1ffab498514c3891fe6fcfda0ad641f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets the list of courses that this user has a particular capability in.  <a href="../../da/d16/group__core__access.html#ga1ffab498514c3891fe6fcfda0ad641f0">More...</a><br /></td></tr>
<tr class="separator:ga1ffab498514c3891fe6fcfda0ad641f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc6bbc7f2d6c9cb12afebd6d37bfea50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gafc6bbc7f2d6c9cb12afebd6d37bfea50">get_user_roles</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $userid=0, $checkparentcontexts=true, $order='c.contextlevel DESC, r.sortorder ASC')</td></tr>
<tr class="memdesc:gafc6bbc7f2d6c9cb12afebd6d37bfea50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all the user roles assigned in this context, or higher contexts this is mainly used when checking if a user can assign a role, or overriding a role i.e.  <a href="../../da/d16/group__core__access.html#gafc6bbc7f2d6c9cb12afebd6d37bfea50">More...</a><br /></td></tr>
<tr class="separator:gafc6bbc7f2d6c9cb12afebd6d37bfea50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab21940a04b70f1613f850825397feea7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gab21940a04b70f1613f850825397feea7">get_user_roles_in_course</a> ($userid, $courseid)</td></tr>
<tr class="memdesc:gab21940a04b70f1613f850825397feea7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to print roles column in user profile page.  <a href="../../da/d16/group__core__access.html#gab21940a04b70f1613f850825397feea7">More...</a><br /></td></tr>
<tr class="separator:gab21940a04b70f1613f850825397feea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55a22e0153a398bd2943325dd322005b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga55a22e0153a398bd2943325dd322005b">get_user_roles_with_special</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $userid=0)</td></tr>
<tr class="memdesc:ga55a22e0153a398bd2943325dd322005b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like get_user_roles, but adds in the authenticated user role, and the front page roles, if applicable.  <a href="../../da/d16/group__core__access.html#ga55a22e0153a398bd2943325dd322005b">More...</a><br /></td></tr>
<tr class="separator:ga55a22e0153a398bd2943325dd322005b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66340c4f447ab44105bf8f56f709daa1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga66340c4f447ab44105bf8f56f709daa1">get_users_by_capability</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, $fields='', $<a class="el" href="../../dc/d71/group___imap___client.html#ga3d0fc1cc1d578318de8ea6548d53c546">sort</a>='', $limitfrom='', $limitnum='', $groups='', $exceptions='', $notuseddoanything=null, $notusedview=null, $useviewallgroups=false)</td></tr>
<tr class="memdesc:ga66340c4f447ab44105bf8f56f709daa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Who has this capability in this context?  <a href="../../da/d16/group__core__access.html#ga66340c4f447ab44105bf8f56f709daa1">More...</a><br /></td></tr>
<tr class="separator:ga66340c4f447ab44105bf8f56f709daa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78d3d59a76533ca0789088767056a5f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga78d3d59a76533ca0789088767056a5f9">get_users_from_role_on_context</a> ($role, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:ga78d3d59a76533ca0789088767056a5f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find all user assignment of users for this role, on this context.  <a href="../../da/d16/group__core__access.html#ga78d3d59a76533ca0789088767056a5f9">More...</a><br /></td></tr>
<tr class="separator:ga78d3d59a76533ca0789088767056a5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8bdf3dbf1c6cd5f7cefc1a795481023"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaf8bdf3dbf1c6cd5f7cefc1a795481023">get_users_roles</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $userids=[], $checkparentcontexts=true, $order='c.contextlevel DESC, r.sortorder ASC')</td></tr>
<tr class="memdesc:gaf8bdf3dbf1c6cd5f7cefc1a795481023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all the user roles assigned in this context, or higher contexts for a list of users.  <a href="../../da/d16/group__core__access.html#gaf8bdf3dbf1c6cd5f7cefc1a795481023">More...</a><br /></td></tr>
<tr class="separator:gaf8bdf3dbf1c6cd5f7cefc1a795481023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba0a6031f350c2f5e8d497f55f96e60e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaba0a6031f350c2f5e8d497f55f96e60e">get_viewable_roles</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $userid=null, $rolenamedisplay=<a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a>)</td></tr>
<tr class="memdesc:gaba0a6031f350c2f5e8d497f55f96e60e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a list of roles that this user can view in a context.  <a href="../../da/d16/group__core__access.html#gaba0a6031f350c2f5e8d497f55f96e60e">More...</a><br /></td></tr>
<tr class="separator:gaba0a6031f350c2f5e8d497f55f96e60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9af89dd558ccf4003da846a79795180d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga9af89dd558ccf4003da846a79795180d">get_with_capability_join</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, $useridcolumn)</td></tr>
<tr class="memdesc:ga9af89dd558ccf4003da846a79795180d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets sql joins for finding users with capability in the given context.  <a href="../../da/d16/group__core__access.html#ga9af89dd558ccf4003da846a79795180d">More...</a><br /></td></tr>
<tr class="separator:ga9af89dd558ccf4003da846a79795180d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26d05060fcf6f42f03ba293825e64d64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga26d05060fcf6f42f03ba293825e64d64">context::getIterator</a> ()</td></tr>
<tr class="memdesc:ga26d05060fcf6f42f03ba293825e64d64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an iterator because magic vars can't be seen by 'foreach'.  <a href="../../da/d16/group__core__access.html#ga26d05060fcf6f42f03ba293825e64d64">More...</a><br /></td></tr>
<tr class="separator:ga26d05060fcf6f42f03ba293825e64d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7efea6d1bde89c10ddd77f21ea9f7dac"><td class="memItemLeft" align="right" valign="top"><a id="ga7efea6d1bde89c10ddd77f21ea9f7dac" name="ga7efea6d1bde89c10ddd77f21ea9f7dac"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>guess_if_creator_will_have_course_capability</b> ($<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $user=null)</td></tr>
<tr class="separator:ga7efea6d1bde89c10ddd77f21ea9f7dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f6a2c13ed924064cd6ce4a221e1fe43"><td class="memItemLeft" align="right" valign="top"><a id="ga5f6a2c13ed924064cd6ce4a221e1fe43" name="ga5f6a2c13ed924064cd6ce4a221e1fe43"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>has_all_capabilities</b> (array $capabilities, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $user=null, $doanything=true)</td></tr>
<tr class="separator:ga5f6a2c13ed924064cd6ce4a221e1fe43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe69880706c3a795ed8e3d2dbbd6d126"><td class="memItemLeft" align="right" valign="top"><a id="gabe69880706c3a795ed8e3d2dbbd6d126" name="gabe69880706c3a795ed8e3d2dbbd6d126"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>has_any_capability</b> (array $capabilities, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $user=null, $doanything=true)</td></tr>
<tr class="separator:gabe69880706c3a795ed8e3d2dbbd6d126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed509a355b214abfd75cd23db71bd5ad"><td class="memItemLeft" align="right" valign="top"><a id="gaed509a355b214abfd75cd23db71bd5ad" name="gaed509a355b214abfd75cd23db71bd5ad"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>has_capability</b> ($<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $user=null, $doanything=true)</td></tr>
<tr class="separator:gaed509a355b214abfd75cd23db71bd5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab116aa603700860d827daf7de08fb49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaab116aa603700860d827daf7de08fb49">has_coursecontact_role</a> ($userid)</td></tr>
<tr class="memdesc:gaab116aa603700860d827daf7de08fb49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if user has at least one role assign of 'coursecontact' role (is potentially listed in some course descriptions).  <a href="../../da/d16/group__core__access.html#gaab116aa603700860d827daf7de08fb49">More...</a><br /></td></tr>
<tr class="separator:gaab116aa603700860d827daf7de08fb49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c2cec0b8d406c30c5d9d2b3b26c168e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga9c2cec0b8d406c30c5d9d2b3b26c168e">context::insert_context_record</a> ($contextlevel, $instanceid, $parentpath)</td></tr>
<tr class="memdesc:ga9c2cec0b8d406c30c5d9d2b3b26c168e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility method for context creation.  <a href="../../da/d16/group__core__access.html#ga9c2cec0b8d406c30c5d9d2b3b26c168e">More...</a><br /></td></tr>
<tr class="separator:ga9c2cec0b8d406c30c5d9d2b3b26c168e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92b4ab69c89826db242b815ac2d77b0b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga92b4ab69c89826db242b815ac2d77b0b">context_coursecat::instance</a> ($categoryid, $strictness=<a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a>)</td></tr>
<tr class="memdesc:ga92b4ab69c89826db242b815ac2d77b0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns course category context instance.  <a href="../../da/d16/group__core__access.html#ga92b4ab69c89826db242b815ac2d77b0b">More...</a><br /></td></tr>
<tr class="separator:ga92b4ab69c89826db242b815ac2d77b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32cfbef633764d292f909de3fab1df66"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga32cfbef633764d292f909de3fab1df66">context_module::instance</a> ($cmid, $strictness=<a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a>)</td></tr>
<tr class="memdesc:ga32cfbef633764d292f909de3fab1df66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns module context instance.  <a href="../../da/d16/group__core__access.html#ga32cfbef633764d292f909de3fab1df66">More...</a><br /></td></tr>
<tr class="separator:ga32cfbef633764d292f909de3fab1df66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga471cfe5467fd78bb3b8d3379ba01178b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga471cfe5467fd78bb3b8d3379ba01178b">context_course::instance</a> ($courseid, $strictness=<a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a>)</td></tr>
<tr class="memdesc:ga471cfe5467fd78bb3b8d3379ba01178b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns course context instance.  <a href="../../da/d16/group__core__access.html#ga471cfe5467fd78bb3b8d3379ba01178b">More...</a><br /></td></tr>
<tr class="separator:ga471cfe5467fd78bb3b8d3379ba01178b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ef1b82f04f6a72f7336bb5ebfce1811"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga4ef1b82f04f6a72f7336bb5ebfce1811">context_system::instance</a> ($instanceid=0, $strictness=<a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a>, $<a class="el" href="../../d3/d3d/classcache.html">cache</a>=true)</td></tr>
<tr class="memdesc:ga4ef1b82f04f6a72f7336bb5ebfce1811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns system context instance.  <a href="../../da/d16/group__core__access.html#ga4ef1b82f04f6a72f7336bb5ebfce1811">More...</a><br /></td></tr>
<tr class="separator:ga4ef1b82f04f6a72f7336bb5ebfce1811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga850f14ddc575f28ec42cbe71b3069ceb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga850f14ddc575f28ec42cbe71b3069ceb">context_user::instance</a> ($userid, $strictness=<a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a>)</td></tr>
<tr class="memdesc:ga850f14ddc575f28ec42cbe71b3069ceb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns user context instance.  <a href="../../da/d16/group__core__access.html#ga850f14ddc575f28ec42cbe71b3069ceb">More...</a><br /></td></tr>
<tr class="separator:ga850f14ddc575f28ec42cbe71b3069ceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad669d6d6eee4c611c3103d616d5f41e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaad669d6d6eee4c611c3103d616d5f41e">context::instance_by_id</a> ($id, $strictness=<a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a>)</td></tr>
<tr class="memdesc:gaad669d6d6eee4c611c3103d616d5f41e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a context instance as an object, from a given context id.  <a href="../../da/d16/group__core__access.html#gaad669d6d6eee4c611c3103d616d5f41e">More...</a><br /></td></tr>
<tr class="separator:gaad669d6d6eee4c611c3103d616d5f41e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga229cc471b08262e4d224297232a6800f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga229cc471b08262e4d224297232a6800f">context::is_child_of</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $possibleparent, bool $includeself)</td></tr>
<tr class="memdesc:ga229cc471b08262e4d224297232a6800f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the current context is a child of the possible parent.  <a href="../../da/d16/group__core__access.html#ga229cc471b08262e4d224297232a6800f">More...</a><br /></td></tr>
<tr class="separator:ga229cc471b08262e4d224297232a6800f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd7c8790b70ba5dbf2d204c3a803e8de"><td class="memItemLeft" align="right" valign="top"><a id="gafd7c8790b70ba5dbf2d204c3a803e8de" name="gafd7c8790b70ba5dbf2d204c3a803e8de"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>is_guest</b> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $user=null)</td></tr>
<tr class="separator:gafd7c8790b70ba5dbf2d204c3a803e8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb6c185fda8568262bb328514d383579"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gafb6c185fda8568262bb328514d383579">is_inside_frontpage</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:gafb6c185fda8568262bb328514d383579"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if context is the front page context or a context inside it.  <a href="../../da/d16/group__core__access.html#gafb6c185fda8568262bb328514d383579">More...</a><br /></td></tr>
<tr class="separator:gafb6c185fda8568262bb328514d383579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade97454081a0f705407352adc2267fc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gade97454081a0f705407352adc2267fc6">context::is_locked</a> ()</td></tr>
<tr class="memdesc:gade97454081a0f705407352adc2267fc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the current context is locked.  <a href="../../da/d16/group__core__access.html#gade97454081a0f705407352adc2267fc6">More...</a><br /></td></tr>
<tr class="separator:gade97454081a0f705407352adc2267fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga783678669a2c2ad5e2c52623850f6d35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga783678669a2c2ad5e2c52623850f6d35">context::is_parent_of</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $possiblechild, bool $includeself)</td></tr>
<tr class="memdesc:ga783678669a2c2ad5e2c52623850f6d35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the current context is a parent of the possible child.  <a href="../../da/d16/group__core__access.html#ga783678669a2c2ad5e2c52623850f6d35">More...</a><br /></td></tr>
<tr class="separator:ga783678669a2c2ad5e2c52623850f6d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35d16f693ab63233f0b180529ae9940d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga35d16f693ab63233f0b180529ae9940d">is_role_switched</a> ($courseid)</td></tr>
<tr class="memdesc:ga35d16f693ab63233f0b180529ae9940d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the user has switched roles within the given course.  <a href="../../da/d16/group__core__access.html#ga35d16f693ab63233f0b180529ae9940d">More...</a><br /></td></tr>
<tr class="separator:ga35d16f693ab63233f0b180529ae9940d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0cc97536e38d210276ece73b2dc1288"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gad0cc97536e38d210276ece73b2dc1288">is_safe_capability</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>)</td></tr>
<tr class="memdesc:gad0cc97536e38d210276ece73b2dc1288"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify capability risks.  <a href="../../da/d16/group__core__access.html#gad0cc97536e38d210276ece73b2dc1288">More...</a><br /></td></tr>
<tr class="separator:gad0cc97536e38d210276ece73b2dc1288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga749048a4269b55aa258ac035b3d6e499"><td class="memItemLeft" align="right" valign="top"><a id="ga749048a4269b55aa258ac035b3d6e499" name="ga749048a4269b55aa258ac035b3d6e499"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>is_siteadmin</b> ($user_or_id=null)</td></tr>
<tr class="separator:ga749048a4269b55aa258ac035b3d6e499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga270aeb83562eec9d3f88b3630c47a6b6"><td class="memItemLeft" align="right" valign="top"><a id="ga270aeb83562eec9d3f88b3630c47a6b6" name="ga270aeb83562eec9d3f88b3630c47a6b6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>is_viewing</b> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $user=null, $withcapability='')</td></tr>
<tr class="separator:ga270aeb83562eec9d3f88b3630c47a6b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19f07a8fd216feed61e45822a657e05d"><td class="memItemLeft" align="right" valign="top"><a id="ga19f07a8fd216feed61e45822a657e05d" name="ga19f07a8fd216feed61e45822a657e05d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>isguestuser</b> ($user=null)</td></tr>
<tr class="separator:ga19f07a8fd216feed61e45822a657e05d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05874fa5e08443747d2f7e5c1b8c1f0d"><td class="memItemLeft" align="right" valign="top"><a id="ga05874fa5e08443747d2f7e5c1b8c1f0d" name="ga05874fa5e08443747d2f7e5c1b8c1f0d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>isloggedin</b> ()</td></tr>
<tr class="separator:ga05874fa5e08443747d2f7e5c1b8c1f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5474d366746ba4fb687b3efb48e2a599"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga5474d366746ba4fb687b3efb48e2a599">load_temp_course_role</a> (<a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a> $coursecontext, $roleid)</td></tr>
<tr class="memdesc:ga5474d366746ba4fb687b3efb48e2a599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a temp role to current USER-&gt;access array.  <a href="../../da/d16/group__core__access.html#ga5474d366746ba4fb687b3efb48e2a599">More...</a><br /></td></tr>
<tr class="separator:ga5474d366746ba4fb687b3efb48e2a599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26f1b7ed0499165d3f6e8d5c396e1901"><td class="memItemLeft" align="right" valign="top"><a id="ga26f1b7ed0499165d3f6e8d5c396e1901" name="ga26f1b7ed0499165d3f6e8d5c396e1901"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>context::mark_dirty</b> ()</td></tr>
<tr class="memdesc:ga26f1b7ed0499165d3f6e8d5c396e1901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a context as dirty (with timestamp) so as to force reloading of the context. <br /></td></tr>
<tr class="separator:ga26f1b7ed0499165d3f6e8d5c396e1901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade0d5aba32c3f5de67424298c90ade16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gade0d5aba32c3f5de67424298c90ade16">mark_user_dirty</a> ($userid)</td></tr>
<tr class="memdesc:gade0d5aba32c3f5de67424298c90ade16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a user as dirty (with timestamp) so as to force reloading of the user session.  <a href="../../da/d16/group__core__access.html#gade0d5aba32c3f5de67424298c90ade16">More...</a><br /></td></tr>
<tr class="separator:gade0d5aba32c3f5de67424298c90ade16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f2427ceb197690a0e3b2e4286b99237"><td class="memItemLeft" align="right" valign="top"><a id="ga0f2427ceb197690a0e3b2e4286b99237" name="ga0f2427ceb197690a0e3b2e4286b99237"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>context::merge_context_temp_table</b> ()</td></tr>
<tr class="memdesc:ga0f2427ceb197690a0e3b2e4286b99237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy prepared new contexts from temp table to context table, we do this in db specific way for perf reasons only. <br /></td></tr>
<tr class="separator:ga0f2427ceb197690a0e3b2e4286b99237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga203195d0f6d334fc9c00714960e602c1"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga203195d0f6d334fc9c00714960e602c1">context_helper::preload_contexts_by_id</a> (array $contextids)</td></tr>
<tr class="memdesc:ga203195d0f6d334fc9c00714960e602c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preload a set of contexts using their contextid.  <a href="../../da/d16/group__core__access.html#ga203195d0f6d334fc9c00714960e602c1">More...</a><br /></td></tr>
<tr class="separator:ga203195d0f6d334fc9c00714960e602c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga761d2cf200915f580ca0e08d086b9c01"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga761d2cf200915f580ca0e08d086b9c01">context_helper::preload_course</a> ($courseid)</td></tr>
<tr class="memdesc:ga761d2cf200915f580ca0e08d086b9c01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preload all contexts instances from course.  <a href="../../da/d16/group__core__access.html#ga761d2cf200915f580ca0e08d086b9c01">More...</a><br /></td></tr>
<tr class="separator:ga761d2cf200915f580ca0e08d086b9c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab280cd5c2e65c4376ee2765629739cd5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gab280cd5c2e65c4376ee2765629739cd5">context::preload_from_record</a> (stdClass $rec)</td></tr>
<tr class="memdesc:gab280cd5c2e65c4376ee2765629739cd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preloads context information from db record and strips the cached info.  <a href="../../da/d16/group__core__access.html#gab280cd5c2e65c4376ee2765629739cd5">More...</a><br /></td></tr>
<tr class="separator:gab280cd5c2e65c4376ee2765629739cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga880fd7e866a46ef42a40b2a1e4ad1588"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga880fd7e866a46ef42a40b2a1e4ad1588">context_helper::preload_from_record</a> (stdClass $rec)</td></tr>
<tr class="memdesc:ga880fd7e866a46ef42a40b2a1e4ad1588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preloads context information from db record and strips the cached info.  <a href="../../da/d16/group__core__access.html#ga880fd7e866a46ef42a40b2a1e4ad1588">More...</a><br /></td></tr>
<tr class="separator:ga880fd7e866a46ef42a40b2a1e4ad1588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a75f06472e00beffc8a083f777db4ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga4a75f06472e00beffc8a083f777db4ae">prohibit_is_removable</a> ($roleid, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>)</td></tr>
<tr class="memdesc:ga4a75f06472e00beffc8a083f777db4ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function verifies the prohibit comes from this context and there are no more prohibits in parent contexts.  <a href="../../da/d16/group__core__access.html#ga4a75f06472e00beffc8a083f777db4ae">More...</a><br /></td></tr>
<tr class="separator:ga4a75f06472e00beffc8a083f777db4ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fdb562bd876a97032f8719fa3a325e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga2fdb562bd876a97032f8719fa3a325e0">context::reload_if_dirty</a> ()</td></tr>
<tr class="memdesc:ga2fdb562bd876a97032f8719fa3a325e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all cached permissions and definitions if the necessary.  <a href="../../da/d16/group__core__access.html#ga2fdb562bd876a97032f8719fa3a325e0">More...</a><br /></td></tr>
<tr class="separator:ga2fdb562bd876a97032f8719fa3a325e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf57c585c7b4cec02246c3a1c6b9361a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaaf57c585c7b4cec02246c3a1c6b9361a">remove_temp_course_roles</a> (<a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a> $coursecontext)</td></tr>
<tr class="memdesc:gaaf57c585c7b4cec02246c3a1c6b9361a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes any extra guest roles from current USER-&gt;access array.  <a href="../../da/d16/group__core__access.html#gaaf57c585c7b4cec02246c3a1c6b9361a">More...</a><br /></td></tr>
<tr class="separator:gaaf57c585c7b4cec02246c3a1c6b9361a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c722028406b13979b12917a45eacb6a"><td class="memItemLeft" align="right" valign="top"><a id="ga3c722028406b13979b12917a45eacb6a" name="ga3c722028406b13979b12917a45eacb6a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>require_all_capabilities</b> (array $capabilities, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $userid=null, $doanything=true, $errormessage='nopermissions', $stringfile='')</td></tr>
<tr class="separator:ga3c722028406b13979b12917a45eacb6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae106921b5a4e5d4f797621cca8193cd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gae106921b5a4e5d4f797621cca8193cd7">require_capability</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $userid=null, $doanything=true, $errormessage='nopermissions', $stringfile='')</td></tr>
<tr class="memdesc:gae106921b5a4e5d4f797621cca8193cd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A convenience function that tests has_capability, and displays an error if the user does not have that capability.  <a href="../../da/d16/group__core__access.html#gae106921b5a4e5d4f797621cca8193cd7">More...</a><br /></td></tr>
<tr class="separator:gae106921b5a4e5d4f797621cca8193cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8bd88729aa93989dd1a47e70f01b75b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaf8bd88729aa93989dd1a47e70f01b75b">context::reset_caches</a> ()</td></tr>
<tr class="memdesc:gaf8bd88729aa93989dd1a47e70f01b75b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the cache to remove all data.  <a href="../../da/d16/group__core__access.html#gaf8bd88729aa93989dd1a47e70f01b75b">More...</a><br /></td></tr>
<tr class="separator:gaf8bd88729aa93989dd1a47e70f01b75b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6713734461866996292e3e501c6d736e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga6713734461866996292e3e501c6d736e">context_helper::reset_caches</a> ()</td></tr>
<tr class="memdesc:ga6713734461866996292e3e501c6d736e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the cache to remove all data.  <a href="../../da/d16/group__core__access.html#ga6713734461866996292e3e501c6d736e">More...</a><br /></td></tr>
<tr class="separator:ga6713734461866996292e3e501c6d736e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7abcdf0605becb12d7e45d45cc94c287"><td class="memItemLeft" align="right" valign="top"><a id="ga7abcdf0605becb12d7e45d45cc94c287" name="ga7abcdf0605becb12d7e45d45cc94c287"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>context_helper::reset_levels</b> ()</td></tr>
<tr class="memdesc:ga7abcdf0605becb12d7e45d45cc94c287"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset internal context levels array. <br /></td></tr>
<tr class="separator:ga7abcdf0605becb12d7e45d45cc94c287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ddbb520c033c447f260e51226695a5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga0ddbb520c033c447f260e51226695a5f">context::reset_paths</a> ($rebuild=true)</td></tr>
<tr class="memdesc:ga0ddbb520c033c447f260e51226695a5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all context path info and optionally rebuild it.  <a href="../../da/d16/group__core__access.html#ga0ddbb520c033c447f260e51226695a5f">More...</a><br /></td></tr>
<tr class="separator:ga0ddbb520c033c447f260e51226695a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga526d78545ea35b7f2d831de88244ccc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga526d78545ea35b7f2d831de88244ccc8">reset_role_capabilities</a> ($roleid)</td></tr>
<tr class="memdesc:ga526d78545ea35b7f2d831de88244ccc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset role capabilities to default according to selected role archetype.  <a href="../../da/d16/group__core__access.html#ga526d78545ea35b7f2d831de88244ccc8">More...</a><br /></td></tr>
<tr class="separator:ga526d78545ea35b7f2d831de88244ccc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9942ad6f10a787833c5a686c9e36ebb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gad9942ad6f10a787833c5a686c9e36ebb">role_assign</a> ($roleid, $userid, $contextid, $component='', $itemid=0, $timemodified='')</td></tr>
<tr class="memdesc:gad9942ad6f10a787833c5a686c9e36ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function makes a role-assignment (a role for a user in a particular context)  <a href="../../da/d16/group__core__access.html#gad9942ad6f10a787833c5a686c9e36ebb">More...</a><br /></td></tr>
<tr class="separator:gad9942ad6f10a787833c5a686c9e36ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0c1dc75b9a8c3246d4cc10d838f6998"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gae0c1dc75b9a8c3246d4cc10d838f6998">role_cap_duplicate</a> ($sourcerole, $targetrole)</td></tr>
<tr class="memdesc:gae0c1dc75b9a8c3246d4cc10d838f6998"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duplicates all the base definitions of a role.  <a href="../../da/d16/group__core__access.html#gae0c1dc75b9a8c3246d4cc10d838f6998">More...</a><br /></td></tr>
<tr class="separator:gae0c1dc75b9a8c3246d4cc10d838f6998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed47009d5c2358fb63fdf04c5756c4a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaed47009d5c2358fb63fdf04c5756c4a2">role_change_permission</a> ($roleid, $<a class="el" href="../../da/d04/classcontext.html">context</a>, $capname, $permission)</td></tr>
<tr class="memdesc:gaed47009d5c2358fb63fdf04c5756c4a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">More user friendly role permission changing, it should produce as few overrides as possible.  <a href="../../da/d16/group__core__access.html#gaed47009d5c2358fb63fdf04c5756c4a2">More...</a><br /></td></tr>
<tr class="separator:gaed47009d5c2358fb63fdf04c5756c4a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacede73f3ae58af31201a498e461c8a6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gacede73f3ae58af31201a498e461c8a6a">role_context_capabilities</a> ($roleid, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $cap='')</td></tr>
<tr class="memdesc:gacede73f3ae58af31201a498e461c8a6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function pulls out all the resolved capabilities (overrides and defaults) of a role used in capability overrides in contexts at a given context.  <a href="../../da/d16/group__core__access.html#gacede73f3ae58af31201a498e461c8a6a">More...</a><br /></td></tr>
<tr class="separator:gacede73f3ae58af31201a498e461c8a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e09cdf5a4b6faa5c40d95c1039190d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga9e09cdf5a4b6faa5c40d95c1039190d7">role_fix_names</a> ($roleoptions, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>=null, $rolenamedisplay=<a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a>, $returnmenu=null)</td></tr>
<tr class="memdesc:ga9e09cdf5a4b6faa5c40d95c1039190d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare list of roles for display, apply aliases and localise default role names.  <a href="../../da/d16/group__core__access.html#ga9e09cdf5a4b6faa5c40d95c1039190d7">More...</a><br /></td></tr>
<tr class="separator:ga9e09cdf5a4b6faa5c40d95c1039190d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab16dc200a0de5de83ca14a33a4293660"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gab16dc200a0de5de83ca14a33a4293660">role_get_description</a> (stdClass $role)</td></tr>
<tr class="memdesc:gab16dc200a0de5de83ca14a33a4293660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns localised role description if available.  <a href="../../da/d16/group__core__access.html#gab16dc200a0de5de83ca14a33a4293660">More...</a><br /></td></tr>
<tr class="separator:gab16dc200a0de5de83ca14a33a4293660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1dd8f305e320a4c9ece907644944081b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga1dd8f305e320a4c9ece907644944081b">role_get_name</a> (stdClass $role, $<a class="el" href="../../da/d04/classcontext.html">context</a>=null, $rolenamedisplay=<a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a>)</td></tr>
<tr class="memdesc:ga1dd8f305e320a4c9ece907644944081b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get localised role name or alias if exists and format the text.  <a href="../../da/d16/group__core__access.html#ga1dd8f305e320a4c9ece907644944081b">More...</a><br /></td></tr>
<tr class="separator:ga1dd8f305e320a4c9ece907644944081b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf5d6be413bc83b11f1a7842ab34b2bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gadf5d6be413bc83b11f1a7842ab34b2bf">role_get_names</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>=null, $rolenamedisplay=<a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a>, $returnmenu=null)</td></tr>
<tr class="memdesc:gadf5d6be413bc83b11f1a7842ab34b2bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the localised role names for a context.  <a href="../../da/d16/group__core__access.html#gadf5d6be413bc83b11f1a7842ab34b2bf">More...</a><br /></td></tr>
<tr class="separator:gadf5d6be413bc83b11f1a7842ab34b2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30729206f2de12ab0bfe887db80031ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga30729206f2de12ab0bfe887db80031ad">role_switch</a> ($roleid, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:ga30729206f2de12ab0bfe887db80031ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switches the current user to another role for the current session and only in the given context.  <a href="../../da/d16/group__core__access.html#ga30729206f2de12ab0bfe887db80031ad">More...</a><br /></td></tr>
<tr class="separator:ga30729206f2de12ab0bfe887db80031ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8da408086f63145f9a3aa306b4b5ced0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga8da408086f63145f9a3aa306b4b5ced0">role_unassign</a> ($roleid, $userid, $contextid, $component='', $itemid=0)</td></tr>
<tr class="memdesc:ga8da408086f63145f9a3aa306b4b5ced0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes one role assignment.  <a href="../../da/d16/group__core__access.html#ga8da408086f63145f9a3aa306b4b5ced0">More...</a><br /></td></tr>
<tr class="separator:ga8da408086f63145f9a3aa306b4b5ced0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabcf07ea620a5032be4a95f54ce1b7a96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gabcf07ea620a5032be4a95f54ce1b7a96">role_unassign_all</a> (array $params, $subcontexts=false, $includemanual=false)</td></tr>
<tr class="memdesc:gabcf07ea620a5032be4a95f54ce1b7a96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes multiple role assignments, parameters may contain: 'roleid', 'userid', 'contextid', 'component', 'enrolid'.  <a href="../../da/d16/group__core__access.html#gabcf07ea620a5032be4a95f54ce1b7a96">More...</a><br /></td></tr>
<tr class="separator:gabcf07ea620a5032be4a95f54ce1b7a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d8023914e33f884fd07bda0a25854a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga6d8023914e33f884fd07bda0a25854a9">context::set_locked</a> (bool $locked)</td></tr>
<tr class="memdesc:ga6d8023914e33f884fd07bda0a25854a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether this context has been locked or not.  <a href="../../da/d16/group__core__access.html#ga6d8023914e33f884fd07bda0a25854a9">More...</a><br /></td></tr>
<tr class="separator:ga6d8023914e33f884fd07bda0a25854a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1aa248bf8227a9a7a1b5b7d04d0d7640"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga1aa248bf8227a9a7a1b5b7d04d0d7640">context_system::set_locked</a> (bool $locked)</td></tr>
<tr class="memdesc:ga1aa248bf8227a9a7a1b5b7d04d0d7640"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether this context has been locked or not.  <a href="../../da/d16/group__core__access.html#ga1aa248bf8227a9a7a1b5b7d04d0d7640">More...</a><br /></td></tr>
<tr class="separator:ga1aa248bf8227a9a7a1b5b7d04d0d7640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa626698a51598d556cff48793000af6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaa626698a51598d556cff48793000af6b">set_role_contextlevels</a> ($roleid, array $contextlevels)</td></tr>
<tr class="memdesc:gaa626698a51598d556cff48793000af6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the context levels at which a particular role can be assigned.  <a href="../../da/d16/group__core__access.html#gaa626698a51598d556cff48793000af6b">More...</a><br /></td></tr>
<tr class="separator:gaa626698a51598d556cff48793000af6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4a08eb7131890af57f5fe305f55a9b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gab4a08eb7131890af57f5fe305f55a9b8">sort_by_roleassignment_authority</a> ($users, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $roles=array(), $sortpolicy='locality')</td></tr>
<tr class="memdesc:gab4a08eb7131890af57f5fe305f55a9b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-sort a users array based on a sorting policy.  <a href="../../da/d16/group__core__access.html#gab4a08eb7131890af57f5fe305f55a9b8">More...</a><br /></td></tr>
<tr class="separator:gab4a08eb7131890af57f5fe305f55a9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5fd541d0278f2ce8aaeb321b8b8851c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gac5fd541d0278f2ce8aaeb321b8b8851c">switch_roles</a> ($<a class="el" href="../../d7/de4/group___mail.html#gac73eef9ff76ea330c0dab36ca448b90d">first</a>, $second)</td></tr>
<tr class="memdesc:gac5fd541d0278f2ce8aaeb321b8b8851c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the sort order of two roles (used in admin/roles/manage.php).  <a href="../../da/d16/group__core__access.html#gac5fd541d0278f2ce8aaeb321b8b8851c">More...</a><br /></td></tr>
<tr class="separator:gac5fd541d0278f2ce8aaeb321b8b8851c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga928246fb49c4eb83e351423e3e11e72a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga928246fb49c4eb83e351423e3e11e72a">unassign_capability</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gab2c24006bbccb7984767e680dc4c3e92">capability</a>, $roleid, $contextid=null)</td></tr>
<tr class="memdesc:ga928246fb49c4eb83e351423e3e11e72a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unassign a capability from a role.  <a href="../../da/d16/group__core__access.html#ga928246fb49c4eb83e351423e3e11e72a">More...</a><br /></td></tr>
<tr class="separator:ga928246fb49c4eb83e351423e3e11e72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga632abdbbbe3c5dbea8714914b2e9e6d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga632abdbbbe3c5dbea8714914b2e9e6d3">context::update_moved</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $newparent)</td></tr>
<tr class="memdesc:ga632abdbbbe3c5dbea8714914b2e9e6d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update context info after moving context in the tree structure.  <a href="../../da/d16/group__core__access.html#ga632abdbbbe3c5dbea8714914b2e9e6d3">More...</a><br /></td></tr>
<tr class="separator:ga632abdbbbe3c5dbea8714914b2e9e6d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb7f43b7c655ad190ca02f288d7f419f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gabb7f43b7c655ad190ca02f288d7f419f">user_can_assign</a> (<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>, $targetroleid)</td></tr>
<tr class="memdesc:gabb7f43b7c655ad190ca02f288d7f419f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a user can assign users to a particular role in this context.  <a href="../../da/d16/group__core__access.html#gabb7f43b7c655ad190ca02f288d7f419f">More...</a><br /></td></tr>
<tr class="separator:gabb7f43b7c655ad190ca02f288d7f419f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga094626c521a5191dec40e63c56be1733"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga094626c521a5191dec40e63c56be1733">user_has_role_assignment</a> ($userid, $roleid, $contextid=0)</td></tr>
<tr class="memdesc:ga094626c521a5191dec40e63c56be1733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple function returning a boolean true if user has roles in context or parent contexts, otherwise false.  <a href="../../da/d16/group__core__access.html#ga094626c521a5191dec40e63c56be1733">More...</a><br /></td></tr>
<tr class="separator:ga094626c521a5191dec40e63c56be1733"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga024522a068c77a32d9f4c2e041e85c11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga024522a068c77a32d9f4c2e041e85c11">context::$_contextlevel</a></td></tr>
<tr class="memdesc:ga024522a068c77a32d9f4c2e041e85c11"><td class="mdescLeft">&#160;</td><td class="mdescRight">The context level Can be accessed publicly through $context-&gt;contextlevel One of CONTEXT_* e.g.  <a href="../../da/d16/group__core__access.html#ga024522a068c77a32d9f4c2e041e85c11">More...</a><br /></td></tr>
<tr class="separator:ga024522a068c77a32d9f4c2e041e85c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga744dea044ec019527590b2857568b103"><td class="memItemLeft" align="right" valign="top"><a id="ga744dea044ec019527590b2857568b103" name="ga744dea044ec019527590b2857568b103"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>context::$_depth</b></td></tr>
<tr class="memdesc:ga744dea044ec019527590b2857568b103"><td class="mdescLeft">&#160;</td><td class="mdescRight">The depth of the context in relation to parent contexts Can be accessed publicly through $context-&gt;depth. <br /></td></tr>
<tr class="separator:ga744dea044ec019527590b2857568b103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacadb4d4fee3847c0a747eb44ffab9386"><td class="memItemLeft" align="right" valign="top"><a id="gacadb4d4fee3847c0a747eb44ffab9386" name="gacadb4d4fee3847c0a747eb44ffab9386"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>context::$_id</b></td></tr>
<tr class="memdesc:gacadb4d4fee3847c0a747eb44ffab9386"><td class="mdescLeft">&#160;</td><td class="mdescRight">The context id Can be accessed publicly through $context-&gt;id. <br /></td></tr>
<tr class="separator:gacadb4d4fee3847c0a747eb44ffab9386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf417cf1bfa5d854fdb7d11a914bcb1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gabf417cf1bfa5d854fdb7d11a914bcb1a">context::$_instanceid</a></td></tr>
<tr class="memdesc:gabf417cf1bfa5d854fdb7d11a914bcb1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Id of the item this context is related to e.g.  <a href="../../da/d16/group__core__access.html#gabf417cf1bfa5d854fdb7d11a914bcb1a">More...</a><br /></td></tr>
<tr class="separator:gabf417cf1bfa5d854fdb7d11a914bcb1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84f1bb1872f65062329571a47c031d2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga84f1bb1872f65062329571a47c031d2b">context::$_locked</a></td></tr>
<tr class="memdesc:ga84f1bb1872f65062329571a47c031d2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this context is locked or not.  <a href="../../da/d16/group__core__access.html#ga84f1bb1872f65062329571a47c031d2b">More...</a><br /></td></tr>
<tr class="separator:ga84f1bb1872f65062329571a47c031d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac64520d26616d9ae0b156db03ee60f8a"><td class="memItemLeft" align="right" valign="top"><a id="gac64520d26616d9ae0b156db03ee60f8a" name="gac64520d26616d9ae0b156db03ee60f8a"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>context::$_path</b></td></tr>
<tr class="memdesc:gac64520d26616d9ae0b156db03ee60f8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path to the context always starting from the system context Can be accessed publicly through $context-&gt;path. <br /></td></tr>
<tr class="separator:gac64520d26616d9ae0b156db03ee60f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e1a93525360a9af1350d8b18e7a1c80"><td class="memItemLeft" align="right" valign="top"><a id="ga0e1a93525360a9af1350d8b18e7a1c80" name="ga0e1a93525360a9af1350d8b18e7a1c80"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>context::$cache_count</b> = 0</td></tr>
<tr class="memdesc:ga0e1a93525360a9af1350d8b18e7a1c80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Context count Why do we do count contexts? Because count($array) is horribly slow for large arrays. <br /></td></tr>
<tr class="separator:ga0e1a93525360a9af1350d8b18e7a1c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a516e6785fec0fe85325fdf0a4be63f"><td class="memItemLeft" align="right" valign="top"><a id="ga9a516e6785fec0fe85325fdf0a4be63f" name="ga9a516e6785fec0fe85325fdf0a4be63f"></a>
static array&#160;</td><td class="memItemRight" valign="bottom"><b>context::$cache_preloaded</b> = array()</td></tr>
<tr class="memdesc:ga9a516e6785fec0fe85325fdf0a4be63f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Context caching info. <br /></td></tr>
<tr class="separator:ga9a516e6785fec0fe85325fdf0a4be63f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bd1a55d998861e02e56c127f4b46c94"><td class="memItemLeft" align="right" valign="top"><a id="ga3bd1a55d998861e02e56c127f4b46c94" name="ga3bd1a55d998861e02e56c127f4b46c94"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$capabilities</b></td></tr>
<tr class="separator:ga3bd1a55d998861e02e56c127f4b46c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03104b2304696314fd8f3f29a9895a4d"><td class="memItemLeft" align="right" valign="top"><a id="ga03104b2304696314fd8f3f29a9895a4d" name="ga03104b2304696314fd8f3f29a9895a4d"></a>
static <a class="el" href="../../de/de3/classcontext__system.html">context_system</a>&#160;</td><td class="memItemRight" valign="bottom"><b>context::$systemcontext</b> = null</td></tr>
<tr class="memdesc:ga03104b2304696314fd8f3f29a9895a4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The system context once initialised. <br /></td></tr>
<tr class="separator:ga03104b2304696314fd8f3f29a9895a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga052f212a4598137bdc80f3ef8748ffed"><td class="memItemLeft" align="right" valign="top"><a id="ga052f212a4598137bdc80f3ef8748ffed" name="ga052f212a4598137bdc80f3ef8748ffed"></a>
$ACCESSLIB_PRIVATE&#160;</td><td class="memItemRight" valign="bottom"><b>accessdatabyuser</b> = array()</td></tr>
<tr class="separator:ga052f212a4598137bdc80f3ef8748ffed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa41d0c434384a9381417f43e196cb7d7"><td class="memItemLeft" align="right" valign="top"><a id="gaa41d0c434384a9381417f43e196cb7d7" name="gaa41d0c434384a9381417f43e196cb7d7"></a>
$ACCESSLIB_PRIVATE&#160;</td><td class="memItemRight" valign="bottom"><b>cacheroledefs</b> = array()</td></tr>
<tr class="separator:gaa41d0c434384a9381417f43e196cb7d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc879f41ad412efa2fc8022359b3ebfb"><td class="memItemLeft" align="right" valign="top"><a id="gacc879f41ad412efa2fc8022359b3ebfb" name="gacc879f41ad412efa2fc8022359b3ebfb"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CAP_ALLOW</b> 1</td></tr>
<tr class="memdesc:gacc879f41ad412efa2fc8022359b3ebfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow permission, overrides CAP_PREVENT defined in parent contexts. <br /></td></tr>
<tr class="separator:gacc879f41ad412efa2fc8022359b3ebfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga017f65d9de6ebb83cad8421adf10b987"><td class="memItemLeft" align="right" valign="top"><a id="ga017f65d9de6ebb83cad8421adf10b987" name="ga017f65d9de6ebb83cad8421adf10b987"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CAP_INHERIT</b> 0</td></tr>
<tr class="memdesc:ga017f65d9de6ebb83cad8421adf10b987"><td class="mdescLeft">&#160;</td><td class="mdescRight">No capability change. <br /></td></tr>
<tr class="separator:ga017f65d9de6ebb83cad8421adf10b987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga445022a4bed803c5c977ea8a2a2d9d48"><td class="memItemLeft" align="right" valign="top"><a id="ga445022a4bed803c5c977ea8a2a2d9d48" name="ga445022a4bed803c5c977ea8a2a2d9d48"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CAP_PREVENT</b> -1</td></tr>
<tr class="memdesc:ga445022a4bed803c5c977ea8a2a2d9d48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prevent permission, overrides CAP_ALLOW defined in parent contexts. <br /></td></tr>
<tr class="separator:ga445022a4bed803c5c977ea8a2a2d9d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga092d97073339b37bc54489e7b3ecddc4"><td class="memItemLeft" align="right" valign="top"><a id="ga092d97073339b37bc54489e7b3ecddc4" name="ga092d97073339b37bc54489e7b3ecddc4"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CAP_PROHIBIT</b> -1000</td></tr>
<tr class="memdesc:ga092d97073339b37bc54489e7b3ecddc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prohibit permission, overrides everything in current and child contexts. <br /></td></tr>
<tr class="separator:ga092d97073339b37bc54489e7b3ecddc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf26e0e9d63f6aa70f446e178150f0127"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#gaf26e0e9d63f6aa70f446e178150f0127">CONTEXT_BLOCK</a> 80</td></tr>
<tr class="memdesc:gaf26e0e9d63f6aa70f446e178150f0127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block context level - one instance for each block, sticky blocks are tricky because ppl think they should be able to override them at lower contexts.  <a href="../../da/d16/group__core__access.html#gaf26e0e9d63f6aa70f446e178150f0127">More...</a><br /></td></tr>
<tr class="separator:gaf26e0e9d63f6aa70f446e178150f0127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6793164cc4e484b90054c9938b7689ed"><td class="memItemLeft" align="right" valign="top"><a id="ga6793164cc4e484b90054c9938b7689ed" name="ga6793164cc4e484b90054c9938b7689ed"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CONTEXT_COURSE</b> 50</td></tr>
<tr class="memdesc:ga6793164cc4e484b90054c9938b7689ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Course context level - one instances for each course. <br /></td></tr>
<tr class="separator:ga6793164cc4e484b90054c9938b7689ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b60db455942f13f33223f6490295a5e"><td class="memItemLeft" align="right" valign="top"><a id="ga7b60db455942f13f33223f6490295a5e" name="ga7b60db455942f13f33223f6490295a5e"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CONTEXT_COURSECAT</b> 40</td></tr>
<tr class="memdesc:ga7b60db455942f13f33223f6490295a5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Course category context level - one instance for each category. <br /></td></tr>
<tr class="separator:ga7b60db455942f13f33223f6490295a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad810921ece54f4a0ccee43743267164f"><td class="memItemLeft" align="right" valign="top"><a id="gad810921ece54f4a0ccee43743267164f" name="gad810921ece54f4a0ccee43743267164f"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CONTEXT_MODULE</b> 70</td></tr>
<tr class="memdesc:gad810921ece54f4a0ccee43743267164f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Course module context level - one instance for each course module. <br /></td></tr>
<tr class="separator:gad810921ece54f4a0ccee43743267164f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cef4b21548a9d4e72b5b85a4355cacd"><td class="memItemLeft" align="right" valign="top"><a id="ga1cef4b21548a9d4e72b5b85a4355cacd" name="ga1cef4b21548a9d4e72b5b85a4355cacd"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CONTEXT_SYSTEM</b> 10</td></tr>
<tr class="memdesc:ga1cef4b21548a9d4e72b5b85a4355cacd"><td class="mdescLeft">&#160;</td><td class="mdescRight">System context level - only one instance in every system. <br /></td></tr>
<tr class="separator:ga1cef4b21548a9d4e72b5b85a4355cacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9712ed92a52cc217fa9790e42ab62906"><td class="memItemLeft" align="right" valign="top"><a id="ga9712ed92a52cc217fa9790e42ab62906" name="ga9712ed92a52cc217fa9790e42ab62906"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CONTEXT_USER</b> 30</td></tr>
<tr class="memdesc:ga9712ed92a52cc217fa9790e42ab62906"><td class="mdescLeft">&#160;</td><td class="mdescRight">User context level - one instance for each user describing what others can do to user. <br /></td></tr>
<tr class="separator:ga9712ed92a52cc217fa9790e42ab62906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c4caf1734d02cfe34f94aa69c60e5d0"><td class="memItemLeft" align="right" valign="top">string const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d16/group__core__access.html#ga0c4caf1734d02cfe34f94aa69c60e5d0">context::DEFAULT_CAPABILITY_SORT</a> = 'contextlevel, component, <a class="el" href="../../d8/ded/group___simple_pie.html#ga4b516aaa5fa38da4fed24ab6001627e2">name</a>'</td></tr>
<tr class="memdesc:ga0c4caf1734d02cfe34f94aa69c60e5d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default sorting of capabilities in {.  <a href="../../da/d16/group__core__access.html#ga0c4caf1734d02cfe34f94aa69c60e5d0">More...</a><br /></td></tr>
<tr class="separator:ga0c4caf1734d02cfe34f94aa69c60e5d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa064d2cdc0a83daac8c513062ae93353"><td class="memItemLeft" align="right" valign="top"><a id="gaa064d2cdc0a83daac8c513062ae93353" name="gaa064d2cdc0a83daac8c513062ae93353"></a>
$ACCESSLIB_PRIVATE&#160;</td><td class="memItemRight" valign="bottom"><b>dirtycontexts</b> = null</td></tr>
<tr class="separator:gaa064d2cdc0a83daac8c513062ae93353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa80259013e9d57accacbb622efd2179"><td class="memItemLeft" align="right" valign="top"><a id="gafa80259013e9d57accacbb622efd2179" name="gafa80259013e9d57accacbb622efd2179"></a>
$ACCESSLIB_PRIVATE&#160;</td><td class="memItemRight" valign="bottom"><b>dirtyusers</b> = null</td></tr>
<tr class="separator:gafa80259013e9d57accacbb622efd2179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga304236f3ff45585fb9ed90d829326b35"><td class="memItemLeft" align="right" valign="top"><a id="ga304236f3ff45585fb9ed90d829326b35" name="ga304236f3ff45585fb9ed90d829326b35"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>RISK_CONFIG</b> 0x0002</td></tr>
<tr class="memdesc:ga304236f3ff45585fb9ed90d829326b35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capability allows changes in system configuration - see <a href="http://docs.moodle.org/dev/Hardening_new_Roles_system" class="el externalurl"></a> <br /></td></tr>
<tr class="separator:ga304236f3ff45585fb9ed90d829326b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10c1c41a7634e875263ac791efd19ca9"><td class="memItemLeft" align="right" valign="top"><a id="ga10c1c41a7634e875263ac791efd19ca9" name="ga10c1c41a7634e875263ac791efd19ca9"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>RISK_DATALOSS</b> 0x0020</td></tr>
<tr class="memdesc:ga10c1c41a7634e875263ac791efd19ca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">capability allows mass delete of data belonging to other users - see <a href="http://docs.moodle.org/dev/Hardening_new_Roles_system" class="el externalurl"></a> <br /></td></tr>
<tr class="separator:ga10c1c41a7634e875263ac791efd19ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35798fee03098f2764bfdb6b410970f1"><td class="memItemLeft" align="right" valign="top"><a id="ga35798fee03098f2764bfdb6b410970f1" name="ga35798fee03098f2764bfdb6b410970f1"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>RISK_MANAGETRUST</b> 0x0001</td></tr>
<tr class="memdesc:ga35798fee03098f2764bfdb6b410970f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capability allow management of trusts - NOT IMPLEMENTED YET - see <a href="http://docs.moodle.org/dev/Hardening_new_Roles_system" class="el externalurl"></a> <br /></td></tr>
<tr class="separator:ga35798fee03098f2764bfdb6b410970f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad68508d7c7f80d12610f8ff3178cc99d"><td class="memItemLeft" align="right" valign="top"><a id="gad68508d7c7f80d12610f8ff3178cc99d" name="gad68508d7c7f80d12610f8ff3178cc99d"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>RISK_PERSONAL</b> 0x0008</td></tr>
<tr class="memdesc:gad68508d7c7f80d12610f8ff3178cc99d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capability allows access to personal user information - see <a href="http://docs.moodle.org/dev/Hardening_new_Roles_system" class="el externalurl"></a> <br /></td></tr>
<tr class="separator:gad68508d7c7f80d12610f8ff3178cc99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e63da95ef5699a97db646d0f02e60b9"><td class="memItemLeft" align="right" valign="top"><a id="ga6e63da95ef5699a97db646d0f02e60b9" name="ga6e63da95ef5699a97db646d0f02e60b9"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>RISK_SPAM</b> 0x0010</td></tr>
<tr class="memdesc:ga6e63da95ef5699a97db646d0f02e60b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capability allows users to add content others may see - see <a href="http://docs.moodle.org/dev/Hardening_new_Roles_system" class="el externalurl"></a> <br /></td></tr>
<tr class="separator:ga6e63da95ef5699a97db646d0f02e60b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1ead7c9024d669a97ff733524b34e09"><td class="memItemLeft" align="right" valign="top"><a id="gad1ead7c9024d669a97ff733524b34e09" name="gad1ead7c9024d669a97ff733524b34e09"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>RISK_XSS</b> 0x0004</td></tr>
<tr class="memdesc:gad1ead7c9024d669a97ff733524b34e09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capability allows user to add scripted content - see <a href="http://docs.moodle.org/dev/Hardening_new_Roles_system" class="el externalurl"></a> <br /></td></tr>
<tr class="separator:gad1ead7c9024d669a97ff733524b34e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4497076d088c6236b84e9cd966b1956b"><td class="memItemLeft" align="right" valign="top"><a id="ga4497076d088c6236b84e9cd966b1956b" name="ga4497076d088c6236b84e9cd966b1956b"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>ROLENAME_ALIAS</b> 1</td></tr>
<tr class="memdesc:ga4497076d088c6236b84e9cd966b1956b"><td class="mdescLeft">&#160;</td><td class="mdescRight">rolename displays - the name as defined by a role alias at the course level, falls back to ROLENAME_ORIGINAL if alias not present <br /></td></tr>
<tr class="separator:ga4497076d088c6236b84e9cd966b1956b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga357baf3009611a4b445b865c36d493ea"><td class="memItemLeft" align="right" valign="top"><a id="ga357baf3009611a4b445b865c36d493ea" name="ga357baf3009611a4b445b865c36d493ea"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>ROLENAME_ALIAS_RAW</b> 4</td></tr>
<tr class="memdesc:ga357baf3009611a4b445b865c36d493ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">rolename displays - the name as defined by a role alias, in raw form suitable for editing <br /></td></tr>
<tr class="separator:ga357baf3009611a4b445b865c36d493ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b7ae19bb7dc9f0de86bb363531b7355"><td class="memItemLeft" align="right" valign="top"><a id="ga8b7ae19bb7dc9f0de86bb363531b7355" name="ga8b7ae19bb7dc9f0de86bb363531b7355"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>ROLENAME_BOTH</b> 2</td></tr>
<tr class="memdesc:ga8b7ae19bb7dc9f0de86bb363531b7355"><td class="mdescLeft">&#160;</td><td class="mdescRight">rolename displays - Both, like this: Role alias (Original) <br /></td></tr>
<tr class="separator:ga8b7ae19bb7dc9f0de86bb363531b7355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13b255ebd797302b06ebef3ea6a424f6"><td class="memItemLeft" align="right" valign="top"><a id="ga13b255ebd797302b06ebef3ea6a424f6" name="ga13b255ebd797302b06ebef3ea6a424f6"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>ROLENAME_ORIGINAL</b> 0</td></tr>
<tr class="memdesc:ga13b255ebd797302b06ebef3ea6a424f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">rolename displays - the name as defined in the role definition, localised if name empty <br /></td></tr>
<tr class="separator:ga13b255ebd797302b06ebef3ea6a424f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga299da90d4ff38b7943cd43136acea944"><td class="memItemLeft" align="right" valign="top"><a id="ga299da90d4ff38b7943cd43136acea944" name="ga299da90d4ff38b7943cd43136acea944"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>ROLENAME_ORIGINALANDSHORT</b> 3</td></tr>
<tr class="memdesc:ga299da90d4ff38b7943cd43136acea944"><td class="mdescLeft">&#160;</td><td class="mdescRight">rolename displays - the name as defined in the role definition and the shortname in brackets <br /></td></tr>
<tr class="separator:ga299da90d4ff38b7943cd43136acea944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac17ec92ab165e1159dbd2912e68eec07"><td class="memItemLeft" align="right" valign="top"><a id="gac17ec92ab165e1159dbd2912e68eec07" name="gac17ec92ab165e1159dbd2912e68eec07"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>ROLENAME_SHORT</b> 5</td></tr>
<tr class="memdesc:gac17ec92ab165e1159dbd2912e68eec07"><td class="mdescLeft">&#160;</td><td class="mdescRight">rolename displays - the name is simply short role name <br /></td></tr>
<tr class="separator:gac17ec92ab165e1159dbd2912e68eec07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2ba08c927b8820c4bd724576982144aa" name="ga2ba08c927b8820c4bd724576982144aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ba08c927b8820c4bd724576982144aa">&#9670;&nbsp;</a></span>__construct() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">context::__construct </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor is protected so that devs are forced to use context_xxx::instance() or <a class="el" href="../../da/d16/group__core__access.html#gaad669d6d6eee4c611c3103d616d5f41e" title="Get a context instance as an object, from a given context id.">context::instance_by_id()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#gafea1f232f06f77f16f0c9c6bc04e789b">context_system</a>, <a class="el" href="../../da/d16/group__core__access.html#ga6e6c63f5cd4fd76a639adc003ffc2c89">context_user</a>, <a class="el" href="../../da/d16/group__core__access.html#ga9038bbbf52aca29ea955c1aa60f08f7e">context_coursecat</a>, <a class="el" href="../../da/d16/group__core__access.html#ga221ae51af1d9024ae06e9847549a50c9">context_course</a>, and <a class="el" href="../../da/d16/group__core__access.html#gaaf292b7f9dca08db54091c9e426193dd">context_module</a>.</p>

</div>
</div>
<a id="gafea1f232f06f77f16f0c9c6bc04e789b" name="gafea1f232f06f77f16f0c9c6bc04e789b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafea1f232f06f77f16f0c9c6bc04e789b">&#9670;&nbsp;</a></span>__construct() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">context_system::__construct </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Please use <a class="el" href="../../da/d16/group__core__access.html#ga4ef1b82f04f6a72f7336bb5ebfce1811" title="Returns system context instance.">context_system::instance()</a> if you need the instance of context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga2ba08c927b8820c4bd724576982144aa">context</a>.</p>

</div>
</div>
<a id="ga6e6c63f5cd4fd76a639adc003ffc2c89" name="ga6e6c63f5cd4fd76a639adc003ffc2c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e6c63f5cd4fd76a639adc003ffc2c89">&#9670;&nbsp;</a></span>__construct() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">context_user::__construct </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Please use <a class="el" href="../../da/d16/group__core__access.html#ga850f14ddc575f28ec42cbe71b3069ceb" title="Returns user context instance.">context_user::instance</a>($userid) if you need the instance of context. </p>
<p >Alternatively if you know only the context id use <a class="el" href="../../da/d16/group__core__access.html#gaad669d6d6eee4c611c3103d616d5f41e" title="Get a context instance as an object, from a given context id.">context::instance_by_id</a>($contextid)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga2ba08c927b8820c4bd724576982144aa">context</a>.</p>

</div>
</div>
<a id="ga9038bbbf52aca29ea955c1aa60f08f7e" name="ga9038bbbf52aca29ea955c1aa60f08f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9038bbbf52aca29ea955c1aa60f08f7e">&#9670;&nbsp;</a></span>__construct() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">context_coursecat::__construct </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Please use <a class="el" href="../../da/d16/group__core__access.html#ga92b4ab69c89826db242b815ac2d77b0b" title="Returns course category context instance.">context_coursecat::instance</a>($coursecatid) if you need the instance of context. </p>
<p >Alternatively if you know only the context id use <a class="el" href="../../da/d16/group__core__access.html#gaad669d6d6eee4c611c3103d616d5f41e" title="Get a context instance as an object, from a given context id.">context::instance_by_id</a>($contextid)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga2ba08c927b8820c4bd724576982144aa">context</a>.</p>

</div>
</div>
<a id="ga221ae51af1d9024ae06e9847549a50c9" name="ga221ae51af1d9024ae06e9847549a50c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga221ae51af1d9024ae06e9847549a50c9">&#9670;&nbsp;</a></span>__construct() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">context_course::__construct </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Please use <a class="el" href="../../da/d16/group__core__access.html#ga471cfe5467fd78bb3b8d3379ba01178b" title="Returns course context instance.">context_course::instance</a>($courseid) if you need the instance of context. </p>
<p >Alternatively if you know only the context id use <a class="el" href="../../da/d16/group__core__access.html#gaad669d6d6eee4c611c3103d616d5f41e" title="Get a context instance as an object, from a given context id.">context::instance_by_id</a>($contextid)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga2ba08c927b8820c4bd724576982144aa">context</a>.</p>

</div>
</div>
<a id="gaaf292b7f9dca08db54091c9e426193dd" name="gaaf292b7f9dca08db54091c9e426193dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf292b7f9dca08db54091c9e426193dd">&#9670;&nbsp;</a></span>__construct() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">context_module::__construct </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Please use <a class="el" href="../../da/d16/group__core__access.html#ga32cfbef633764d292f909de3fab1df66" title="Returns module context instance.">context_module::instance</a>($cmid) if you need the instance of context. </p>
<p >Alternatively if you know only the context id use <a class="el" href="../../da/d16/group__core__access.html#gaad669d6d6eee4c611c3103d616d5f41e" title="Get a context instance as an object, from a given context id.">context::instance_by_id</a>($contextid)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga2ba08c927b8820c4bd724576982144aa">context</a>.</p>

</div>
</div>
<a id="ga384090619c09ed92120044f992c1a594" name="ga384090619c09ed92120044f992c1a594"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga384090619c09ed92120044f992c1a594">&#9670;&nbsp;</a></span>__get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::__get </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Magic method getter, redirects to read only values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga426d6dd0c74bb4cf67f8e19bbab5e2ce" name="ga426d6dd0c74bb4cf67f8e19bbab5e2ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga426d6dd0c74bb4cf67f8e19bbab5e2ce">&#9670;&nbsp;</a></span>__isset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::__isset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Full support for isset on our magic read only properties. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0829d8958f90cb8dc652b35225a03897" name="ga0829d8958f90cb8dc652b35225a03897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0829d8958f90cb8dc652b35225a03897">&#9670;&nbsp;</a></span>__set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::__set </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Magic setter method, we do not want anybody to modify properties from the outside. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td></td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad5253c0f386b5e20a42686af5f480e8f" name="gad5253c0f386b5e20a42686af5f480e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5253c0f386b5e20a42686af5f480e8f">&#9670;&nbsp;</a></span>__unset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::__unset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>All properties are read only, sorry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga75275d90e9a4b5a473d7028d42986cd4" name="ga75275d90e9a4b5a473d7028d42986cd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga75275d90e9a4b5a473d7028d42986cd4">&#9670;&nbsp;</a></span>assign_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assign_capability </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$permission</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$overwrite</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to write context specific overrides, or default capabilities. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$capability</td><td>string name </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$permission</td><td>CAP_ constants </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td>role id </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;context</td><td class="paramname">$contextid</td><td>context id </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$overwrite</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>always true or exception </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4044312274e5f5f9bf768f1faa4587c5" name="ga4044312274e5f5f9bf768f1faa4587c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4044312274e5f5f9bf768f1faa4587c5">&#9670;&nbsp;</a></span>assign_legacy_capabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assign_legacy_capabilities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$legacyperms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign the defaults found in this capability definition to roles that have the corresponding legacy capabilities assigned to them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$capability</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$legacyperms</td><td>an array in the format (example): 'guest' =&gt; CAP_PREVENT, 'student' =&gt; CAP_ALLOW, 'teacher' =&gt; CAP_ALLOW, 'editingteacher' =&gt; CAP_ALLOW, 'coursecreator' =&gt; CAP_ALLOW, 'manager' =&gt; CAP_ALLOW </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>success or failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2ee0db8e1df405276a842a346d7b76a3" name="ga2ee0db8e1df405276a842a346d7b76a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ee0db8e1df405276a842a346d7b76a3">&#9670;&nbsp;</a></span>build_all_paths()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::build_all_paths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$force</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuild paths and depths in all context levels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$force</td><td>false means add missing only </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga17e24ca1d4a8bfce7b3b411a94d4240c" name="ga17e24ca1d4a8bfce7b3b411a94d4240c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17e24ca1d4a8bfce7b3b411a94d4240c">&#9670;&nbsp;</a></span>build_paths() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::build_paths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$force</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuild context paths and depths at context level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$force</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#gadb359c9d9370d86b0da062aee125e503">context_system</a>, <a class="el" href="../../da/d16/group__core__access.html#ga3fb0994c79cd54035ced70830c1f13e5">context_user</a>, <a class="el" href="../../da/d16/group__core__access.html#gae556a7c92d86606540e7c9568bb93435">context_coursecat</a>, <a class="el" href="../../da/d16/group__core__access.html#ga447e1608945bb5a174cd074c6b0d2c0f">context_course</a>, and <a class="el" href="../../da/d16/group__core__access.html#ga9a8e52d828aa82c3f1f0a7169a312abf">context_module</a>.</p>

</div>
</div>
<a id="gadb359c9d9370d86b0da062aee125e503" name="gadb359c9d9370d86b0da062aee125e503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb359c9d9370d86b0da062aee125e503">&#9670;&nbsp;</a></span>build_paths() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_system::build_paths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$force</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuild context paths and depths at system context level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$force</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga17e24ca1d4a8bfce7b3b411a94d4240c">context</a>.</p>

</div>
</div>
<a id="ga3fb0994c79cd54035ced70830c1f13e5" name="ga3fb0994c79cd54035ced70830c1f13e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3fb0994c79cd54035ced70830c1f13e5">&#9670;&nbsp;</a></span>build_paths() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_user::build_paths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$force</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuild context paths and depths at user context level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$force</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga17e24ca1d4a8bfce7b3b411a94d4240c">context</a>.</p>

</div>
</div>
<a id="gae556a7c92d86606540e7c9568bb93435" name="gae556a7c92d86606540e7c9568bb93435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae556a7c92d86606540e7c9568bb93435">&#9670;&nbsp;</a></span>build_paths() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_coursecat::build_paths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$force</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuild context paths and depths at course category context level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$force</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga17e24ca1d4a8bfce7b3b411a94d4240c">context</a>.</p>

</div>
</div>
<a id="ga447e1608945bb5a174cd074c6b0d2c0f" name="ga447e1608945bb5a174cd074c6b0d2c0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga447e1608945bb5a174cd074c6b0d2c0f">&#9670;&nbsp;</a></span>build_paths() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_course::build_paths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$force</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuild context paths and depths at course context level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$force</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga17e24ca1d4a8bfce7b3b411a94d4240c">context</a>.</p>

</div>
</div>
<a id="ga9a8e52d828aa82c3f1f0a7169a312abf" name="ga9a8e52d828aa82c3f1f0a7169a312abf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a8e52d828aa82c3f1f0a7169a312abf">&#9670;&nbsp;</a></span>build_paths() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_module::build_paths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$force</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuild context paths and depths at module context level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$force</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga17e24ca1d4a8bfce7b3b411a94d4240c">context</a>.</p>

</div>
</div>
<a id="ga5ef68df61fbf1cc7338e391378a8d6e5" name="ga5ef68df61fbf1cc7338e391378a8d6e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ef68df61fbf1cc7338e391378a8d6e5">&#9670;&nbsp;</a></span>cache_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::cache_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a context to the cache. </p>
<p >If the cache is full, discards a batch of older entries.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>New context to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabe91ef15cf1b06e98c16515bcd3473fe" name="gabe91ef15cf1b06e98c16515bcd3473fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe91ef15cf1b06e98c16515bcd3473fe">&#9670;&nbsp;</a></span>cache_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::cache_get </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextlevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a context from the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td>Context level </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$instance</td><td>Instance ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">context|bool</td><td>Context or false if not in cache </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1b13f79d6715e1239631152f53f935b7" name="ga1b13f79d6715e1239631152f53f935b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b13f79d6715e1239631152f53f935b7">&#9670;&nbsp;</a></span>cache_get_by_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::cache_get_by_id </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a context from the cache based on its id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>Context ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">context|bool</td><td>Context or false if not in cache </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabe799a6d13be6991adac4360cbd446ee" name="gabe799a6d13be6991adac4360cbd446ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe799a6d13be6991adac4360cbd446ee">&#9670;&nbsp;</a></span>cache_remove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::cache_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a context from the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>Context object to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad5c5c0f0093c4b085455c14c0c5c7fa4" name="gad5c5c0f0093c4b085455c14c0c5c7fa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5c5c0f0093c4b085455c14c0c5c7fa4">&#9670;&nbsp;</a></span>can_access_course()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">can_access_course </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$course</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$withcapability</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$onlyactive</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the user is able to access the course. </p>
<p >This function is in no way, shape, or form a substitute for require_login. It should only be used in circumstances where it is not possible to call require_login such as the navigation.</p>
<p >This function checks many of the methods of access to a course such as the view capability, enrollments, and guest access. It also makes use of the cache generated by require_login for guest access.</p>
<p >The flags within the $USER object that are used here should NEVER be used outside of this function can_access_course and require_login. Doing so WILL break future versions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$course</td><td>record </td></tr>
    <tr><td class="paramtype">stdClass&#160;|&#160;int&#160;|&#160;null</td><td class="paramname">$user</td><td>user record or id, current user if null </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$withcapability</td><td>Check for this capability as well. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$onlyactive</td><td>consider only active enrolments in enabled plugins and time restrictions </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>Returns true if the user is able to access the course </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga11ea59716c460bfc6fec265f3f27ae93" name="ga11ea59716c460bfc6fec265f3f27ae93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11ea59716c460bfc6fec265f3f27ae93">&#9670;&nbsp;</a></span>cleanup_instances()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::cleanup_instances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove stale contexts that belonged to deleted instances. </p>
<p >Ideally all code should cleanup contexts properly, unfortunately accidents happen...</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga73fb6f7b305131ff1d48fa08e020e187" name="ga73fb6f7b305131ff1d48fa08e020e187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73fb6f7b305131ff1d48fa08e020e187">&#9670;&nbsp;</a></span>component_level_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">component_level_changed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextlevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aids in detecting if a new line is required when reading a new capability. </p>
<p >This function helps admin/roles/manage.php etc to detect if a new line should be printed when we read in a new capability. Most of the time, if the 2 components are different we should print a new line, (e.g. course system-&gt;rss client) but when we are in grade, all reports/import/export capabilities should be together</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$cap</td><td>component string a </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$comp</td><td>component string b </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether 2 component are in different "sections" </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad3c8bcb840b64feaed9dd0da770246b1" name="gad3c8bcb840b64feaed9dd0da770246b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3c8bcb840b64feaed9dd0da770246b1">&#9670;&nbsp;</a></span>core_role_set_assign_allowed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_role_set_assign_allowed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fromroleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$targetroleid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a record in the role_allow_assign table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$fromroleid</td><td>source roleid </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$targetroleid</td><td>target roleid </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga328f41c9ebd5b1dc5c82afe17cb048b7" name="ga328f41c9ebd5b1dc5c82afe17cb048b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga328f41c9ebd5b1dc5c82afe17cb048b7">&#9670;&nbsp;</a></span>core_role_set_override_allowed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_role_set_override_allowed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fromroleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$targetroleid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a record in the role_allow_override table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$fromroleid</td><td>source roleid </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$targetroleid</td><td>target roleid </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad789a6560ddff7773934c2a2c2b6b2f5" name="gad789a6560ddff7773934c2a2c2b6b2f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad789a6560ddff7773934c2a2c2b6b2f5">&#9670;&nbsp;</a></span>core_role_set_switch_allowed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_role_set_switch_allowed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fromroleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$targetroleid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a record in the role_allow_switch table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$fromroleid</td><td>source roleid </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$targetroleid</td><td>target roleid </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga47bd0411f15fb14e5bf8d5794464e9fa" name="ga47bd0411f15fb14e5bf8d5794464e9fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47bd0411f15fb14e5bf8d5794464e9fa">&#9670;&nbsp;</a></span>core_role_set_view_allowed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core_role_set_view_allowed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fromroleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$targetroleid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a record in the role_allow_view table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$fromroleid</td><td>source roleid </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$targetroleid</td><td>target roleid </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1f467700c1117ca97f289cbedc83a3fd" name="ga1f467700c1117ca97f289cbedc83a3fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f467700c1117ca97f289cbedc83a3fd">&#9670;&nbsp;</a></span>count_role_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">count_role_users </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$parent</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counts all the users assigned this role in this context or higher. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;array</td><td class="paramname">$roleid</td><td>either int or an array of ints </td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$parent</td><td>if true, get list of users assigned in higher context too </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Returns the result count </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5b480172aa1660b81b23838bbe64c856" name="ga5b480172aa1660b81b23838bbe64c856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b480172aa1660b81b23838bbe64c856">&#9670;&nbsp;</a></span>create_instance_from_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::create_instance_from_record </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is also used to work around 'protected' keyword problems in <a class="el" href="../../df/dca/classcontext__helper.html">context_helper</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$record</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">context</td><td>instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaef18e7629b32305d521521fd11664670" name="gaef18e7629b32305d521521fd11664670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef18e7629b32305d521521fd11664670">&#9670;&nbsp;</a></span>create_instances()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::create_instances </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextlevel</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$buildpaths</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create all context instances at the given level and above. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td>null means all levels </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$buildpaths</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga770ca72b88ffe963cfb30d5c06724b7e" name="ga770ca72b88ffe963cfb30d5c06724b7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga770ca72b88ffe963cfb30d5c06724b7e">&#9670;&nbsp;</a></span>create_level_instances() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::create_level_instances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create missing context instances at given level. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#gaeb5110dcd69bc6634d6c6dcbd35cf14c">context_system</a>, <a class="el" href="../../da/d16/group__core__access.html#gaae5266dabd9932e859a54df6bb6f8778">context_user</a>, <a class="el" href="../../da/d16/group__core__access.html#ga6353e94d2a432880cfff75558a86e688">context_coursecat</a>, <a class="el" href="../../da/d16/group__core__access.html#gad8b67d35f3cdbc9716d1a508971f5f12">context_course</a>, and <a class="el" href="../../da/d16/group__core__access.html#ga538069ec9653dc04013284f6b006b897">context_module</a>.</p>

</div>
</div>
<a id="gaeb5110dcd69bc6634d6c6dcbd35cf14c" name="gaeb5110dcd69bc6634d6c6dcbd35cf14c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb5110dcd69bc6634d6c6dcbd35cf14c">&#9670;&nbsp;</a></span>create_level_instances() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_system::create_level_instances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create missing context instances at system context. </p>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga770ca72b88ffe963cfb30d5c06724b7e">context</a>.</p>

</div>
</div>
<a id="gaae5266dabd9932e859a54df6bb6f8778" name="gaae5266dabd9932e859a54df6bb6f8778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae5266dabd9932e859a54df6bb6f8778">&#9670;&nbsp;</a></span>create_level_instances() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_user::create_level_instances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create missing context instances at user context level. </p>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga770ca72b88ffe963cfb30d5c06724b7e">context</a>.</p>

</div>
</div>
<a id="ga6353e94d2a432880cfff75558a86e688" name="ga6353e94d2a432880cfff75558a86e688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6353e94d2a432880cfff75558a86e688">&#9670;&nbsp;</a></span>create_level_instances() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_coursecat::create_level_instances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create missing context instances at course category context level. </p>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga770ca72b88ffe963cfb30d5c06724b7e">context</a>.</p>

</div>
</div>
<a id="gad8b67d35f3cdbc9716d1a508971f5f12" name="gad8b67d35f3cdbc9716d1a508971f5f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad8b67d35f3cdbc9716d1a508971f5f12">&#9670;&nbsp;</a></span>create_level_instances() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_course::create_level_instances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create missing context instances at course context level. </p>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga770ca72b88ffe963cfb30d5c06724b7e">context</a>.</p>

</div>
</div>
<a id="ga538069ec9653dc04013284f6b006b897" name="ga538069ec9653dc04013284f6b006b897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga538069ec9653dc04013284f6b006b897">&#9670;&nbsp;</a></span>create_level_instances() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_module::create_level_instances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create missing context instances at module context level. </p>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga770ca72b88ffe963cfb30d5c06724b7e">context</a>.</p>

</div>
</div>
<a id="ga20f99c5e8f189803231f52e4e37ae1f8" name="ga20f99c5e8f189803231f52e4e37ae1f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20f99c5e8f189803231f52e4e37ae1f8">&#9670;&nbsp;</a></span>create_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_role </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$shortname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$description</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$archetype</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that creates a role. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>role name </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$shortname</td><td>role short name </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$description</td><td>role description </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$archetype</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>id or <a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga24121b1ff33ddc715fd158374d5e4a47" name="ga24121b1ff33ddc715fd158374d5e4a47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24121b1ff33ddc715fd158374d5e4a47">&#9670;&nbsp;</a></span>delete_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::delete_instance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextlevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$instanceid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete context instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$instanceid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga31f98de8b303947a9245a927602b56ec" name="ga31f98de8b303947a9245a927602b56ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31f98de8b303947a9245a927602b56ec">&#9670;&nbsp;</a></span>delete_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete_role </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that deletes a role and cleanups up after it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td>id of role to delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>always true </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1b916e8e765a9e7a808e41ceb536b9fc" name="ga1b916e8e765a9e7a808e41ceb536b9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b916e8e765a9e7a808e41ceb536b9fc">&#9670;&nbsp;</a></span>fix_role_sortorder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fix_role_sortorder </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$allroles</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fix the roles.sortorder field in the database, so it contains sequential integers, and return an array of roleids in order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$allroles</td><td>array of roles, as returned by <a class="el" href="../../da/d16/group__core__access.html#gab826913ef6aa23566fc9cc49b3cb8b90" title="Returns all site roles in correct sort order.">get_all_roles()</a>; </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array::$role-,&gt;sortorder</td><td>=-&gt; $role-&gt;id with the keys in ascending order. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab7d3fa115f042eee7d883ea8909547d9" name="gab7d3fa115f042eee7d883ea8909547d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7d3fa115f042eee7d883ea8909547d9">&#9670;&nbsp;</a></span>get_all_capabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_all_capabilities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all capabilitiy records, preferably from MUC and not database. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>All capability records indexed by capability name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga533d1f33328baa229ae531489b02c117" name="ga533d1f33328baa229ae531489b02c117"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga533d1f33328baa229ae531489b02c117">&#9670;&nbsp;</a></span>get_all_levels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::get_all_levels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of all context levels. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>int=&gt;string (level=&gt;level class name) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4da976b4aa3c72c607ab4560a9add05b" name="ga4da976b4aa3c72c607ab4560a9add05b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4da976b4aa3c72c607ab4560a9add05b">&#9670;&nbsp;</a></span>get_all_risks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_all_risks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an array of all the known types of risk The array keys can be used, for example as CSS class names, or in calls to print_risk_icon. </p>
<p >The values are the corresponding RISK_ constants.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>all the known types of risk. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab826913ef6aa23566fc9cc49b3cb8b90" name="gab826913ef6aa23566fc9cc49b3cb8b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab826913ef6aa23566fc9cc49b3cb8b90">&#9670;&nbsp;</a></span>get_all_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_all_roles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all site roles in correct sort order. </p>
<p >Note: this method does not localise role names or descriptions, use <a class="el" href="../../da/d16/group__core__access.html#gadf5d6be413bc83b11f1a7842ab34b2bf" title="Get all the localised role names for a context.">role_get_names()</a> if you need role names.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>optional context for course role name aliases </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of role records with optional coursealias property </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad2492b6ae94d98c374a171bd0fd81eb8" name="gad2492b6ae94d98c374a171bd0fd81eb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2492b6ae94d98c374a171bd0fd81eb8">&#9670;&nbsp;</a></span>get_archetype_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_archetype_roles </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$archetype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns roles of a specified archetype. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$archetype</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of full role records </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga742db860b11ecedf56f83185b61d26eb" name="ga742db860b11ecedf56f83185b61d26eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga742db860b11ecedf56f83185b61d26eb">&#9670;&nbsp;</a></span>get_assignable_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_assignable_roles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rolenamedisplay</em> = <code><a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$withusercounts</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a list of roles that this user can assign in this context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>the context. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$rolenamedisplay</td><td>the type of role name to display. One of the ROLENAME_X constants. Default ROLENAME_ALIAS. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$withusercounts</td><td>if true, count the number of users with each role. </td></tr>
    <tr><td class="paramtype">integer&#160;|&#160;object</td><td class="paramname">$user</td><td>A user id or object. By default (null) checks the permissions of the current user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>if $withusercounts is false, then an array $roleid =&gt; $rolename. if $withusercounts is true, returns a list of three arrays, $rolenames, $rolecounts, and $nameswithcounts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac22614cf57e446e5e886054378f986ee" name="gac22614cf57e446e5e886054378f986ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac22614cf57e446e5e886054378f986ee">&#9670;&nbsp;</a></span>get_capabilities() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">context::get_capabilities </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>self::DEFAULT_CAPABILITY_SORT</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns array of relevant context capability records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>SQL order by snippet for sorting returned capabilities sensibly for display </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#ga563e1e3efee19f76b7f45db9e2fc5502">context_helper</a>, <a class="el" href="../../da/d16/group__core__access.html#ga93cdce2937022f36b1e8762d6c359aca">context_system</a>, <a class="el" href="../../da/d16/group__core__access.html#ga56007cd82fde361a8caa13b2b8fe3699">context_user</a>, <a class="el" href="../../da/d16/group__core__access.html#ga25de4a2fb5ade2e4cdff5211cb4c2552">context_coursecat</a>, <a class="el" href="../../da/d16/group__core__access.html#ga9ffc92b390f97543d248b71a130114b3">context_course</a>, and <a class="el" href="../../da/d16/group__core__access.html#ga87c776bc1db391105820af71dca765d4">context_module</a>.</p>

</div>
</div>
<a id="ga563e1e3efee19f76b7f45db9e2fc5502" name="ga563e1e3efee19f76b7f45db9e2fc5502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga563e1e3efee19f76b7f45db9e2fc5502">&#9670;&nbsp;</a></span>get_capabilities() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_helper::get_capabilities </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>self::DEFAULT_CAPABILITY_SORT</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>not used </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#gac22614cf57e446e5e886054378f986ee">context</a>.</p>

</div>
</div>
<a id="ga93cdce2937022f36b1e8762d6c359aca" name="ga93cdce2937022f36b1e8762d6c359aca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93cdce2937022f36b1e8762d6c359aca">&#9670;&nbsp;</a></span>get_capabilities() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_system::get_capabilities </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>self::DEFAULT_CAPABILITY_SORT</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns array of relevant context capability records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#gac22614cf57e446e5e886054378f986ee">context</a>.</p>

</div>
</div>
<a id="ga56007cd82fde361a8caa13b2b8fe3699" name="ga56007cd82fde361a8caa13b2b8fe3699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56007cd82fde361a8caa13b2b8fe3699">&#9670;&nbsp;</a></span>get_capabilities() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_user::get_capabilities </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>self::DEFAULT_CAPABILITY_SORT</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns array of relevant context capability records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#gac22614cf57e446e5e886054378f986ee">context</a>.</p>

</div>
</div>
<a id="ga25de4a2fb5ade2e4cdff5211cb4c2552" name="ga25de4a2fb5ade2e4cdff5211cb4c2552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25de4a2fb5ade2e4cdff5211cb4c2552">&#9670;&nbsp;</a></span>get_capabilities() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_coursecat::get_capabilities </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>self::DEFAULT_CAPABILITY_SORT</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns array of relevant context capability records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#gac22614cf57e446e5e886054378f986ee">context</a>.</p>

</div>
</div>
<a id="ga9ffc92b390f97543d248b71a130114b3" name="ga9ffc92b390f97543d248b71a130114b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ffc92b390f97543d248b71a130114b3">&#9670;&nbsp;</a></span>get_capabilities() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_course::get_capabilities </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>self::DEFAULT_CAPABILITY_SORT</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns array of relevant context capability records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#gac22614cf57e446e5e886054378f986ee">context</a>.</p>

</div>
</div>
<a id="ga87c776bc1db391105820af71dca765d4" name="ga87c776bc1db391105820af71dca765d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga87c776bc1db391105820af71dca765d4">&#9670;&nbsp;</a></span>get_capabilities() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_module::get_capabilities </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>self::DEFAULT_CAPABILITY_SORT</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns array of relevant context capability records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#gac22614cf57e446e5e886054378f986ee">context</a>.</p>

</div>
</div>
<a id="ga854ed4600b36dc8377d9bcbdc5a95907" name="ga854ed4600b36dc8377d9bcbdc5a95907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga854ed4600b36dc8377d9bcbdc5a95907">&#9670;&nbsp;</a></span>get_capabilities_from_role_on_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_capabilities_from_role_on_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all capabilities for this role on this context (overrides) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$role</td><td></td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4bbfc4b637693b92528151ccfcd8748e" name="ga4bbfc4b637693b92528151ccfcd8748e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4bbfc4b637693b92528151ccfcd8748e">&#9670;&nbsp;</a></span>get_capability_docs_link()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_capability_docs_link </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a link to moodle docs for a given capability name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$capability</td><td>a capability - a row from the mdl_capabilities table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human-readable capability name as a link to <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> Docs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga517737effe562e088ce605a695920368" name="ga517737effe562e088ce605a695920368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga517737effe562e088ce605a695920368">&#9670;&nbsp;</a></span>get_capability_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_capability_info </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capabilityname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns capability information (cached) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$capabilityname</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>or null if capability not found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga058d59768f0c61d69433aa58dfe5831f" name="ga058d59768f0c61d69433aa58dfe5831f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga058d59768f0c61d69433aa58dfe5831f">&#9670;&nbsp;</a></span>get_capability_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_capability_string </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capabilityname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the human-readable, translated version of the capability. </p>
<p >Basically a big switch statement.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$capabilityname</td><td>e.g. mod/choice:readresponses </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac40065839e60b6076a30c799aad95053" name="gac40065839e60b6076a30c799aad95053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac40065839e60b6076a30c799aad95053">&#9670;&nbsp;</a></span>get_child_contexts() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::get_child_contexts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recursive function which, given a context, find all its children context ids. </p>
<p >For course category contexts it will return immediate children and all subcategory contexts. It will NOT recurse into courses or subcategories categories. If you want to do that, call it on the returned courses/categories.</p>
<p >When called for a course context, it will return the modules and blocks displayed in the course page and blocks displayed on the module pages.</p>
<p >If called on a user/course/module context it <em>will</em> populate the cache with the appropriate contexts ;-)</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array of child records </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#gaecd5ebb3034f0d38f12b142e5c27a1b4">context_system</a>, and <a class="el" href="../../da/d16/group__core__access.html#ga19206873119790dbe90dc5e34b73ead3">context_coursecat</a>.</p>

</div>
</div>
<a id="gaecd5ebb3034f0d38f12b142e5c27a1b4" name="gaecd5ebb3034f0d38f12b142e5c27a1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecd5ebb3034f0d38f12b142e5c27a1b4">&#9670;&nbsp;</a></span>get_child_contexts() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_system::get_child_contexts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all site contexts except the system context, DO NOT call on production servers!! </p>
<p >Contexts are not cached.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#gac40065839e60b6076a30c799aad95053">context</a>.</p>

</div>
</div>
<a id="ga19206873119790dbe90dc5e34b73ead3" name="ga19206873119790dbe90dc5e34b73ead3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19206873119790dbe90dc5e34b73ead3">&#9670;&nbsp;</a></span>get_child_contexts() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_coursecat::get_child_contexts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns immediate child contexts of category and all subcategories, children of subcategories and courses are not returned. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#gac40065839e60b6076a30c799aad95053">context</a>.</p>

</div>
</div>
<a id="ga75746a705b9a3f5c727f5de73a1e7650" name="ga75746a705b9a3f5c727f5de73a1e7650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga75746a705b9a3f5c727f5de73a1e7650">&#9670;&nbsp;</a></span>get_class_for_level()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::get_class_for_level </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextlevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a class name of the context level class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td>(CONTEXT_SYSTEM, etc.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>class name of the context class </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8bbd293f5a42de2580207e22b4149b6c" name="ga8bbd293f5a42de2580207e22b4149b6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8bbd293f5a42de2580207e22b4149b6c">&#9670;&nbsp;</a></span>get_cleanup_sql() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::get_cleanup_sql </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns sql necessary for purging of stale context instances. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>cleanup SQL </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#gaa61f4cd123d1860bce0c9ef695fe7218">context_system</a>, <a class="el" href="../../da/d16/group__core__access.html#ga0a62f8feb4daa579856c5fff4e4e092a">context_user</a>, <a class="el" href="../../da/d16/group__core__access.html#ga30ef4ee9e706a1c4b0f12ddf28c99903">context_coursecat</a>, <a class="el" href="../../da/d16/group__core__access.html#ga78241b8009b5383c0505dc44cf049ab0">context_course</a>, and <a class="el" href="../../da/d16/group__core__access.html#ga220eeadbd5a056c2e6780272733192a2">context_module</a>.</p>

</div>
</div>
<a id="gaa61f4cd123d1860bce0c9ef695fe7218" name="gaa61f4cd123d1860bce0c9ef695fe7218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa61f4cd123d1860bce0c9ef695fe7218">&#9670;&nbsp;</a></span>get_cleanup_sql() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_system::get_cleanup_sql </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns sql necessary for purging of stale context instances. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>cleanup SQL </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga8bbd293f5a42de2580207e22b4149b6c">context</a>.</p>

</div>
</div>
<a id="ga0a62f8feb4daa579856c5fff4e4e092a" name="ga0a62f8feb4daa579856c5fff4e4e092a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a62f8feb4daa579856c5fff4e4e092a">&#9670;&nbsp;</a></span>get_cleanup_sql() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_user::get_cleanup_sql </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns sql necessary for purging of stale context instances. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>cleanup SQL </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga8bbd293f5a42de2580207e22b4149b6c">context</a>.</p>

</div>
</div>
<a id="ga30ef4ee9e706a1c4b0f12ddf28c99903" name="ga30ef4ee9e706a1c4b0f12ddf28c99903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga30ef4ee9e706a1c4b0f12ddf28c99903">&#9670;&nbsp;</a></span>get_cleanup_sql() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_coursecat::get_cleanup_sql </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns sql necessary for purging of stale context instances. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>cleanup SQL </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga8bbd293f5a42de2580207e22b4149b6c">context</a>.</p>

</div>
</div>
<a id="ga78241b8009b5383c0505dc44cf049ab0" name="ga78241b8009b5383c0505dc44cf049ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78241b8009b5383c0505dc44cf049ab0">&#9670;&nbsp;</a></span>get_cleanup_sql() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_course::get_cleanup_sql </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns sql necessary for purging of stale context instances. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>cleanup SQL </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga8bbd293f5a42de2580207e22b4149b6c">context</a>.</p>

</div>
</div>
<a id="ga220eeadbd5a056c2e6780272733192a2" name="ga220eeadbd5a056c2e6780272733192a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga220eeadbd5a056c2e6780272733192a2">&#9670;&nbsp;</a></span>get_cleanup_sql() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_module::get_cleanup_sql </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns sql necessary for purging of stale context instances. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>cleanup SQL </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga8bbd293f5a42de2580207e22b4149b6c">context</a>.</p>

</div>
</div>
<a id="ga4059ae8da018cd7274be3a48433dfaee" name="ga4059ae8da018cd7274be3a48433dfaee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4059ae8da018cd7274be3a48433dfaee">&#9670;&nbsp;</a></span>get_component_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_component_string </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextlevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This gets the mod/block/course/core etc strings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string|bool</td><td>String is success, false if failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0ddcaac5f93ff61388ed9c9cc791ad18" name="ga0ddcaac5f93ff61388ed9c9cc791ad18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ddcaac5f93ff61388ed9c9cc791ad18">&#9670;&nbsp;</a></span>get_context_info_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_context_info_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns context instance plus related course and cm instances. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of ($context, $course, $cm) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3384c80281e2f83320b1a520ec8c9734" name="ga3384c80281e2f83320b1a520ec8c9734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3384c80281e2f83320b1a520ec8c9734">&#9670;&nbsp;</a></span>get_context_name() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::get_context_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$withprefix</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$short</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$escape</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns human readable context identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$withprefix</td><td>whether to prefix the name of the context with the type of context, e.g. User, Course, Forum, etc. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$short</td><td>whether to use the short name of the thing. Only applies to course contexts </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$escape</td><td>Whether the returned name of the thing is to be HTML escaped or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#ga28d0881f2874a69ea6d078a8627a9e3c">context_system</a>, <a class="el" href="../../da/d16/group__core__access.html#ga2827450b96bb762c8d76dcbd30c86da3">context_user</a>, <a class="el" href="../../da/d16/group__core__access.html#gac8c6cb873aa12f64e3490c8a3654b358">context_coursecat</a>, <a class="el" href="../../da/d16/group__core__access.html#gac34729ea8eb8fb249b2af82e30fd81e4">context_course</a>, and <a class="el" href="../../da/d16/group__core__access.html#ga61961cfb15b3e8a0a7fad3d559ea6aed">context_module</a>.</p>

</div>
</div>
<a id="ga28d0881f2874a69ea6d078a8627a9e3c" name="ga28d0881f2874a69ea6d078a8627a9e3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28d0881f2874a69ea6d078a8627a9e3c">&#9670;&nbsp;</a></span>get_context_name() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_system::get_context_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$withprefix</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$short</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$escape</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns human readable context identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$withprefix</td><td>does not apply to system context </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$short</td><td>does not apply to system context </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$escape</td><td>does not apply to system context </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga3384c80281e2f83320b1a520ec8c9734">context</a>.</p>

</div>
</div>
<a id="ga2827450b96bb762c8d76dcbd30c86da3" name="ga2827450b96bb762c8d76dcbd30c86da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2827450b96bb762c8d76dcbd30c86da3">&#9670;&nbsp;</a></span>get_context_name() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_user::get_context_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$withprefix</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$short</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$escape</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns human readable context identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$withprefix</td><td>whether to prefix the name of the context with User </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$short</td><td>does not apply to user context </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$escape</td><td>does not apply to user context </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga3384c80281e2f83320b1a520ec8c9734">context</a>.</p>

</div>
</div>
<a id="gac8c6cb873aa12f64e3490c8a3654b358" name="gac8c6cb873aa12f64e3490c8a3654b358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8c6cb873aa12f64e3490c8a3654b358">&#9670;&nbsp;</a></span>get_context_name() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_coursecat::get_context_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$withprefix</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$short</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$escape</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns human readable context identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$withprefix</td><td>whether to prefix the name of the context with Category </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$short</td><td>does not apply to course categories </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$escape</td><td>Whether the returned name of the context is to be HTML escaped or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga3384c80281e2f83320b1a520ec8c9734">context</a>.</p>

</div>
</div>
<a id="gac34729ea8eb8fb249b2af82e30fd81e4" name="gac34729ea8eb8fb249b2af82e30fd81e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac34729ea8eb8fb249b2af82e30fd81e4">&#9670;&nbsp;</a></span>get_context_name() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_course::get_context_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$withprefix</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$short</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$escape</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns human readable context identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$withprefix</td><td>whether to prefix the name of the context with Course </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$short</td><td>whether to use the short name of the thing. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$escape</td><td>Whether the returned category name is to be HTML escaped or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga3384c80281e2f83320b1a520ec8c9734">context</a>.</p>

</div>
</div>
<a id="ga61961cfb15b3e8a0a7fad3d559ea6aed" name="ga61961cfb15b3e8a0a7fad3d559ea6aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61961cfb15b3e8a0a7fad3d559ea6aed">&#9670;&nbsp;</a></span>get_context_name() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_module::get_context_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$withprefix</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$short</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$escape</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns human readable context identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$withprefix</td><td>whether to prefix the name of the context with the module name, e.g. Forum, Glossary, etc. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$short</td><td>does not apply to module context </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$escape</td><td>Whether the returned name of the context is to be HTML escaped or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context name. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga3384c80281e2f83320b1a520ec8c9734">context</a>.</p>

</div>
</div>
<a id="ga92c7ec941fec2764edccd8add39f1c90" name="ga92c7ec941fec2764edccd8add39f1c90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92c7ec941fec2764edccd8add39f1c90">&#9670;&nbsp;</a></span>get_course_context() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::get_course_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$strict</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this context part of any course? If yes return course context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$strict</td><td>true means throw exception if not found, false means return false if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a></td><td>context of the enclosing course, null if not found or exception </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#ga5b4564369472332426787067382c76e8">context_course</a>, and <a class="el" href="../../da/d16/group__core__access.html#ga39cd271653e907497193fa2f91448b9d">context_module</a>.</p>

</div>
</div>
<a id="ga5b4564369472332426787067382c76e8" name="ga5b4564369472332426787067382c76e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b4564369472332426787067382c76e8">&#9670;&nbsp;</a></span>get_course_context() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_course::get_course_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$strict</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this context part of any course? If yes return course context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$strict</td><td>true means throw exception if not found, false means return false if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a></td><td>context of the enclosing course, null if not found or exception </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga92c7ec941fec2764edccd8add39f1c90">context</a>.</p>

</div>
</div>
<a id="ga39cd271653e907497193fa2f91448b9d" name="ga39cd271653e907497193fa2f91448b9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39cd271653e907497193fa2f91448b9d">&#9670;&nbsp;</a></span>get_course_context() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_module::get_course_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$strict</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this context part of any course? If yes return course context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$strict</td><td>true means throw exception if not found, false means return false if not found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a></td><td>context of the enclosing course, null if not found or exception </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga92c7ec941fec2764edccd8add39f1c90">context</a>.</p>

</div>
</div>
<a id="ga60062476167ca8b21387c7f1ca54e52f" name="ga60062476167ca8b21387c7f1ca54e52f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60062476167ca8b21387c7f1ca54e52f">&#9670;&nbsp;</a></span>get_default_capabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_default_capabilities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$archetype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns default capabilities for given role archetype. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$archetype</td><td>role archetype </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga375fe15fa1a778d7e3a81de7115b69a2" name="ga375fe15fa1a778d7e3a81de7115b69a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga375fe15fa1a778d7e3a81de7115b69a2">&#9670;&nbsp;</a></span>get_default_contextlevels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_default_contextlevels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rolearchetype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns default context levels where roles can be assigned. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$rolearchetype</td><td>one of the role archetypes - that is, one of the keys from the array returned by <a class="el" href="../../da/d16/group__core__access.html#ga4b3a6778d7d7292ee7fee13caa11410f" title="Returns array of all role archetypes.">get_role_archetypes()</a>; </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>list of the context levels at which this type of role may be assigned by default. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae06c72d126b730c50a297cfd258c8333" name="gae06c72d126b730c50a297cfd258c8333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae06c72d126b730c50a297cfd258c8333">&#9670;&nbsp;</a></span>get_default_role_archetype_allows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_default_role_archetype_allows </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$archetype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return default roles that can be assigned, overridden or switched by give role archetype. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>assign|override|switch|view </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$archetype</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of role ids </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab59a0e62fc226a4952602ed064d3c5ef" name="gab59a0e62fc226a4952602ed064d3c5ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab59a0e62fc226a4952602ed064d3c5ef">&#9670;&nbsp;</a></span>get_guest_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_guest_role </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the default guest role, this is used for guest account, search engine spiders, etc. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>role record </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf36917f5ef4e5d8df2e676f421d2355b" name="gaf36917f5ef4e5d8df2e676f421d2355b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf36917f5ef4e5d8df2e676f421d2355b">&#9670;&nbsp;</a></span>get_level_name() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::get_level_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextlevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the name of specified context level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>name of the context level </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaff7f0a2fa12e246f8d21c28990cedc76" name="gaff7f0a2fa12e246f8d21c28990cedc76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff7f0a2fa12e246f8d21c28990cedc76">&#9670;&nbsp;</a></span>get_level_name() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_system::get_level_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns human readable context level name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context level name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga27b4a199e9f5cc2d0fc20d22b89a3e70" name="ga27b4a199e9f5cc2d0fc20d22b89a3e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27b4a199e9f5cc2d0fc20d22b89a3e70">&#9670;&nbsp;</a></span>get_level_name() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_user::get_level_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns human readable context level name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context level name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4266c1fa68c3393ebf031b6d2f9e14a6" name="ga4266c1fa68c3393ebf031b6d2f9e14a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4266c1fa68c3393ebf031b6d2f9e14a6">&#9670;&nbsp;</a></span>get_level_name() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_coursecat::get_level_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns human readable context level name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context level name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadf0fd8646c1e166379e66354fe333bb9" name="gadf0fd8646c1e166379e66354fe333bb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadf0fd8646c1e166379e66354fe333bb9">&#9670;&nbsp;</a></span>get_level_name() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_course::get_level_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns human readable context level name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context level name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga26961bc6479d8cea6eced4994d05dd96" name="ga26961bc6479d8cea6eced4994d05dd96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26961bc6479d8cea6eced4994d05dd96">&#9670;&nbsp;</a></span>get_level_name() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_module::get_level_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns human readable context level name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the human readable context level name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab25141a38b80146bc4c36c8837547897" name="gab25141a38b80146bc4c36c8837547897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab25141a38b80146bc4c36c8837547897">&#9670;&nbsp;</a></span>get_local_override()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_local_override </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the local override (if any) for a given capability in a role in a context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$capability</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>local capability override </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0aba898634cb299be489b7475c602111" name="ga0aba898634cb299be489b7475c602111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0aba898634cb299be489b7475c602111">&#9670;&nbsp;</a></span>get_navigation_filter_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::get_navigation_filter_context </td>
          <td>(</td>
          <td class="paramtype">?<a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current context to be used for navigation tree filtering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context&#160;|&#160;null</td><td class="paramname">$context</td><td>The current context to be checked against. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">context|null</td><td>the context that navigation tree filtering should use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabfe471980560b88a19dc699f4d051516" name="gabfe471980560b88a19dc699f4d051516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabfe471980560b88a19dc699f4d051516">&#9670;&nbsp;</a></span>get_overridable_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_overridable_roles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rolenamedisplay</em> = <code><a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$withcounts</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a list of roles that this user can override in this context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>the context. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$rolenamedisplay</td><td>the type of role name to display. One of the ROLENAME_X constants. Default ROLENAME_ALIAS. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$withcounts</td><td>if true, count the number of overrides that are set for each role. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>if $withcounts is false, then an array $roleid =&gt; $rolename. if $withusercounts is true, returns a list of three arrays, $rolenames, $rolecounts, and $nameswithcounts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac376e41d0d0dff3b54bf23bf44f95806" name="gac376e41d0d0dff3b54bf23bf44f95806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac376e41d0d0dff3b54bf23bf44f95806">&#9670;&nbsp;</a></span>get_parent_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::get_parent_context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns parent context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">context</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga52c1b47f40cc198ca316d9f57df94d3f" name="ga52c1b47f40cc198ca316d9f57df94d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52c1b47f40cc198ca316d9f57df94d3f">&#9670;&nbsp;</a></span>get_parent_context_ids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::get_parent_context_ids </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$includeself</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns parent context ids of this context in reversed order, i.e. </p>
<p >parent first, then grand parent, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$includeself</td><td>true means include self too </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of context ids </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8210ef526af464477d28b81e26ad6175" name="ga8210ef526af464477d28b81e26ad6175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8210ef526af464477d28b81e26ad6175">&#9670;&nbsp;</a></span>get_parent_context_paths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::get_parent_context_paths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$includeself</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns parent context paths of this context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$includeself</td><td>true means include self too </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of context paths </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8136f649a95ea87282923fde4b917ce8" name="ga8136f649a95ea87282923fde4b917ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8136f649a95ea87282923fde4b917ce8">&#9670;&nbsp;</a></span>get_parent_contexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::get_parent_contexts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$includeself</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns parent contexts of this context in reversed order, i.e. </p>
<p >parent first, then grand parent, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$includeself</td><td>true means include self too </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of context instances </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab0347266737df19842b3744ee9df983a" name="gab0347266737df19842b3744ee9df983a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab0347266737df19842b3744ee9df983a">&#9670;&nbsp;</a></span>get_preload_record_columns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::get_preload_record_columns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tablealias</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns all fields necessary for context preloading from user $rec. </p>
<p >This helps with performance when dealing with hundreds of contexts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tablealias</td><td>context table alias in the query </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>(table.column=&gt;alias, ...) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga452fd467350ce8a4b2c5ba9a63804a75" name="ga452fd467350ce8a4b2c5ba9a63804a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga452fd467350ce8a4b2c5ba9a63804a75">&#9670;&nbsp;</a></span>get_preload_record_columns_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::get_preload_record_columns_sql </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tablealias</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns all fields necessary for context preloading from user $rec. </p>
<p >This helps with performance when dealing with hundreds of contexts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tablealias</td><td>context table alias in the query </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9c63ee2636ff556a822992b8a031f9e4" name="ga9c63ee2636ff556a822992b8a031f9e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c63ee2636ff556a822992b8a031f9e4">&#9670;&nbsp;</a></span>get_profile_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_profile_roles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the list of roles assigned to this context and up (parents) from the aggregation of: a) the list of roles that are visible on user profile page and participants page (profileroles setting) and; b) if applicable, those roles that are assigned in the context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4b3a6778d7d7292ee7fee13caa11410f" name="ga4b3a6778d7d7292ee7fee13caa11410f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4b3a6778d7d7292ee7fee13caa11410f">&#9670;&nbsp;</a></span>get_role_archetypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_role_archetypes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns array of all role archetypes. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa22b5be5494ae6bc9c32085891f677d0" name="gaa22b5be5494ae6bc9c32085891f677d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa22b5be5494ae6bc9c32085891f677d0">&#9670;&nbsp;</a></span>get_role_contextlevels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_role_contextlevels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return context levels where this role is assignable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$roleid</td><td>the id of a role. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>list of the context levels at which this role may be assigned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae6f9384510b05dcbc81447619fee407b" name="gae6f9384510b05dcbc81447619fee407b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6f9384510b05dcbc81447619fee407b">&#9670;&nbsp;</a></span>get_role_definitions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_role_definitions </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$roleids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch raw "site wide" role definitions. </p>
<p >Even MUC static acceleration cache appears a bit slow for this. Important as can be hit hundreds of times per page.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$roleids</td><td>List of role ids to fetch definitions for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Complete definition for each requested role. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6968eb16a1953af54144833c2131e9a0" name="ga6968eb16a1953af54144833c2131e9a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6968eb16a1953af54144833c2131e9a0">&#9670;&nbsp;</a></span>get_role_definitions_uncached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_role_definitions_uncached </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$roleids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query raw "site wide" role definitions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$roleids</td><td>List of role ids to fetch definitions for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Complete definition for each requested role. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae4bfb489377303d064575ffa0756a5f3" name="gae4bfb489377303d064575ffa0756a5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4bfb489377303d064575ffa0756a5f3">&#9670;&nbsp;</a></span>get_role_names_with_caps_in_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_role_names_with_caps_in_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capabilities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an array of role names that have ALL of the the supplied capabilities Uses <a class="el" href="../../da/d16/group__core__access.html#ga6418f9879fe9d13aaa87e1950eaee3a5" title="Returns an array of role IDs that have ALL of the the supplied capabilities Uses get_roles_with_cap_i...">get_roles_with_caps_in_context()</a>. </p>
<p >Returns $allowed minus $forbidden</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$capabilities</td><td>An array of capabilities </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of roles with all of the required capabilities </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1eb64f68288f6d8d04fb1ce3cf0f5798" name="ga1eb64f68288f6d8d04fb1ce3cf0f5798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1eb64f68288f6d8d04fb1ce3cf0f5798">&#9670;&nbsp;</a></span>get_role_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_role_users </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$parent</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fields</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$all</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$group</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extrawheretest</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$whereorsortparams</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all the users assigned this role in this context or higher. </p>
<p >Note that moodle is based on capabilities and it is usually better to check permissions than to check role ids as the capabilities system is more flexible. If you really need, you can to use this function but consider has_capability() as a possible substitute.</p>
<p >All $sort fields are added into $fields if not present there yet.</p>
<p >If $roleid is an array or is empty (all roles) you need to set $fields (and $sort by extension) params according to it, as the first field returned by the database should be unique (ra.id is the best candidate).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td>(can also be an array of ints!) </td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$parent</td><td>if true, get list of users assigned in higher context too </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>fields from user (u.) , role assignment (ra) or role (r.) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>sort from user (u.) , role assignment (ra.) or role (r.). null =&gt; use default sort from users_order_by_sql. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$all</td><td>true means all, false means limit to enrolled users </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$group</td><td>defaults to '' </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$limitfrom</td><td>defaults to '' </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$limitnum</td><td>defaults to '' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$extrawheretest</td><td>defaults to '' </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$whereorsortparams</td><td>any paramter values used by $sort or $extrawheretest. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadbe0f7b472391ae7f0e0f9ec44f81408" name="gadbe0f7b472391ae7f0e0f9ec44f81408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadbe0f7b472391ae7f0e0f9ec44f81408">&#9670;&nbsp;</a></span>get_roles_for_contextlevels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_roles_for_contextlevels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextlevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return roles suitable for assignment at the specified context level. </p>
<p >NOTE: this function name looks like a typo, should be probably get_roles_for_contextlevel()</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$contextlevel</td><td>a contextlevel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>list of role ids that are assignable at this context level. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1098e905ef351f974bb6f36084230069" name="ga1098e905ef351f974bb6f36084230069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1098e905ef351f974bb6f36084230069">&#9670;&nbsp;</a></span>get_roles_used_in_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_roles_used_in_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$includeparents</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the list of roles assigned to this context and up (parents) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$includeparents,false</td><td>means without parents. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga03cc6680a53a24a80f501bf0059f062d" name="ga03cc6680a53a24a80f501bf0059f062d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03cc6680a53a24a80f501bf0059f062d">&#9670;&nbsp;</a></span>get_roles_with_cap_in_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_roles_with_cap_in_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns two lists, this can be used to find out if user has capability. </p>
<p >Having any needed role and no forbidden role in this context means user has this capability in this context. Use get_role_names_with_cap_in_context() if you need role names to display in the UI</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$capability</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array($neededroles,$forbiddenroles)</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga971eb3acfb63288c23b5b7fa5a7bf9d3" name="ga971eb3acfb63288c23b5b7fa5a7bf9d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga971eb3acfb63288c23b5b7fa5a7bf9d3">&#9670;&nbsp;</a></span>get_roles_with_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_roles_with_capability </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$permission</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$context</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the roles that have a given capability assigned to it. </p>
<p >This function does not resolve the actual permission of the capability. It just checks for permissions and overrides. Use <a class="el" href="../../da/d16/group__core__access.html#ga03cc6680a53a24a80f501bf0059f062d" title="Returns two lists, this can be used to find out if user has capability.">get_roles_with_cap_in_context()</a> if resolution is required.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$capability</td><td>capability name (string) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$permission</td><td>optional, the permission defined for this capability either CAP_ALLOW, CAP_PREVENT or CAP_PROHIBIT. Defaults to null which means any. </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$context</td><td>null means any </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of role records </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6418f9879fe9d13aaa87e1950eaee3a5" name="ga6418f9879fe9d13aaa87e1950eaee3a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6418f9879fe9d13aaa87e1950eaee3a5">&#9670;&nbsp;</a></span>get_roles_with_caps_in_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_roles_with_caps_in_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capabilities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an array of role IDs that have ALL of the the supplied capabilities Uses <a class="el" href="../../da/d16/group__core__access.html#ga03cc6680a53a24a80f501bf0059f062d" title="Returns two lists, this can be used to find out if user has capability.">get_roles_with_cap_in_context()</a>. </p>
<p >Returns $allowed minus $forbidden</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$capabilities</td><td>An array of capabilities </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of roles with all of the required capabilities </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9ec2ce1871d50a42a20441d94dfa30a1" name="ga9ec2ce1871d50a42a20441d94dfa30a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ec2ce1871d50a42a20441d94dfa30a1">&#9670;&nbsp;</a></span>get_roles_with_override_on_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_roles_with_override_on_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get any role that has an override on exact context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>The context to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of roles </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0802e1b7439f8766590563f7f63cd2ae" name="ga0802e1b7439f8766590563f7f63cd2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0802e1b7439f8766590563f7f63cd2ae">&#9670;&nbsp;</a></span>get_switchable_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_switchable_roles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rolenamedisplay</em> = <code><a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a list of roles that this user can switch to in a context. </p>
<p >Gets a list of roles that this user can switch to in a context, for the switchrole menu. This function just process the contents of the role_allow_switch table. You also need to test the moodle/role:switchroles to see if the user is allowed to switch in the first place.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>a context. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$rolenamedisplay</td><td>the type of role name to display. One of the ROLENAME_X constants. Default ROLENAME_ALIAS. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>an array $roleid =&gt; $rolename. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga01af2cab88c5836b2e1443faba07e7a0" name="ga01af2cab88c5836b2e1443faba07e7a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01af2cab88c5836b2e1443faba07e7a0">&#9670;&nbsp;</a></span>get_url() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">context::get_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the most relevant URL for this context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#ga5a45e7c218011110b3142193f3bd4ee7">context_helper</a>, <a class="el" href="../../da/d16/group__core__access.html#ga36023fb1bfcf3d7d3b697de33614454c">context_system</a>, <a class="el" href="../../da/d16/group__core__access.html#gafaa5a583b22c41a86c960cfc010afd6c">context_user</a>, <a class="el" href="../../da/d16/group__core__access.html#ga858514c73dd6875b97d758f926a45088">context_coursecat</a>, <a class="el" href="../../da/d16/group__core__access.html#gaa0038673afa9317b1ce58d042aa3deec">context_course</a>, and <a class="el" href="../../da/d16/group__core__access.html#ga61827cdc7f0a721dedfadfbc4f22bef2">context_module</a>.</p>

</div>
</div>
<a id="ga5a45e7c218011110b3142193f3bd4ee7" name="ga5a45e7c218011110b3142193f3bd4ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a45e7c218011110b3142193f3bd4ee7">&#9670;&nbsp;</a></span>get_url() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_helper::get_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>not used </p>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga01af2cab88c5836b2e1443faba07e7a0">context</a>.</p>

</div>
</div>
<a id="ga36023fb1bfcf3d7d3b697de33614454c" name="ga36023fb1bfcf3d7d3b697de33614454c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36023fb1bfcf3d7d3b697de33614454c">&#9670;&nbsp;</a></span>get_url() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_system::get_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the most relevant URL for this context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga01af2cab88c5836b2e1443faba07e7a0">context</a>.</p>

</div>
</div>
<a id="gafaa5a583b22c41a86c960cfc010afd6c" name="gafaa5a583b22c41a86c960cfc010afd6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafaa5a583b22c41a86c960cfc010afd6c">&#9670;&nbsp;</a></span>get_url() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_user::get_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the most relevant URL for this context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga01af2cab88c5836b2e1443faba07e7a0">context</a>.</p>

</div>
</div>
<a id="ga858514c73dd6875b97d758f926a45088" name="ga858514c73dd6875b97d758f926a45088"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga858514c73dd6875b97d758f926a45088">&#9670;&nbsp;</a></span>get_url() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_coursecat::get_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the most relevant URL for this context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga01af2cab88c5836b2e1443faba07e7a0">context</a>.</p>

</div>
</div>
<a id="gaa0038673afa9317b1ce58d042aa3deec" name="gaa0038673afa9317b1ce58d042aa3deec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0038673afa9317b1ce58d042aa3deec">&#9670;&nbsp;</a></span>get_url() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_course::get_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the most relevant URL for this context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga01af2cab88c5836b2e1443faba07e7a0">context</a>.</p>

</div>
</div>
<a id="ga61827cdc7f0a721dedfadfbc4f22bef2" name="ga61827cdc7f0a721dedfadfbc4f22bef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61827cdc7f0a721dedfadfbc4f22bef2">&#9670;&nbsp;</a></span>get_url() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_module::get_url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the most relevant URL for this context. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga01af2cab88c5836b2e1443faba07e7a0">context</a>.</p>

</div>
</div>
<a id="gafe0e63eb2ac64e2a09254bb166f96f2f" name="gafe0e63eb2ac64e2a09254bb166f96f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe0e63eb2ac64e2a09254bb166f96f2f">&#9670;&nbsp;</a></span>get_user_capability_contexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_user_capability_contexts </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$getcategories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$doanything</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$coursefieldsexceptid</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$categoryfieldsexceptid</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$courseorderby</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$categoryorderby</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limit</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets the list of course and course category contexts that this user has a particular capability in. </p>
<p >It is now reasonably efficient, but bear in mind that if there are users who have the capability everywhere, it may return an array of all contexts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$capability</td><td>Capability in question </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>User ID or null for current user </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$getcategories</td><td>Wether to return also course_categories </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$doanything</td><td>True if 'doanything' is permitted (default) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$coursefieldsexceptid</td><td>Leave blank if you only need 'id' in the course records; otherwise use a comma-separated list of the fields you require, not including id. Add ctxid, ctxpath, ctxdepth etc to return course context information for preloading. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$categoryfieldsexceptid</td><td>Leave blank if you only need 'id' in the course records; otherwise use a comma-separated list of the fields you require, not including id. Add ctxid, ctxpath, ctxdepth etc to return course context information for preloading. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$courseorderby</td><td>If set, use a comma-separated list of fields from course table with sql modifiers (DESC) if needed </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$categoryorderby</td><td>If set, use a comma-separated list of fields from course_category table with sql modifiers (DESC) if needed </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limit</td><td>Limit the number of courses to return on success. Zero equals all entries. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array of categories and courses. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1ffab498514c3891fe6fcfda0ad641f0" name="ga1ffab498514c3891fe6fcfda0ad641f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ffab498514c3891fe6fcfda0ad641f0">&#9670;&nbsp;</a></span>get_user_capability_course()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_user_capability_course </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$doanything</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fieldsexceptid</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$orderby</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limit</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets the list of courses that this user has a particular capability in. </p>
<p >It is now reasonably efficient, but bear in mind that if there are users who have the capability everywhere, it may return an array of all courses.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$capability</td><td>Capability in question </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>User ID or null for current user </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$doanything</td><td>True if 'doanything' is permitted (default) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fieldsexceptid</td><td>Leave blank if you only need 'id' in the course records; otherwise use a comma-separated list of the fields you require, not including id. Add ctxid, ctxpath, ctxdepth etc to return course context information for preloading. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$orderby</td><td>If set, use a comma-separated list of fields from course table with sql modifiers (DESC) if needed </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limit</td><td>Limit the number of courses to return on success. Zero equals all entries. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|bool</td><td>Array of courses, if none found false is returned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafc6bbc7f2d6c9cb12afebd6d37bfea50" name="gafc6bbc7f2d6c9cb12afebd6d37bfea50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc6bbc7f2d6c9cb12afebd6d37bfea50">&#9670;&nbsp;</a></span>get_user_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_user_roles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkparentcontexts</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$order</em> = <code>'c.contextlevel&#160;DESC</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">r.sortorder ASC'&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all the user roles assigned in this context, or higher contexts this is mainly used when checking if a user can assign a role, or overriding a role i.e. </p>
<p >we need to know what this user holds, in order to verify against allow_assign and allow_override tables</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$checkparentcontexts</td><td>defaults to true </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$order</td><td>defaults to 'c.contextlevel DESC, r.sortorder ASC' </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab21940a04b70f1613f850825397feea7" name="gab21940a04b70f1613f850825397feea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab21940a04b70f1613f850825397feea7">&#9670;&nbsp;</a></span>get_user_roles_in_course()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_user_roles_in_course </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$courseid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to print roles column in user profile page. </p>
<p >It is using the CFG-&gt;profileroles to limit the list to only interesting roles. (The permission tab has full details of user role assignments.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga55a22e0153a398bd2943325dd322005b" name="ga55a22e0153a398bd2943325dd322005b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55a22e0153a398bd2943325dd322005b">&#9670;&nbsp;</a></span>get_user_roles_with_special()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_user_roles_with_special </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Like get_user_roles, but adds in the authenticated user role, and the front page roles, if applicable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>the context. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>optional. Defaults to $USER-&gt;id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of objects with fields -&gt;userid, -&gt;contextid and -&gt;roleid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga66340c4f447ab44105bf8f56f709daa1" name="ga66340c4f447ab44105bf8f56f709daa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66340c4f447ab44105bf8f56f709daa1">&#9670;&nbsp;</a></span>get_users_by_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_users_by_capability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fields</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$groups</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$exceptions</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$notuseddoanything</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$notusedview</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$useviewallgroups</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Who has this capability in this context? </p>
<p >This can be a very expensive call - use sparingly and keep the results if you are going to need them again soon.</p>
<p >Note if $fields is empty this function attempts to get u.* which can get rather large - and has a serious perf impact on some DBs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$capability</td><td>- capability name(s) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fields</td><td>- fields to be pulled. The user table is aliased to 'u'. u.id MUST be included. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>- the sort order. Default is lastaccess time. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$limitfrom</td><td>- number of records to skip (offset) </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$limitnum</td><td>- number of records to fetch </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$groups</td><td>- single group or array of groups - only return users who are in one of these group(s). </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$exceptions</td><td>- list of users to exclude, comma separated or array </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$notuseddoanything</td><td>not used any more, admin accounts are never returned </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$notusedview</td><td>- use <a class="el" href="../../d0/de1/group__core.html#gae2dd5ac77396d40159c3ee293a4fcdb0" title="Returns array with sql code and parameters returning all ids of users enrolled into course.">get_enrolled_sql()</a> instead </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$useviewallgroups</td><td>if $groups is set the return users who have capability both $capability and moodle/site:accessallgroups in this context, as well as users who have $capability and who are in $groups. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of user records </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga78d3d59a76533ca0789088767056a5f9" name="ga78d3d59a76533ca0789088767056a5f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78d3d59a76533ca0789088767056a5f9">&#9670;&nbsp;</a></span>get_users_from_role_on_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_users_from_role_on_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find all user assignment of users for this role, on this context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$role</td><td></td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf8bdf3dbf1c6cd5f7cefc1a795481023" name="gaf8bdf3dbf1c6cd5f7cefc1a795481023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8bdf3dbf1c6cd5f7cefc1a795481023">&#9670;&nbsp;</a></span>get_users_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_users_roles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userids</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$checkparentcontexts</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$order</em> = <code>'c.contextlevel&#160;DESC</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">r.sortorder ASC'&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all the user roles assigned in this context, or higher contexts for a list of users. </p>
<p >If you try using the combination $userids = [], $checkparentcontexts = true then this is likely to cause an out-of-memory error on large <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> sites, so this combination is deprecated and outputs a warning, even though it is the default.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$userids,.</td><td>An empty list means fetch all role assignments for the context. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$checkparentcontexts</td><td>defaults to true </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$order</td><td>defaults to 'c.contextlevel DESC, r.sortorder ASC' </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaba0a6031f350c2f5e8d497f55f96e60e" name="gaba0a6031f350c2f5e8d497f55f96e60e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba0a6031f350c2f5e8d497f55f96e60e">&#9670;&nbsp;</a></span>get_viewable_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_viewable_roles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rolenamedisplay</em> = <code><a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a list of roles that this user can view in a context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>a context. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>id of user. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$rolenamedisplay</td><td>the type of role name to display. One of the ROLENAME_X constants. Default ROLENAME_ALIAS. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>an array $roleid =&gt; $rolename. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9af89dd558ccf4003da846a79795180d" name="ga9af89dd558ccf4003da846a79795180d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9af89dd558ccf4003da846a79795180d">&#9670;&nbsp;</a></span>get_with_capability_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_with_capability_join </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$useridcolumn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets sql joins for finding users with capability in the given context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>Context for the join. </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$capability</td><td>Capability name or array of names. If an array is provided then this is the equivalent of a logical 'OR', i.e. the user needs to have one of these capabilities. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$useridcolumn</td><td>e.g. 'u.id'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/ddc/classcore_1_1dml_1_1sql__join.html">core::dml::sql_join</a></td><td>Contains joins, wheres, params. This function will set -&gt;cannotmatchanyrows if applicable. This may let you skip doing a <a class="el" href="../../d1/dc8/class_d_b.html" title="The main &quot;DB&quot; class is simply a container class with some static methods for creating DB objects as w...">DB</a> query. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga26d05060fcf6f42f03ba293825e64d64" name="ga26d05060fcf6f42f03ba293825e64d64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26d05060fcf6f42f03ba293825e64d64">&#9670;&nbsp;</a></span>getIterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::getIterator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an iterator because magic vars can't be seen by 'foreach'. </p>
<p >Now we can convert context object to array using <a class="el" href="../../d0/de1/group__core.html#ga3096b9b7c91b60073919619f4b549d21" title="Converts an object into an associative array.">convert_to_array()</a>, and feed it properly to json_encode(). </p>

</div>
</div>
<a id="gaab116aa603700860d827daf7de08fb49" name="gaab116aa603700860d827daf7de08fb49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab116aa603700860d827daf7de08fb49">&#9670;&nbsp;</a></span>has_coursecontact_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">has_coursecontact_role </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if user has at least one role assign of 'coursecontact' role (is potentially listed in some course descriptions). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9c2cec0b8d406c30c5d9d2b3b26c168e" name="ga9c2cec0b8d406c30c5d9d2b3b26c168e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c2cec0b8d406c30c5d9d2b3b26c168e">&#9670;&nbsp;</a></span>insert_context_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::insert_context_record </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextlevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$instanceid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$parentpath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility method for context creation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$contextlevel</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$instanceid</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$parentpath</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>context record </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga92b4ab69c89826db242b815ac2d77b0b" name="ga92b4ab69c89826db242b815ac2d77b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92b4ab69c89826db242b815ac2d77b0b">&#9670;&nbsp;</a></span>instance() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_coursecat::instance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$categoryid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$strictness</em> = <code><a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns course category context instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$categoryid</td><td>id from {course_categories} table </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d2/d82/classcontext__coursecat.html">context_coursecat</a></td><td>context instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga32cfbef633764d292f909de3fab1df66" name="ga32cfbef633764d292f909de3fab1df66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga32cfbef633764d292f909de3fab1df66">&#9670;&nbsp;</a></span>instance() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_module::instance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$cmid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$strictness</em> = <code><a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns module context instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$cmid</td><td>id of the record from {course_modules} table; pass cmid there, NOT id in the instance column </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../db/db4/classcontext__module.html">context_module</a></td><td>context instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga471cfe5467fd78bb3b8d3379ba01178b" name="ga471cfe5467fd78bb3b8d3379ba01178b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga471cfe5467fd78bb3b8d3379ba01178b">&#9670;&nbsp;</a></span>instance() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_course::instance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$courseid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$strictness</em> = <code><a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns course context instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>id from {course} table </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a></td><td>context instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4ef1b82f04f6a72f7336bb5ebfce1811" name="ga4ef1b82f04f6a72f7336bb5ebfce1811"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ef1b82f04f6a72f7336bb5ebfce1811">&#9670;&nbsp;</a></span>instance() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_system::instance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$instanceid</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$strictness</em> = <code><a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$cache</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns system context instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$instanceid</td><td>should be 0 </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$cache</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../de/de3/classcontext__system.html">context_system</a></td><td>context instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga850f14ddc575f28ec42cbe71b3069ceb" name="ga850f14ddc575f28ec42cbe71b3069ceb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga850f14ddc575f28ec42cbe71b3069ceb">&#9670;&nbsp;</a></span>instance() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_user::instance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$strictness</em> = <code><a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns user context instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>id from {user} table </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d4/d12/classcontext__user.html">context_user</a></td><td>context instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaad669d6d6eee4c611c3103d616d5f41e" name="gaad669d6d6eee4c611c3103d616d5f41e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad669d6d6eee4c611c3103d616d5f41e">&#9670;&nbsp;</a></span>instance_by_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::instance_by_id </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$strictness</em> = <code><a class="el" href="../../d0/de1/group__core.html#ga95a5600deb278b693b6c3ffed667df6f">MUST_EXIST</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a context instance as an object, from a given context id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$id</td><td>context id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$strictness</td><td>IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found; MUST_EXIST means throw exception if no record found </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">context|bool</td><td>the context object or false if not found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga229cc471b08262e4d224297232a6800f" name="ga229cc471b08262e4d224297232a6800f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga229cc471b08262e4d224297232a6800f">&#9670;&nbsp;</a></span>is_child_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::is_child_of </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$possibleparent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$includeself</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if the current context is a child of the possible parent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$possibleparent</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$includeself</td><td>Whether to check the current context </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafb6c185fda8568262bb328514d383579" name="gafb6c185fda8568262bb328514d383579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb6c185fda8568262bb328514d383579">&#9670;&nbsp;</a></span>is_inside_frontpage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">is_inside_frontpage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if context is the front page context or a context inside it. </p>
<p >Returns true if this context is the front page context, or a context inside it, otherwise false.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>a context object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gade97454081a0f705407352adc2267fc6" name="gade97454081a0f705407352adc2267fc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade97454081a0f705407352adc2267fc6">&#9670;&nbsp;</a></span>is_locked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::is_locked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the current context is locked. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga783678669a2c2ad5e2c52623850f6d35" name="ga783678669a2c2ad5e2c52623850f6d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga783678669a2c2ad5e2c52623850f6d35">&#9670;&nbsp;</a></span>is_parent_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::is_parent_of </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$possiblechild</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$includeself</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if the current context is a parent of the possible child. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$possiblechild</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$includeself</td><td>Whether to check the current context </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga35d16f693ab63233f0b180529ae9940d" name="ga35d16f693ab63233f0b180529ae9940d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35d16f693ab63233f0b180529ae9940d">&#9670;&nbsp;</a></span>is_role_switched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">is_role_switched </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$courseid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the user has switched roles within the given course. </p>
<p >Note: You can only switch roles within the course, hence it takes a course id rather than a context. On that note Petr volunteered to implement this across all other contexts, all requests for this should be forwarded to him ;)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>The id of the course to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the user has switched roles within the course. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad0cc97536e38d210276ece73b2dc1288" name="gad0cc97536e38d210276ece73b2dc1288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad0cc97536e38d210276ece73b2dc1288">&#9670;&nbsp;</a></span>is_safe_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">is_safe_capability </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify capability risks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$capability</td><td>a capability - a row from the capabilities table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>whether this capability is safe - that is, whether people with the safeoverrides capability should be allowed to change it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5474d366746ba4fb687b3efb48e2a599" name="ga5474d366746ba4fb687b3efb48e2a599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5474d366746ba4fb687b3efb48e2a599">&#9670;&nbsp;</a></span>load_temp_course_role()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">load_temp_course_role </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a>&#160;</td>
          <td class="paramname"><em>$coursecontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a temp role to current USER-&gt;access array. </p>
<p >Useful for the "temporary guest" access we grant to logged-in users. This is useful for enrol plugins only.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.2 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a></td><td class="paramname">$coursecontext</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gade0d5aba32c3f5de67424298c90ade16" name="gade0d5aba32c3f5de67424298c90ade16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade0d5aba32c3f5de67424298c90ade16">&#9670;&nbsp;</a></span>mark_user_dirty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mark_user_dirty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark a user as dirty (with timestamp) so as to force reloading of the user session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga203195d0f6d334fc9c00714960e602c1" name="ga203195d0f6d334fc9c00714960e602c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga203195d0f6d334fc9c00714960e602c1">&#9670;&nbsp;</a></span>preload_contexts_by_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::preload_contexts_by_id </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$contextids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Preload a set of contexts using their contextid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$contextids</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga761d2cf200915f580ca0e08d086b9c01" name="ga761d2cf200915f580ca0e08d086b9c01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga761d2cf200915f580ca0e08d086b9c01">&#9670;&nbsp;</a></span>preload_course()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::preload_course </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$courseid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Preload all contexts instances from course. </p>
<p >To be used if you expect multiple queries for course activities...</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab280cd5c2e65c4376ee2765629739cd5" name="gab280cd5c2e65c4376ee2765629739cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab280cd5c2e65c4376ee2765629739cd5">&#9670;&nbsp;</a></span>preload_from_record() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::preload_from_record </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$rec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Preloads context information from db record and strips the cached info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$rec</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td>(modifies $rec) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#ga880fd7e866a46ef42a40b2a1e4ad1588">context_helper</a>.</p>

</div>
</div>
<a id="ga880fd7e866a46ef42a40b2a1e4ad1588" name="ga880fd7e866a46ef42a40b2a1e4ad1588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga880fd7e866a46ef42a40b2a1e4ad1588">&#9670;&nbsp;</a></span>preload_from_record() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::preload_from_record </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$rec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Preloads context information from db record and strips the cached info. </p>
<p >The db request has to contain all columns from <a class="el" href="../../da/d16/group__core__access.html#gab0347266737df19842b3744ee9df983a" title="Returns all fields necessary for context preloading from user $rec.">context_helper::get_preload_record_columns()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$rec</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td>(modifies $rec) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#gab280cd5c2e65c4376ee2765629739cd5">context</a>.</p>

</div>
</div>
<a id="ga4a75f06472e00beffc8a083f777db4ae" name="ga4a75f06472e00beffc8a083f777db4ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a75f06472e00beffc8a083f777db4ae">&#9670;&nbsp;</a></span>prohibit_is_removable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">prohibit_is_removable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function verifies the prohibit comes from this context and there are no more prohibits in parent contexts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td></td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$capability</td><td>name </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2fdb562bd876a97032f8719fa3a325e0" name="ga2fdb562bd876a97032f8719fa3a325e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fdb562bd876a97032f8719fa3a325e0">&#9670;&nbsp;</a></span>reload_if_dirty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::reload_if_dirty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset all cached permissions and definitions if the necessary. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaaf57c585c7b4cec02246c3a1c6b9361a" name="gaaf57c585c7b4cec02246c3a1c6b9361a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf57c585c7b4cec02246c3a1c6b9361a">&#9670;&nbsp;</a></span>remove_temp_course_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remove_temp_course_roles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a>&#160;</td>
          <td class="paramname"><em>$coursecontext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes any extra guest roles from current USER-&gt;access array. </p>
<p >This is useful for enrol plugins only.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.2 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d8/d0a/classcontext__course.html">context_course</a></td><td class="paramname">$coursecontext</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae106921b5a4e5d4f797621cca8193cd7" name="gae106921b5a4e5d4f797621cca8193cd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae106921b5a4e5d4f797621cca8193cd7">&#9670;&nbsp;</a></span>require_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">require_capability </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$doanything</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$errormessage</em> = <code>'nopermissions'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$stringfile</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A convenience function that tests has_capability, and displays an error if the user does not have that capability. </p>
<p >NOTE before <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 2.0, this function attempted to make an appropriate require_login call before checking the capability. This is no longer the case. You must call require_login (or one of its variants) if you want to check the user is logged in, before you call this function.</p>
<dl class="section see"><dt>See also</dt><dd>has_capability()</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$capability</td><td>the name of the capability to check. For example mod/forum:view </td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>the context to check the capability in. You normally get this with context_xxxx::instance(). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>A user id. By default (null) checks the permissions of the current user. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$doanything</td><td>If false, ignore effect of admin role assignment </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$errormessage</td><td>The error string to to user. Defaults to 'nopermissions'. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$stringfile</td><td>The language file to load the error string from. Defaults to 'error'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td>terminates with an error if the user does not have the given capability. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf8bd88729aa93989dd1a47e70f01b75b" name="gaf8bd88729aa93989dd1a47e70f01b75b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8bd88729aa93989dd1a47e70f01b75b">&#9670;&nbsp;</a></span>reset_caches() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context::reset_caches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the cache to remove all data. </p>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#ga6713734461866996292e3e501c6d736e">context_helper</a>.</p>

</div>
</div>
<a id="ga6713734461866996292e3e501c6d736e" name="ga6713734461866996292e3e501c6d736e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6713734461866996292e3e501c6d736e">&#9670;&nbsp;</a></span>reset_caches() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static context_helper::reset_caches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the cache to remove all data. </p>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#gaf8bd88729aa93989dd1a47e70f01b75b">context</a>.</p>

</div>
</div>
<a id="ga0ddbb520c033c447f260e51226695a5f" name="ga0ddbb520c033c447f260e51226695a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ddbb520c033c447f260e51226695a5f">&#9670;&nbsp;</a></span>reset_paths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::reset_paths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rebuild</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all context path info and optionally rebuild it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$rebuild</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga526d78545ea35b7f2d831de88244ccc8" name="ga526d78545ea35b7f2d831de88244ccc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga526d78545ea35b7f2d831de88244ccc8">&#9670;&nbsp;</a></span>reset_role_capabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reset_role_capabilities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset role capabilities to default according to selected role archetype. </p>
<p >If no archetype selected, removes all capabilities.</p>
<p >This applies to capabilities that are assigned to the role (that you could edit in the 'define roles' interface), and not to any capability overrides in different locations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td>ID of role to reset capabilities for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad9942ad6f10a787833c5a686c9e36ebb" name="gad9942ad6f10a787833c5a686c9e36ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9942ad6f10a787833c5a686c9e36ebb">&#9670;&nbsp;</a></span>role_assign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_assign </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$component</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timemodified</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function makes a role-assignment (a role for a user in a particular context) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td>the role of the id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>userid </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;context</td><td class="paramname">$contextid</td><td>id of the context </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>example 'enrol_ldap', defaults to '' which means manual assignment, </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>id of enrolment/auth plugin </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$timemodified</td><td>defaults to current time </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>new/existing id of the assignment </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae0c1dc75b9a8c3246d4cc10d838f6998" name="gae0c1dc75b9a8c3246d4cc10d838f6998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0c1dc75b9a8c3246d4cc10d838f6998">&#9670;&nbsp;</a></span>role_cap_duplicate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_cap_duplicate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sourcerole</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$targetrole</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Duplicates all the base definitions of a role. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$sourcerole</td><td>role to copy from </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$targetrole</td><td>id of role to copy to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaed47009d5c2358fb63fdf04c5756c4a2" name="gaed47009d5c2358fb63fdf04c5756c4a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed47009d5c2358fb63fdf04c5756c4a2">&#9670;&nbsp;</a></span>role_change_permission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_change_permission </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$permission</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>More user friendly role permission changing, it should produce as few overrides as possible. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td></td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$capname</td><td>capability name </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$permission</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacede73f3ae58af31201a498e461c8a6a" name="gacede73f3ae58af31201a498e461c8a6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacede73f3ae58af31201a498e461c8a6a">&#9670;&nbsp;</a></span>role_context_capabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_context_capabilities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$cap</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function pulls out all the resolved capabilities (overrides and defaults) of a role used in capability overrides in contexts at a given context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td></td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$cap</td><td>capability, optional, defaults to '' </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array of capabilities </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9e09cdf5a4b6faa5c40d95c1039190d7" name="ga9e09cdf5a4b6faa5c40d95c1039190d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e09cdf5a4b6faa5c40d95c1039190d7">&#9670;&nbsp;</a></span>role_fix_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_fix_names </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleoptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rolenamedisplay</em> = <code><a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$returnmenu</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare list of roles for display, apply aliases and localise default role names. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$roleoptions</td><td>array roleid =&gt; roleobject (with optional coursealias), strings are accepted for backwards compatibility only </td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>the context, null means system context </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$rolenamedisplay</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnmenu</td><td>null means keep the same format as $roleoptions, true means id=&gt;localname, false means id=&gt;rolerecord </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array of context-specific role names, or role objects with a -&gt;localname field added. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab16dc200a0de5de83ca14a33a4293660" name="gab16dc200a0de5de83ca14a33a4293660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab16dc200a0de5de83ca14a33a4293660">&#9670;&nbsp;</a></span>role_get_description()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_get_description </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$role</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns localised role description if available. </p>
<p >If the name is empty it tries to find the default role name using hardcoded list of default role names or other methods in the future.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$role</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>localised role name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1dd8f305e320a4c9ece907644944081b" name="ga1dd8f305e320a4c9ece907644944081b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1dd8f305e320a4c9ece907644944081b">&#9670;&nbsp;</a></span>role_get_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_get_name </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$context</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rolenamedisplay</em> = <code><a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get localised role name or alias if exists and format the text. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$role</td><td>role object<ul>
<li>optional 'coursealias' property should be included for performance reasons if course context used</li>
<li>description property is not required here </li>
</ul>
</td></tr>
    <tr><td class="paramtype">context&#160;|&#160;bool</td><td class="paramname">$context</td><td>empty means system context </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$rolenamedisplay</td><td>type of role name </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>localised role name or course role name alias </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadf5d6be413bc83b11f1a7842ab34b2bf" name="gadf5d6be413bc83b11f1a7842ab34b2bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadf5d6be413bc83b11f1a7842ab34b2bf">&#9670;&nbsp;</a></span>role_get_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_get_names </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rolenamedisplay</em> = <code><a class="el" href="../../da/d16/group__core__access.html#ga4497076d088c6236b84e9cd966b1956b">ROLENAME_ALIAS</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$returnmenu</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the localised role names for a context. </p>
<p >In new installs default roles have empty names, this function add localised role names using current language pack.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>the context, null means system context </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">array</td><td>of role objects with a -&gt;localname field containing the context-specific role name. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$rolenamedisplay</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$returnmenu</td><td>true means id=&gt;localname, false means id=&gt;rolerecord </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array of context-specific role names, or role objects with a -&gt;localname field added. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga30729206f2de12ab0bfe887db80031ad" name="ga30729206f2de12ab0bfe887db80031ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga30729206f2de12ab0bfe887db80031ad">&#9670;&nbsp;</a></span>role_switch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_switch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switches the current user to another role for the current session and only in the given context. </p>
<p >The caller <em>must</em> check</p><ul>
<li>that this op is allowed</li>
<li>that the requested role can be switched to in this context (use get_switchable_roles)</li>
<li>that the requested role is NOT $CFG-&gt;defaultuserroleid</li>
</ul>
<p >To "unswitch" pass 0 as the roleid.</p>
<p >This function <em>will</em> modify $USER-&gt;access - beware</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$roleid</td><td>the role to switch to. </td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>the context in which to perform the switch. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>success or failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8da408086f63145f9a3aa306b4b5ced0" name="ga8da408086f63145f9a3aa306b4b5ced0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8da408086f63145f9a3aa306b4b5ced0">&#9670;&nbsp;</a></span>role_unassign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_unassign </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$component</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$itemid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes one role assignment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabcf07ea620a5032be4a95f54ce1b7a96" name="gabcf07ea620a5032be4a95f54ce1b7a96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabcf07ea620a5032be4a95f54ce1b7a96">&#9670;&nbsp;</a></span>role_unassign_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">role_unassign_all </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$subcontexts</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$includemanual</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes multiple role assignments, parameters may contain: 'roleid', 'userid', 'contextid', 'component', 'enrolid'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>role assignment parameters </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$subcontexts</td><td>unassign in subcontexts too </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$includemanual</td><td>include manual role assignments too </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6d8023914e33f884fd07bda0a25854a9" name="ga6d8023914e33f884fd07bda0a25854a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d8023914e33f884fd07bda0a25854a9">&#9670;&nbsp;</a></span>set_locked() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::set_locked </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$locked</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether this context has been locked or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$locked</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">$this</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../da/d16/group__core__access.html#ga1aa248bf8227a9a7a1b5b7d04d0d7640">context_system</a>.</p>

</div>
</div>
<a id="ga1aa248bf8227a9a7a1b5b7d04d0d7640" name="ga1aa248bf8227a9a7a1b5b7d04d0d7640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1aa248bf8227a9a7a1b5b7d04d0d7640">&#9670;&nbsp;</a></span>set_locked() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context_system::set_locked </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$locked</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether this context has been locked or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$locked</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">$this</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../da/d16/group__core__access.html#ga6d8023914e33f884fd07bda0a25854a9">context</a>.</p>

</div>
</div>
<a id="gaa626698a51598d556cff48793000af6b" name="gaa626698a51598d556cff48793000af6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa626698a51598d556cff48793000af6b">&#9670;&nbsp;</a></span>set_role_contextlevels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">set_role_contextlevels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$contextlevels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the context levels at which a particular role can be assigned. </p>
<p >Throws exceptions in case of error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$roleid</td><td>the id of a role. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$contextlevels</td><td>the context levels at which this role should be assignable, duplicate levels are removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab4a08eb7131890af57f5fe305f55a9b8" name="gab4a08eb7131890af57f5fe305f55a9b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4a08eb7131890af57f5fe305f55a9b8">&#9670;&nbsp;</a></span>sort_by_roleassignment_authority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sort_by_roleassignment_authority </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$users</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roles</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sortpolicy</em> = <code>'locality'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-sort a users array based on a sorting policy. </p>
<p >Will re-sort a $users results array (from <a class="el" href="../../da/d16/group__core__access.html#ga66340c4f447ab44105bf8f56f709daa1" title="Who has this capability in this context?">get_users_by_capability()</a>, usually) based on a sorting policy. This is to support the odd practice of sorting teachers by 'authority', where authority was "lowest id of the role
assignment".</p>
<p >Will execute 1 database query. Only suitable for small numbers of users, as it uses an u.id IN() clause.</p>
<p >Notes about the sorting criteria.</p>
<p >As a default, we cannot rely on role.sortorder because then admins/coursecreators will always win. That is why the sane rule "is locality matters most", with sortorder as 2nd consideration.</p>
<p >If you want role.sortorder, use the 'sortorder' policy, and name explicitly what roles you want to cover. It's probably a good idea to see what roles have the capabilities you want (array_diff() them against roiles that have 'can-do-anything' to weed out admin-ish roles. Or fetch a list of roles from variables like $CFG-&gt;coursecontact .</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$users</td><td>Users array, keyed on userid </td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$roles</td><td>ids of the roles to include, optional </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sortpolicy</td><td>defaults to locality, more about </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>sorted copy of the array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac5fd541d0278f2ce8aaeb321b8b8851c" name="gac5fd541d0278f2ce8aaeb321b8b8851c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5fd541d0278f2ce8aaeb321b8b8851c">&#9670;&nbsp;</a></span>switch_roles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">switch_roles </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$second</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch the sort order of two roles (used in admin/roles/manage.php). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$first</td><td>The first role. Actually, only -&gt;sortorder is used. </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$second</td><td>The second role. Actually, only -&gt;sortorder is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>success or failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga928246fb49c4eb83e351423e3e11e72a" name="ga928246fb49c4eb83e351423e3e11e72a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga928246fb49c4eb83e351423e3e11e72a">&#9670;&nbsp;</a></span>unassign_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unassign_capability </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unassign a capability from a role. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$capability</td><td>the name of the capability </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td>the role id </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;context</td><td class="paramname">$contextid</td><td>null means all contexts </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>true or exception </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga632abdbbbe3c5dbea8714914b2e9e6d3" name="ga632abdbbbe3c5dbea8714914b2e9e6d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga632abdbbbe3c5dbea8714914b2e9e6d3">&#9670;&nbsp;</a></span>update_moved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">context::update_moved </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$newparent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update context info after moving context in the tree structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$newparent</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabb7f43b7c655ad190ca02f288d7f419f" name="gabb7f43b7c655ad190ca02f288d7f419f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb7f43b7c655ad190ca02f288d7f419f">&#9670;&nbsp;</a></span>user_can_assign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">user_can_assign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$targetroleid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a user can assign users to a particular role in this context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$targetroleid</td><td>- the id of the role you want to assign users to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga094626c521a5191dec40e63c56be1733" name="ga094626c521a5191dec40e63c56be1733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga094626c521a5191dec40e63c56be1733">&#9670;&nbsp;</a></span>user_has_role_assignment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">user_has_role_assignment </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roleid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple function returning a boolean true if user has roles in context or parent contexts, otherwise false. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$roleid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>empty means any context </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga024522a068c77a32d9f4c2e041e85c11" name="ga024522a068c77a32d9f4c2e041e85c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga024522a068c77a32d9f4c2e041e85c11">&#9670;&nbsp;</a></span>$_contextlevel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int context::$_contextlevel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The context level Can be accessed publicly through $context-&gt;contextlevel One of CONTEXT_* e.g. </p>
<p >CONTEXT_COURSE, CONTEXT_MODULE </p>

</div>
</div>
<a id="gabf417cf1bfa5d854fdb7d11a914bcb1a" name="gabf417cf1bfa5d854fdb7d11a914bcb1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabf417cf1bfa5d854fdb7d11a914bcb1a">&#9670;&nbsp;</a></span>$_instanceid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int context::$_instanceid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Id of the item this context is related to e.g. </p>
<p >COURSE_CONTEXT =&gt; course.id Can be accessed publicly through $context-&gt;instanceid </p>

</div>
</div>
<a id="ga84f1bb1872f65062329571a47c031d2b" name="ga84f1bb1872f65062329571a47c031d2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84f1bb1872f65062329571a47c031d2b">&#9670;&nbsp;</a></span>$_locked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int context::$_locked</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether this context is locked or not. </p>
<p >Can be accessed publicly through $context-&gt;locked. </p>

</div>
</div>
<a id="gaf26e0e9d63f6aa70f446e178150f0127" name="gaf26e0e9d63f6aa70f446e178150f0127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf26e0e9d63f6aa70f446e178150f0127">&#9670;&nbsp;</a></span>CONTEXT_BLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const CONTEXT_BLOCK 80</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Block context level - one instance for each block, sticky blocks are tricky because ppl think they should be able to override them at lower contexts. </p>
<p >Any other context level instance can be parent of block context. </p>

</div>
</div>
<a id="ga0c4caf1734d02cfe34f94aa69c60e5d0" name="ga0c4caf1734d02cfe34f94aa69c60e5d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c4caf1734d02cfe34f94aa69c60e5d0">&#9670;&nbsp;</a></span>DEFAULT_CAPABILITY_SORT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string const context::DEFAULT_CAPABILITY_SORT = 'contextlevel, component, <a class="el" href="../../d8/ded/group___simple_pie.html#ga4b516aaa5fa38da4fed24ab6001627e2">name</a>'</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default sorting of capabilities in {. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d16/group__core__access.html#gac22614cf57e446e5e886054378f986ee" title="Returns array of relevant context capability records.">get_capabilities</a>} </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 14 2022 03:35:53 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
