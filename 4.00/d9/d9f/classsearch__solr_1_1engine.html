<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: search_solr\engine Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.0</span>
   </div>
   <div id="projectbrief">Moodle 4.0.8+ (Build: 20230526) (abb8647b620)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../db/d09/namespacesearch__solr.html">search_solr</a></li><li class="navelem"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html">engine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../d9/d67/classsearch__solr_1_1engine-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">search_solr\engine Class Reference<div class="ingroups"><a class="el" href="../../d9/d82/group__search__solr.html">search_solr</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Solr engine.  
 <a href="../../d9/d9f/classsearch__solr_1_1engine.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for search_solr\engine:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d9/d9f/classsearch__solr_1_1engine.png" usemap="#search_5Fsolr_5Cengine_map" alt=""/>
  <map id="search_5Fsolr_5Cengine_map" name="search_5Fsolr_5Cengine_map">
<area href="../../d0/d66/classcore__search_1_1engine.html" title="Base class for search engines." alt="core_search\engine" shape="rect" coords="0,0,126,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeaeb14304a0087d67f51f2668794dcb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#aeaeb14304a0087d67f51f2668794dcb1">__construct</a> (bool $alternateconfiguration=false)</td></tr>
<tr class="memdesc:aeaeb14304a0087d67f51f2668794dcb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the search engine configuration.  <br /></td></tr>
<tr class="separator:aeaeb14304a0087d67f51f2668794dcb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3f3ca4161f13acce02c0c7f160e3eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a1a3f3ca4161f13acce02c0c7f160e3eb">add_document</a> ($<a class="el" href="../../d5/d8e/classsearch__solr_1_1document.html">document</a>, $fileindexing=false)</td></tr>
<tr class="memdesc:a1a3f3ca4161f13acce02c0c7f160e3eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a document to the search engine.  <br /></td></tr>
<tr class="separator:a1a3f3ca4161f13acce02c0c7f160e3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af983cd7a298f8efbce46994fce2c9d61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#af983cd7a298f8efbce46994fce2c9d61">add_document_batch</a> (array $documents, bool $fileindexing=false)</td></tr>
<tr class="memdesc:af983cd7a298f8efbce46994fce2c9d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a batch of documents to the engine at once.  <br /></td></tr>
<tr class="separator:af983cd7a298f8efbce46994fce2c9d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234db07a50e7da10783e683220444c2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a234db07a50e7da10783e683220444c2d">add_documents</a> ($iterator, $searcharea, $options)</td></tr>
<tr class="memdesc:a234db07a50e7da10783e683220444c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loop through given iterator of search documents and and have the search engine back end add them to the index.  <br /></td></tr>
<tr class="separator:a234db07a50e7da10783e683220444c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1118892611702e36126795d1c0ec06b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#ac1118892611702e36126795d1c0ec06b">add_fields</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gae0ccb7bceda061e460576520b09aa443">query</a>)</td></tr>
<tr class="memdesc:ac1118892611702e36126795d1c0ec06b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets fields to be returned in the result.  <br /></td></tr>
<tr class="separator:ac1118892611702e36126795d1c0ec06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca57da61f25e4c5c5f11f2730a52d38b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#aca57da61f25e4c5c5f11f2730a52d38b">add_highlight_content</a> ($response)</td></tr>
<tr class="memdesc:aca57da61f25e4c5c5f11f2730a52d38b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the key common to both highlighing and docs array returned from response.  <br /></td></tr>
<tr class="separator:aca57da61f25e4c5c5f11f2730a52d38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2756126f73806a75d5c8cec8ac266c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#af2756126f73806a75d5c8cec8ac266c1">area_index_complete</a> ($searcharea, $numdocs=0, $fullindex=false)</td></tr>
<tr class="memdesc:af2756126f73806a75d5c8cec8ac266c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do any area cleanup needed, and do anything to confirm contents.  <br /></td></tr>
<tr class="separator:af2756126f73806a75d5c8cec8ac266c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe9b3a2ce39293f4652eaa82ce11e9df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#abe9b3a2ce39293f4652eaa82ce11e9df">area_index_starting</a> ($searcharea, $fullindex=false)</td></tr>
<tr class="memdesc:abe9b3a2ce39293f4652eaa82ce11e9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do anything that may need to be done before an area is indexed.  <br /></td></tr>
<tr class="separator:abe9b3a2ce39293f4652eaa82ce11e9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6a38b3536041fb87941a25a7858746"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a5b6a38b3536041fb87941a25a7858746">check_latest_schema</a> ()</td></tr>
<tr class="memdesc:a5b6a38b3536041fb87941a25a7858746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that the schema is the latest version.  <br /></td></tr>
<tr class="separator:a5b6a38b3536041fb87941a25a7858746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81657a35775d45e16949e1f85d5ace4f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a81657a35775d45e16949e1f85d5ace4f">clear_query_error</a> ()</td></tr>
<tr class="memdesc:a81657a35775d45e16949e1f85d5ace4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the current query error value.  <br /></td></tr>
<tr class="separator:a81657a35775d45e16949e1f85d5ace4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b429dcce51df860aec982c26da23f22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a7b429dcce51df860aec982c26da23f22">delete</a> ($areaid=null)</td></tr>
<tr class="memdesc:a7b429dcce51df860aec982c26da23f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all area's documents.  <br /></td></tr>
<tr class="separator:a7b429dcce51df860aec982c26da23f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af830761ce66bbcaf7737857f357909be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#af830761ce66bbcaf7737857f357909be">delete_by_id</a> ($id)</td></tr>
<tr class="memdesc:af830761ce66bbcaf7737857f357909be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the specified document.  <br /></td></tr>
<tr class="separator:af830761ce66bbcaf7737857f357909be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac527cc72ff5d031c3d7919c92e4972f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#ac527cc72ff5d031c3d7919c92e4972f0">delete_index_for_context</a> (int $oldcontextid)</td></tr>
<tr class="memdesc:ac527cc72ff5d031c3d7919c92e4972f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solr supports deleting the index for a context.  <br /></td></tr>
<tr class="separator:ac527cc72ff5d031c3d7919c92e4972f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951ab4295eadc9d3e16ad291248d1df5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a951ab4295eadc9d3e16ad291248d1df5">delete_index_for_course</a> (int $oldcourseid)</td></tr>
<tr class="memdesc:a951ab4295eadc9d3e16ad291248d1df5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solr supports deleting the index for a course.  <br /></td></tr>
<tr class="separator:a951ab4295eadc9d3e16ad291248d1df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e6c66cc8b8d9508ddca6bf55b6f81a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a7e6c66cc8b8d9508ddca6bf55b6f81a4">execute_query</a> ($filters, $accessinfo, $limit=0)</td></tr>
<tr class="memdesc:a7e6c66cc8b8d9508ddca6bf55b6f81a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a Solr query, applies filters and executes it returning its results.  <br /></td></tr>
<tr class="separator:a7e6c66cc8b8d9508ddca6bf55b6f81a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a962168017ede23d047a7503946bf11d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a962168017ede23d047a7503946bf11d1">file_indexing_enabled</a> ()</td></tr>
<tr class="memdesc:a962168017ede23d047a7503946bf11d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if file indexing is supported and enabled.  <br /></td></tr>
<tr class="separator:a962168017ede23d047a7503946bf11d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3932e237dccb830eac3a1e1cccc49ca7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a3932e237dccb830eac3a1e1cccc49ca7">get_batch_max_content</a> ()</td></tr>
<tr class="memdesc:a3932e237dccb830eac3a1e1cccc49ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum size of document content to be included in a shared batch (if the document is bigger then it will be sent on its own; batching does not provide a performance improvement for big documents anyway).  <br /></td></tr>
<tr class="separator:a3932e237dccb830eac3a1e1cccc49ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff89dd3c8494e413d74d8da936eed21c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#aff89dd3c8494e413d74d8da936eed21c">get_batch_max_documents</a> ()</td></tr>
<tr class="memdesc:aff89dd3c8494e413d74d8da936eed21c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum number of documents to send together in batch mode.  <br /></td></tr>
<tr class="separator:aff89dd3c8494e413d74d8da936eed21c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af837f683c195242cb0ae08e91147a11f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#af837f683c195242cb0ae08e91147a11f">get_connection_url</a> ($path)</td></tr>
<tr class="memdesc:af837f683c195242cb0ae08e91147a11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> url object for the server connection.  <br /></td></tr>
<tr class="separator:af837f683c195242cb0ae08e91147a11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32152aee6d6cc430b40e70bbe10855cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a32152aee6d6cc430b40e70bbe10855cb">get_curl_object</a> ()</td></tr>
<tr class="memdesc:a32152aee6d6cc430b40e70bbe10855cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a curl object for conntecting to solr.  <br /></td></tr>
<tr class="separator:a32152aee6d6cc430b40e70bbe10855cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab995efd89c51efb67d5c17f7ade17187"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ab995efd89c51efb67d5c17f7ade17187">get_document_classname</a> ()</td></tr>
<tr class="memdesc:ab995efd89c51efb67d5c17f7ade17187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the document class used by this search engine.  <br /></td></tr>
<tr class="separator:ab995efd89c51efb67d5c17f7ade17187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ec19dd01edb078cebbf42a097d582bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a4ec19dd01edb078cebbf42a097d582bf">get_plugin_name</a> ()</td></tr>
<tr class="memdesc:a4ec19dd01edb078cebbf42a097d582bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the plugin name.  <br /></td></tr>
<tr class="separator:a4ec19dd01edb078cebbf42a097d582bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e4d6f34a47050e6245415986ae6979"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a10e4d6f34a47050e6245415986ae6979">get_query_error</a> ()</td></tr>
<tr class="memdesc:a10e4d6f34a47050e6245415986ae6979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns any error reported by the search engine when executing the provided query.  <br /></td></tr>
<tr class="separator:a10e4d6f34a47050e6245415986ae6979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8043e8e263d4d2aac3d85ae110d02129"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a8043e8e263d4d2aac3d85ae110d02129">get_query_total_count</a> ()</td></tr>
<tr class="memdesc:a8043e8e263d4d2aac3d85ae110d02129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of documents available for the most recently call to execute_query.  <br /></td></tr>
<tr class="separator:a8043e8e263d4d2aac3d85ae110d02129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c67ba5dd29f6329674f3426a33311d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a06c67ba5dd29f6329674f3426a33311d">get_solr_major_version</a> ()</td></tr>
<tr class="memdesc:a06c67ba5dd29f6329674f3426a33311d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the solr server major version.  <br /></td></tr>
<tr class="separator:a06c67ba5dd29f6329674f3426a33311d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef0779367fc84782c36ea69bf0c53188"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#aef0779367fc84782c36ea69bf0c53188">get_supported_orders</a> (\<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:aef0779367fc84782c36ea69bf0c53188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solr supports sort by location within course contexts or below.  <br /></td></tr>
<tr class="separator:aef0779367fc84782c36ea69bf0c53188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9f7c412fbde2b64845db4d59049758"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a2d9f7c412fbde2b64845db4d59049758">get_user</a> ($userid)</td></tr>
<tr class="memdesc:a2d9f7c412fbde2b64845db4d59049758"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns user data checking the internal static cache.  <br /></td></tr>
<tr class="separator:a2d9f7c412fbde2b64845db4d59049758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c8610cd246bb29db622ddb930cd7de9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a2c8610cd246bb29db622ddb930cd7de9">has_alternate_configuration</a> ()</td></tr>
<tr class="memdesc:a2c8610cd246bb29db622ddb930cd7de9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if an alternate configuration has been defined.  <br /></td></tr>
<tr class="separator:a2c8610cd246bb29db622ddb930cd7de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff048de31fb192865e6609f65493c214"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#aff048de31fb192865e6609f65493c214">index_complete</a> ($numdocs=0, $fullindex=false)</td></tr>
<tr class="memdesc:aff048de31fb192865e6609f65493c214"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run any post indexing operations.  <br /></td></tr>
<tr class="separator:aff048de31fb192865e6609f65493c214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d90b2511e1fa69b4cb7ed20a833c3d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a9d90b2511e1fa69b4cb7ed20a833c3d8">index_starting</a> ($fullindex=false)</td></tr>
<tr class="memdesc:a9d90b2511e1fa69b4cb7ed20a833c3d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run any pre-indexing operations.  <br /></td></tr>
<tr class="separator:a9d90b2511e1fa69b4cb7ed20a833c3d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a9e062703adeb5448a4ba9728c89a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#ab4a9e062703adeb5448a4ba9728c89a9">is_installed</a> ()</td></tr>
<tr class="memdesc:ab4a9e062703adeb5448a4ba9728c89a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the PHP Solr extension is available.  <br /></td></tr>
<tr class="separator:ab4a9e062703adeb5448a4ba9728c89a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158c82a4a4834bc3fc293e96d900f5fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a158c82a4a4834bc3fc293e96d900f5fd">is_server_configured</a> ()</td></tr>
<tr class="memdesc:a158c82a4a4834bc3fc293e96d900f5fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the solr server properly configured?.  <br /></td></tr>
<tr class="separator:a158c82a4a4834bc3fc293e96d900f5fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7131b3aa93fdd11a2f61c832bfdd56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#aca7131b3aa93fdd11a2f61c832bfdd56">is_server_ready</a> ()</td></tr>
<tr class="memdesc:aca7131b3aa93fdd11a2f61c832bfdd56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pings the Solr server using <a class="el" href="../../db/d09/namespacesearch__solr.html" title="&#160;">search_solr</a> config.  <br /></td></tr>
<tr class="separator:aca7131b3aa93fdd11a2f61c832bfdd56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9487d4dea94412ac5dd3e408a1eb10d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#ad9487d4dea94412ac5dd3e408a1eb10d">merge_highlight_field_values</a> ($doc, $highlighteddoc)</td></tr>
<tr class="memdesc:ad9487d4dea94412ac5dd3e408a1eb10d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the highlighting array values to docs array values.  <br /></td></tr>
<tr class="separator:ad9487d4dea94412ac5dd3e408a1eb10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35d1ce15ed20d37cb761a18b279f5f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ad35d1ce15ed20d37cb761a18b279f5f1">optimize</a> ()</td></tr>
<tr class="memdesc:ad35d1ce15ed20d37cb761a18b279f5f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optimizes the search engine.  <br /></td></tr>
<tr class="separator:ad35d1ce15ed20d37cb761a18b279f5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe1f56b0ab42852fe5916a15b78cdff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#abfe1f56b0ab42852fe5916a15b78cdff">record_applied_schema_version</a> ($version)</td></tr>
<tr class="memdesc:abfe1f56b0ab42852fe5916a15b78cdff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Usually called by the engine; marks that the schema has been updated.  <br /></td></tr>
<tr class="separator:abfe1f56b0ab42852fe5916a15b78cdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07744a383f58ece1317bb140954f03a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a07744a383f58ece1317bb140954f03a6">skip_schema_check</a> ($skip=true)</td></tr>
<tr class="memdesc:a07744a383f58ece1317bb140954f03a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the search engine to skip any time-consuming checks that it might do as part of the is_server_ready function, and only carry out a basic check that it can contact the server.  <br /></td></tr>
<tr class="separator:a07744a383f58ece1317bb140954f03a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c85b18bacebb8f3a35a7045a3bbccd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a38c85b18bacebb8f3a35a7045a3bbccd">standarize_solr_obj</a> (\SolrObject $obj)</td></tr>
<tr class="memdesc:a38c85b18bacebb8f3a35a7045a3bbccd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a standard php array from a SolrObject instance.  <br /></td></tr>
<tr class="separator:a38c85b18bacebb8f3a35a7045a3bbccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f1a310260f1ede742618134d2d61da0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a4f1a310260f1ede742618134d2d61da0">supports_add_document_batch</a> ()</td></tr>
<tr class="memdesc:a4f1a310260f1ede742618134d2d61da0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solr supports adding documents in a batch.  <br /></td></tr>
<tr class="separator:a4f1a310260f1ede742618134d2d61da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88091f39bdee636ff709b343617071f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a88091f39bdee636ff709b343617071f4">supports_group_filtering</a> ()</td></tr>
<tr class="memdesc:a88091f39bdee636ff709b343617071f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solr includes group support in the execute_query function.  <br /></td></tr>
<tr class="separator:a88091f39bdee636ff709b343617071f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada534d6db690e2764886b7c13ee64cd0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#ada534d6db690e2764886b7c13ee64cd0">supports_users</a> ()</td></tr>
<tr class="memdesc:ada534d6db690e2764886b7c13ee64cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solr supports search by user id.  <br /></td></tr>
<tr class="separator:ada534d6db690e2764886b7c13ee64cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4f1b50cf10755a1acf9131022a73a906"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a4f1b50cf10755a1acf9131022a73a906">clear_users_cache</a> ()</td></tr>
<tr class="memdesc:a4f1b50cf10755a1acf9131022a73a906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the users cache.  <br /></td></tr>
<tr class="separator:a4f1b50cf10755a1acf9131022a73a906"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7dd08b025997ce2798d5c9e03d7d0454"><td class="memItemLeft" align="right" valign="top"><a id="a7dd08b025997ce2798d5c9e03d7d0454" name="a7dd08b025997ce2798d5c9e03d7d0454"></a>
int const&#160;</td><td class="memItemRight" valign="bottom"><b>AUTOCOMMIT_WITHIN</b> = 15000</td></tr>
<tr class="memdesc:a7dd08b025997ce2798d5c9e03d7d0454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit documents interval (number of miliseconds). <br /></td></tr>
<tr class="separator:a7dd08b025997ce2798d5c9e03d7d0454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9753c021de3de0e1ec16b239cdff4e"><td class="memItemLeft" align="right" valign="top"><a id="aff9753c021de3de0e1ec16b239cdff4e" name="aff9753c021de3de0e1ec16b239cdff4e"></a>
float const&#160;</td><td class="memItemRight" valign="bottom"><b>CONTEXT_BOOST</b> = 0.5</td></tr>
<tr class="memdesc:aff9753c021de3de0e1ec16b239cdff4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boost value for matching context (in addition to course boost) <br /></td></tr>
<tr class="separator:aff9753c021de3de0e1ec16b239cdff4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c120d53256ad157054bc277dfe3b2ea"><td class="memItemLeft" align="right" valign="top"><a id="a1c120d53256ad157054bc277dfe3b2ea" name="a1c120d53256ad157054bc277dfe3b2ea"></a>
float const&#160;</td><td class="memItemRight" valign="bottom"><b>COURSE_BOOST</b> = 1</td></tr>
<tr class="memdesc:a1c120d53256ad157054bc277dfe3b2ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boost value for matching course in location-ordered searches. <br /></td></tr>
<tr class="separator:a1c120d53256ad157054bc277dfe3b2ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cac68567dca294f2a9c6e28168eca7e"><td class="memItemLeft" align="right" valign="top"><a id="a3cac68567dca294f2a9c6e28168eca7e" name="a3cac68567dca294f2a9c6e28168eca7e"></a>
string const&#160;</td><td class="memItemRight" valign="bottom"><b>DATE_FORMAT</b> = 'Y-m-d\TH:i:s\Z'</td></tr>
<tr class="memdesc:a3cac68567dca294f2a9c6e28168eca7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The date format used by solr. <br /></td></tr>
<tr class="separator:a3cac68567dca294f2a9c6e28168eca7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ec4c77b35f62fce5f838a706a2f7dd0"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a1ec4c77b35f62fce5f838a706a2f7dd0">FRAG_SIZE</a> = 510</td></tr>
<tr class="memdesc:a1ec4c77b35f62fce5f838a706a2f7dd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Highlighting fragsize.  <br /></td></tr>
<tr class="separator:a1ec4c77b35f62fce5f838a706a2f7dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1df166bf524ee08beae37e81315db38"><td class="memItemLeft" align="right" valign="top"><a id="aa1df166bf524ee08beae37e81315db38" name="aa1df166bf524ee08beae37e81315db38"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>HIGHLIGHT_END</b> = '@@HI_E@@'</td></tr>
<tr class="memdesc:aa1df166bf524ee08beae37e81315db38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marker for the end of a highlight. <br /></td></tr>
<tr class="separator:aa1df166bf524ee08beae37e81315db38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d90ccd54d85fdcef9f168fde8c5bd7"><td class="memItemLeft" align="right" valign="top"><a id="a54d90ccd54d85fdcef9f168fde8c5bd7" name="a54d90ccd54d85fdcef9f168fde8c5bd7"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>HIGHLIGHT_START</b> = '@@HI_S@@'</td></tr>
<tr class="memdesc:a54d90ccd54d85fdcef9f168fde8c5bd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marker for the start of a highlight. <br /></td></tr>
<tr class="separator:a54d90ccd54d85fdcef9f168fde8c5bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e59ac94451de74172a8d7d8204cddd"><td class="memItemLeft" align="right" valign="top"><a id="a05e59ac94451de74172a8d7d8204cddd" name="a05e59ac94451de74172a8d7d8204cddd"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>QUERY_SIZE</b> = 120</td></tr>
<tr class="memdesc:a05e59ac94451de74172a8d7d8204cddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of results to fetch at a time. <br /></td></tr>
<tr class="separator:a05e59ac94451de74172a8d7d8204cddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a9384e362385856f144f8d025d5f1e59e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a9384e362385856f144f8d025d5f1e59e">add_solr_document</a> ($doc)</td></tr>
<tr class="memdesc:a9384e362385856f144f8d025d5f1e59e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a text document to the search engine.  <br /></td></tr>
<tr class="separator:a9384e362385856f144f8d025d5f1e59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04205db7d6fa47c270a61c6481ce8ad7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a04205db7d6fa47c270a61c6481ce8ad7">add_solr_documents</a> (array $docs)</td></tr>
<tr class="memdesc:a04205db7d6fa47c270a61c6481ce8ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds multiple text documents to the search engine.  <br /></td></tr>
<tr class="separator:a04205db7d6fa47c270a61c6481ce8ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d6dfbe27d6bb44f174bd112b6adbce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a89d6dfbe27d6bb44f174bd112b6adbce">add_stored_file</a> ($<a class="el" href="../../d5/d8e/classsearch__solr_1_1document.html">document</a>, $storedfile)</td></tr>
<tr class="memdesc:a89d6dfbe27d6bb44f174bd112b6adbce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a file to the search engine.  <br /></td></tr>
<tr class="separator:a89d6dfbe27d6bb44f174bd112b6adbce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd3363fcc3fbc27c15c12f7fe231b33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#acfd3363fcc3fbc27c15c12f7fe231b33">commit</a> ()</td></tr>
<tr class="memdesc:acfd3363fcc3fbc27c15c12f7fe231b33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits all pending changes.  <br /></td></tr>
<tr class="separator:acfd3363fcc3fbc27c15c12f7fe231b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1c640c88a8cd73f7370836459f10c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a0d1c640c88a8cd73f7370836459f10c2">convert_file_results</a> ($responsedoc)</td></tr>
<tr class="memdesc:a0d1c640c88a8cd73f7370836459f10c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A very lightweight handler for getting information about already indexed files from a Solr response.  <br /></td></tr>
<tr class="separator:a0d1c640c88a8cd73f7370836459f10c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7357b3ea71e63dc4f261dcc981889a7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a7357b3ea71e63dc4f261dcc981889a7b">create_solr_document</a> (array $doc)</td></tr>
<tr class="memdesc:a7357b3ea71e63dc4f261dcc981889a7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a Solr document object.  <br /></td></tr>
<tr class="separator:a7357b3ea71e63dc4f261dcc981889a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d4ab1c180911831e25c0460c260f126"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a7d4ab1c180911831e25c0460c260f126">create_user_query</a> ($filters, $accessinfo)</td></tr>
<tr class="memdesc:a7d4ab1c180911831e25c0460c260f126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a new query object with needed limits, filters, etc.  <br /></td></tr>
<tr class="separator:a7d4ab1c180911831e25c0460c260f126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f2792b0695029e59da34fb1c9c7a03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a56f2792b0695029e59da34fb1c9c7a03">file_is_indexable</a> ($file)</td></tr>
<tr class="memdesc:a56f2792b0695029e59da34fb1c9c7a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if a passed file is indexable.  <br /></td></tr>
<tr class="separator:a56f2792b0695029e59da34fb1c9c7a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af2b3cc9b49757ff11604ca2f0788c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a2af2b3cc9b49757ff11604ca2f0788c6">get_course</a> ($courseid)</td></tr>
<tr class="memdesc:a2af2b3cc9b49757ff11604ca2f0788c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a course instance checking internal caching.  <br /></td></tr>
<tr class="separator:a2af2b3cc9b49757ff11604ca2f0788c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0e613bfc55a784f33a41e9d0231f6a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#af0e613bfc55a784f33a41e9d0231f6a1">get_indexed_files</a> ($<a class="el" href="../../d5/d8e/classsearch__solr_1_1document.html">document</a>, $start=0, $rows=500)</td></tr>
<tr class="memdesc:af0e613bfc55a784f33a41e9d0231f6a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the currently indexed files for a particular document, returns the total count, and a subset of files.  <br /></td></tr>
<tr class="separator:af0e613bfc55a784f33a41e9d0231f6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b1128565495af8faebf5d8ff3558d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a57b1128565495af8faebf5d8ff3558d1">get_missing_docs</a> ($missingdocs)</td></tr>
<tr class="memdesc:a57b1128565495af8faebf5d8ff3558d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreive any missing main documents and attach provided files.  <br /></td></tr>
<tr class="separator:a57b1128565495af8faebf5d8ff3558d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dbef715ee12340adadc1c36816bba46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a9dbef715ee12340adadc1c36816bba46">get_query_response</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gae0ccb7bceda061e460576520b09aa443">query</a>)</td></tr>
<tr class="memdesc:a9dbef715ee12340adadc1c36816bba46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a query and returns the response in SolrObject format.  <br /></td></tr>
<tr class="separator:a9dbef715ee12340adadc1c36816bba46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323f82d85f12d5bdbfe8ccfa6373387b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a323f82d85f12d5bdbfe8ccfa6373387b">get_response_counts</a> ($response)</td></tr>
<tr class="memdesc:a323f82d85f12d5bdbfe8ccfa6373387b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns count information for a provided response.  <br /></td></tr>
<tr class="separator:a323f82d85f12d5bdbfe8ccfa6373387b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a516c8cab72324476170ec6274eca2b99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a516c8cab72324476170ec6274eca2b99">get_search_area</a> ($areaid)</td></tr>
<tr class="memdesc:a516c8cab72324476170ec6274eca2b99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a search instance of the specified area checking internal caching.  <br /></td></tr>
<tr class="separator:a516c8cab72324476170ec6274eca2b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c3f1da6db3243d032fa914e424f48f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a3c3f1da6db3243d032fa914e424f48f3">get_search_client</a> ($triggerexception=true)</td></tr>
<tr class="memdesc:a3c3f1da6db3243d032fa914e424f48f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the solr client instance.  <br /></td></tr>
<tr class="separator:a3c3f1da6db3243d032fa914e424f48f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc636cf7a805820e8663b154eff73b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#affc636cf7a805820e8663b154eff73b5">grouped_files_process_response</a> ($response, $limit=0)</td></tr>
<tr class="memdesc:affc636cf7a805820e8663b154eff73b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes grouped file results into documents, with attached matching files.  <br /></td></tr>
<tr class="separator:affc636cf7a805820e8663b154eff73b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add920b6c2561d3b736f585fe8728d231"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#add920b6c2561d3b736f585fe8728d231">process_document_files</a> ($<a class="el" href="../../d5/d8e/classsearch__solr_1_1document.html">document</a>)</td></tr>
<tr class="memdesc:add920b6c2561d3b736f585fe8728d231"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index files attached to the docuemnt, ensuring the index matches the current document files.  <br /></td></tr>
<tr class="separator:add920b6c2561d3b736f585fe8728d231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa3da4be3f7bf920b82d4d9909cd2c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#aafa3da4be3f7bf920b82d4d9909cd2c4">process_response</a> ($response, $limit=0, $skipaccesscheck=false)</td></tr>
<tr class="memdesc:aafa3da4be3f7bf920b82d4d9909cd2c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filters the response on <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> side.  <br /></td></tr>
<tr class="separator:aafa3da4be3f7bf920b82d4d9909cd2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ceae1b9ba9b9befda57cac24c6f865"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a94ceae1b9ba9b9befda57cac24c6f865">set_query</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#gae0ccb7bceda061e460576520b09aa443">query</a>, $q)</td></tr>
<tr class="memdesc:a94ceae1b9ba9b9befda57cac24c6f865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a new query by setting the query, start offset and rows to return.  <br /></td></tr>
<tr class="separator:a94ceae1b9ba9b9befda57cac24c6f865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7e47c8581d7b3acd802cb8336e679e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a3d7e47c8581d7b3acd802cb8336e679e">should_skip_schema_check</a> ()</td></tr>
<tr class="memdesc:a3d7e47c8581d7b3acd802cb8336e679e"><td class="mdescLeft">&#160;</td><td class="mdescRight">For use by subclasses.  <br /></td></tr>
<tr class="separator:a3d7e47c8581d7b3acd802cb8336e679e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3241b8695ba90ee12900369e9a4c6a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ad3241b8695ba90ee12900369e9a4c6a1">to_document</a> (\<a class="el" href="../../d4/dd1/classcore__search_1_1base.html">core_search\base</a> $searcharea, $docdata)</td></tr>
<tr class="memdesc:ad3241b8695ba90ee12900369e9a4c6a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a document instance prepared to be rendered.  <br /></td></tr>
<tr class="separator:ad3241b8695ba90ee12900369e9a4c6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c3ace29c6207d4a53e55e2f71f4775"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a12c3ace29c6207d4a53e55e2f71f4775">update_schema</a> ($oldversion, $newversion)</td></tr>
<tr class="memdesc:a12c3ace29c6207d4a53e55e2f71f4775"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests the search engine to upgrade the schema.  <br /></td></tr>
<tr class="separator:a12c3ace29c6207d4a53e55e2f71f4775"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:ad02e6e74d0b2537866d4fc25b62749a5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#ad02e6e74d0b2537866d4fc25b62749a5">replace_underlines</a> (string $str)</td></tr>
<tr class="memdesc:ad02e6e74d0b2537866d4fc25b62749a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces underlines at edges of words in the content with spaces.  <br /></td></tr>
<tr class="separator:ad02e6e74d0b2537866d4fc25b62749a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae6f79e130c84323de3b6fa997271bc51"><td class="memItemLeft" align="right" valign="top"><a id="ae6f79e130c84323de3b6fa997271bc51" name="ae6f79e130c84323de3b6fa997271bc51"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$cacheclient</b> = true</td></tr>
<tr class="memdesc:ae6f79e130c84323de3b6fa997271bc51"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if we should reuse SolrClients, false if not. <br /></td></tr>
<tr class="separator:ae6f79e130c84323de3b6fa997271bc51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d79528042f979f7d5d01c49a81d575e"><td class="memItemLeft" align="right" valign="top"><a id="a6d79528042f979f7d5d01c49a81d575e" name="a6d79528042f979f7d5d01c49a81d575e"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$cachedareas</b> = array()</td></tr>
<tr class="memdesc:a6d79528042f979f7d5d01c49a81d575e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal cache. <br /></td></tr>
<tr class="separator:a6d79528042f979f7d5d01c49a81d575e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544e966f5122250e05afebe26b47d927"><td class="memItemLeft" align="right" valign="top"><a id="a544e966f5122250e05afebe26b47d927" name="a544e966f5122250e05afebe26b47d927"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$cachedcourses</b> = array()</td></tr>
<tr class="memdesc:a544e966f5122250e05afebe26b47d927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal cache. <br /></td></tr>
<tr class="separator:a544e966f5122250e05afebe26b47d927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01eb3053b4b176c3edb83fe57e3d791b"><td class="memItemLeft" align="right" valign="top"><a id="a01eb3053b4b176c3edb83fe57e3d791b" name="a01eb3053b4b176c3edb83fe57e3d791b"></a>
SolrClient&#160;</td><td class="memItemRight" valign="bottom"><b>$client</b> = null</td></tr>
<tr class="separator:a01eb3053b4b176c3edb83fe57e3d791b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe27c421db29f8a710dbfcc05c95bf2f"><td class="memItemLeft" align="right" valign="top"><a id="afe27c421db29f8a710dbfcc05c95bf2f" name="afe27c421db29f8a710dbfcc05c95bf2f"></a>
stdClass&#160;</td><td class="memItemRight" valign="bottom"><b>$config</b> = null</td></tr>
<tr class="memdesc:afe27c421db29f8a710dbfcc05c95bf2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The search engine configuration. <br /></td></tr>
<tr class="separator:afe27c421db29f8a710dbfcc05c95bf2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c2b4f7b6e334a7963c43136a695b4c6"><td class="memItemLeft" align="right" valign="top"><a id="a7c2b4f7b6e334a7963c43136a695b4c6" name="a7c2b4f7b6e334a7963c43136a695b4c6"></a>
<a class="el" href="../../da/d9f/classcurl.html">curl</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$curl</b> = null</td></tr>
<tr class="memdesc:a7c2b4f7b6e334a7963c43136a695b4c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direct curl object. <br /></td></tr>
<tr class="separator:a7c2b4f7b6e334a7963c43136a695b4c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06146e484788777ea33447c644d37f5f"><td class="memItemLeft" align="right" valign="top"><a id="a06146e484788777ea33447c644d37f5f" name="a06146e484788777ea33447c644d37f5f"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$highlightfields</b> = array('title', 'content', 'description1', 'description2')</td></tr>
<tr class="memdesc:a06146e484788777ea33447c644d37f5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fields that can be highlighted. <br /></td></tr>
<tr class="separator:a06146e484788777ea33447c644d37f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca210dfdf972c1e742100fb768127479"><td class="memItemLeft" align="right" valign="top"><a id="aca210dfdf972c1e742100fb768127479" name="aca210dfdf972c1e742100fb768127479"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$pluginname</b> = null</td></tr>
<tr class="memdesc:aca210dfdf972c1e742100fb768127479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frankenstyle plugin name. <br /></td></tr>
<tr class="separator:aca210dfdf972c1e742100fb768127479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad88eb3a1861857b26220de606ac81a54"><td class="memItemLeft" align="right" valign="top"><a id="ad88eb3a1861857b26220de606ac81a54" name="ad88eb3a1861857b26220de606ac81a54"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$processeddocs</b> = 0</td></tr>
<tr class="memdesc:ad88eb3a1861857b26220de606ac81a54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of docs we have processed for the last query. <br /></td></tr>
<tr class="separator:ad88eb3a1861857b26220de606ac81a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fef94c1f9ad55b064836ead156ef19"><td class="memItemLeft" align="right" valign="top"><a id="a50fef94c1f9ad55b064836ead156ef19" name="a50fef94c1f9ad55b064836ead156ef19"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$queryerror</b> = null</td></tr>
<tr class="memdesc:a50fef94c1f9ad55b064836ead156ef19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last executed query error, if there was any. <br /></td></tr>
<tr class="separator:a50fef94c1f9ad55b064836ead156ef19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8836acec9d4f7d86b5ce558f443d487"><td class="memItemLeft" align="right" valign="top"><a id="aa8836acec9d4f7d86b5ce558f443d487" name="aa8836acec9d4f7d86b5ce558f443d487"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$skippeddocs</b> = 0</td></tr>
<tr class="memdesc:aa8836acec9d4f7d86b5ce558f443d487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of docs that have been skipped while processing the last query. <br /></td></tr>
<tr class="separator:aa8836acec9d4f7d86b5ce558f443d487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa20d5dc09d6ab752c1939aa070f92a35"><td class="memItemLeft" align="right" valign="top"><a id="aa20d5dc09d6ab752c1939aa070f92a35" name="aa20d5dc09d6ab752c1939aa070f92a35"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$skipschemacheck</b> = false</td></tr>
<tr class="memdesc:aa20d5dc09d6ab752c1939aa070f92a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, should skip schema validity check when checking the search engine is ready. <br /></td></tr>
<tr class="separator:aa20d5dc09d6ab752c1939aa070f92a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f0c78ab9651c71afa5733a731b651e6"><td class="memItemLeft" align="right" valign="top"><a id="a4f0c78ab9651c71afa5733a731b651e6" name="a4f0c78ab9651c71afa5733a731b651e6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$solrmajorversion</b> = null</td></tr>
<tr class="memdesc:a4f0c78ab9651c71afa5733a731b651e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solr server major version. <br /></td></tr>
<tr class="separator:a4f0c78ab9651c71afa5733a731b651e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337bde28e12c3aaf2c44ae5ad60fa51f"><td class="memItemLeft" align="right" valign="top"><a id="a337bde28e12c3aaf2c44ae5ad60fa51f" name="a337bde28e12c3aaf2c44ae5ad60fa51f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$totalenginedocs</b> = 0</td></tr>
<tr class="memdesc:a337bde28e12c3aaf2c44ae5ad60fa51f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of total docs reported by Sorl for the last query. <br /></td></tr>
<tr class="separator:a337bde28e12c3aaf2c44ae5ad60fa51f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:ab71dd596ba238da41beb9468c9167187"><td class="memItemLeft" align="right" valign="top">static stdClass[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ab71dd596ba238da41beb9468c9167187">$cachedusers</a> = array()</td></tr>
<tr class="memdesc:ab71dd596ba238da41beb9468c9167187"><td class="mdescLeft">&#160;</td><td class="mdescRight">User data required to show their fullnames.  <br /></td></tr>
<tr class="separator:ab71dd596ba238da41beb9468c9167187"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Solr engine. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2015 Daniel Neis Araujo </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aeaeb14304a0087d67f51f2668794dcb1" name="aeaeb14304a0087d67f51f2668794dcb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaeb14304a0087d67f51f2668794dcb1">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::__construct </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$alternateconfiguration</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises the search engine configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$alternateconfiguration</td><td>If true, use alternate configuration settings </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ac3098c4aff608bd83a1997fa1834d120">core_search\engine</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1a3f3ca4161f13acce02c0c7f160e3eb" name="a1a3f3ca4161f13acce02c0c7f160e3eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a3f3ca4161f13acce02c0c7f160e3eb">&#9670;&#160;</a></span>add_document()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::add_document </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$document</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fileindexing</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a document to the search engine. </p>
<p>This does not commit to the search engine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">document</td><td class="paramname">$document</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fileindexing</td><td>True if file indexing is to be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#adb39369ed3a8e2be2fc85548cddecd64">core_search\engine</a>.</p>

</div>
</div>
<a id="af983cd7a298f8efbce46994fce2c9d61" name="af983cd7a298f8efbce46994fce2c9d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af983cd7a298f8efbce46994fce2c9d61">&#9670;&#160;</a></span>add_document_batch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::add_document_batch </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$documents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$fileindexing</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a batch of documents to the engine at once. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search::document</a>[]</td><td class="paramname">$documents</td><td>Documents to add </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fileindexing</td><td>If true, indexes files (these are done one at a time) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int[]</td><td>Array of three elements: successfully processed, failed processed, batch count </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a78f0c030c34167bb2dc43aa4ffdf6a6d">core_search\engine</a>.</p>

</div>
</div>
<a id="a234db07a50e7da10783e683220444c2d" name="a234db07a50e7da10783e683220444c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234db07a50e7da10783e683220444c2d">&#9670;&#160;</a></span>add_documents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::add_documents </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$searcharea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loop through given iterator of search documents and and have the search engine back end add them to the index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">iterator</td><td class="paramname">$iterator</td><td>the iterator of documents to index </td></tr>
    <tr><td class="paramtype">base</td><td class="paramname">$searcharea</td><td>the area for the documents to index </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>document indexing options </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Processed document counts </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac1118892611702e36126795d1c0ec06b" name="ac1118892611702e36126795d1c0ec06b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1118892611702e36126795d1c0ec06b">&#9670;&#160;</a></span>add_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::add_fields </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets fields to be returned in the result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">SolrDisMaxQuery&#160;|&#160;SolrQuery</td><td class="paramname">$query</td><td>object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aca57da61f25e4c5c5f11f2730a52d38b" name="aca57da61f25e4c5c5f11f2730a52d38b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca57da61f25e4c5c5f11f2730a52d38b">&#9670;&#160;</a></span>add_highlight_content()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::add_highlight_content </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the key common to both highlighing and docs array returned from response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$response</td><td>containing results. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9384e362385856f144f8d025d5f1e59e" name="a9384e362385856f144f8d025d5f1e59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9384e362385856f144f8d025d5f1e59e">&#9670;&#160;</a></span>add_solr_document()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::add_solr_document </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a text document to the search engine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$doc</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a04205db7d6fa47c270a61c6481ce8ad7" name="a04205db7d6fa47c270a61c6481ce8ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04205db7d6fa47c270a61c6481ce8ad7">&#9670;&#160;</a></span>add_solr_documents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::add_solr_documents </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$docs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds multiple text documents to the search engine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$docs</td><td>Array of documents (each an array of fields) to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int[]</td><td>Array of success, failure, batch count </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search::engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89d6dfbe27d6bb44f174bd112b6adbce" name="a89d6dfbe27d6bb44f174bd112b6adbce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d6dfbe27d6bb44f174bd112b6adbce">&#9670;&#160;</a></span>add_stored_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::add_stored_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$document</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$storedfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a file to the search engine. </p>
<p>Notes about Solr and Tika indexing. We do not send the mime type, only the filename. Tika has much better content type detection than <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a>, and we will have many more doc failures if we try to send mime types.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">document</td><td class="paramname">$document</td><td></td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td><td class="paramname">$storedfile</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af2756126f73806a75d5c8cec8ac266c1" name="af2756126f73806a75d5c8cec8ac266c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2756126f73806a75d5c8cec8ac266c1">&#9670;&#160;</a></span>area_index_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::area_index_complete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$searcharea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$numdocs</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fullindex</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do any area cleanup needed, and do anything to confirm contents. </p>
<p>Return false to prevent the search area completed time and stats from being updated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search::base</a></td><td class="paramname">$searcharea</td><td>The search area that was complete </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$numdocs</td><td>The number of documents that were added to the index </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index is being performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True means that data is considered indexed </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a9d34aa912ba5ad3b9aa8d4482c98f64b">core_search\engine</a>.</p>

</div>
</div>
<a id="abe9b3a2ce39293f4652eaa82ce11e9df" name="abe9b3a2ce39293f4652eaa82ce11e9df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe9b3a2ce39293f4652eaa82ce11e9df">&#9670;&#160;</a></span>area_index_starting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::area_index_starting </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$searcharea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fullindex</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do anything that may need to be done before an area is indexed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search::base</a></td><td class="paramname">$searcharea</td><td>The search area that was complete </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index is being performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b6a38b3536041fb87941a25a7858746" name="a5b6a38b3536041fb87941a25a7858746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b6a38b3536041fb87941a25a7858746">&#9670;&#160;</a></span>check_latest_schema()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::check_latest_schema </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks that the schema is the latest version. </p>
<p>If the version stored in config does not match the current, this function will attempt to upgrade the schema.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|string</td><td>True if schema is OK, a string if user needs to take action </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81657a35775d45e16949e1f85d5ace4f" name="a81657a35775d45e16949e1f85d5ace4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81657a35775d45e16949e1f85d5ace4f">&#9670;&#160;</a></span>clear_query_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::clear_query_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the current query error value. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f1b50cf10755a1acf9131022a73a906" name="a4f1b50cf10755a1acf9131022a73a906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f1b50cf10755a1acf9131022a73a906">&#9670;&#160;</a></span>clear_users_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\engine::clear_users_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the users cache. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acfd3363fcc3fbc27c15c12f7fe231b33" name="acfd3363fcc3fbc27c15c12f7fe231b33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfd3363fcc3fbc27c15c12f7fe231b33">&#9670;&#160;</a></span>commit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::commit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Commits all pending changes. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d1c640c88a8cd73f7370836459f10c2" name="a0d1c640c88a8cd73f7370836459f10c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d1c640c88a8cd73f7370836459f10c2">&#9670;&#160;</a></span>convert_file_results()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::convert_file_results </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$responsedoc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A very lightweight handler for getting information about already indexed files from a Solr response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">SolrObject</td><td class="paramname">$responsedoc</td><td>A Solr response document </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass[]</td><td>An array of objects that contain the basic information for file processing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7357b3ea71e63dc4f261dcc981889a7b" name="a7357b3ea71e63dc4f261dcc981889a7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7357b3ea71e63dc4f261dcc981889a7b">&#9670;&#160;</a></span>create_solr_document()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::create_solr_document </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a Solr document object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$doc</td><td>Array of document fields </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SolrInputDocument</td><td>Created document </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7d4ab1c180911831e25c0460c260f126" name="a7d4ab1c180911831e25c0460c260f126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d4ab1c180911831e25c0460c260f126">&#9670;&#160;</a></span>create_user_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::create_user_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$accessinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepares a new query object with needed limits, filters, etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$filters</td><td>Containing query and filters. </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$accessinfo</td><td>Information about contexts the user can access </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SolrDisMaxQuery|null</td><td>Query object or null if they can't get any results </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7b429dcce51df860aec982c26da23f22" name="a7b429dcce51df860aec982c26da23f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b429dcce51df860aec982c26da23f22">&#9670;&#160;</a></span>delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::delete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$areaid</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete all area's documents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a55cd0c711f640fdf047c9baa5e73e400">core_search\engine</a>.</p>

</div>
</div>
<a id="af830761ce66bbcaf7737857f357909be" name="af830761ce66bbcaf7737857f357909be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af830761ce66bbcaf7737857f357909be">&#9670;&#160;</a></span>delete_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::delete_by_id </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the specified document. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>The document id to delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac527cc72ff5d031c3d7919c92e4972f0" name="ac527cc72ff5d031c3d7919c92e4972f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac527cc72ff5d031c3d7919c92e4972f0">&#9670;&#160;</a></span>delete_index_for_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::delete_index_for_context </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$oldcontextid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Solr supports deleting the index for a context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$oldcontextid</td><td>Context that has been deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True to indicate that any data was actually deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search::engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a306444949f7163a54f597ca1238af97c">core_search\engine</a>.</p>

</div>
</div>
<a id="a951ab4295eadc9d3e16ad291248d1df5" name="a951ab4295eadc9d3e16ad291248d1df5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951ab4295eadc9d3e16ad291248d1df5">&#9670;&#160;</a></span>delete_index_for_course()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::delete_index_for_course </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$oldcourseid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Solr supports deleting the index for a course. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$oldcourseid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True to indicate that any data was actually deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search::engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a938b221714b16fb9cd166436129a765e">core_search\engine</a>.</p>

</div>
</div>
<a id="a7e6c66cc8b8d9508ddca6bf55b6f81a4" name="a7e6c66cc8b8d9508ddca6bf55b6f81a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e6c66cc8b8d9508ddca6bf55b6f81a4">&#9670;&#160;</a></span>execute_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::execute_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$accessinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limit</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares a Solr query, applies filters and executes it returning its results. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search::engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$filters</td><td>Containing query and filters. </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$accessinfo</td><td>Information about areas user can access. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limit</td><td>The maximum number of results to return. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_search::document[]</td><td>Results or false if no results </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ac5f9e282c3d7b475a6ab16d03e45b3c4">core_search\engine</a>.</p>

</div>
</div>
<a id="a962168017ede23d047a7503946bf11d1" name="a962168017ede23d047a7503946bf11d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a962168017ede23d047a7503946bf11d1">&#9670;&#160;</a></span>file_indexing_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::file_indexing_enabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return true if file indexing is supported and enabled. </p>
<p>False otherwise.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a1d49d307340048f074ff55178d906552">core_search\engine</a>.</p>

</div>
</div>
<a id="a56f2792b0695029e59da34fb1c9c7a03" name="a56f2792b0695029e59da34fb1c9c7a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f2792b0695029e59da34fb1c9c7a03">&#9670;&#160;</a></span>file_is_indexable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::file_is_indexable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks to see if a passed file is indexable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td><td class="paramname">$file</td><td>The file to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the file can be indexed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3932e237dccb830eac3a1e1cccc49ca7" name="a3932e237dccb830eac3a1e1cccc49ca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3932e237dccb830eac3a1e1cccc49ca7">&#9670;&#160;</a></span>get_batch_max_content()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_batch_max_content </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the maximum size of document content to be included in a shared batch (if the document is bigger then it will be sent on its own; batching does not provide a performance improvement for big documents anyway). </p>
<p>Only relevant if the engine returns true to {</p><dl class="section see"><dt>See also</dt><dd>supports_add_document_batch}.</dd></dl>
<p>Can be overridden by search engine if required.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Max size in bytes, default 1MB </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff89dd3c8494e413d74d8da936eed21c" name="aff89dd3c8494e413d74d8da936eed21c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff89dd3c8494e413d74d8da936eed21c">&#9670;&#160;</a></span>get_batch_max_documents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int core_search\engine::get_batch_max_documents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the maximum number of documents to send together in batch mode. </p>
<p>Only relevant if the engine returns true to {</p><dl class="section see"><dt>See also</dt><dd>supports_add_document_batch}.</dd></dl>
<p>Can be overridden by search engine if required.</p>
<p>Number of documents to send together in batch mode, default 100. </p>

</div>
</div>
<a id="af837f683c195242cb0ae08e91147a11f" name="af837f683c195242cb0ae08e91147a11f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af837f683c195242cb0ae08e91147a11f">&#9670;&#160;</a></span>get_connection_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::get_connection_url </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> url object for the server connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>The solr path to append. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../dc/d31/classmoodle__url.html" title="Class for creating and manipulating urls.">moodle_url</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2af2b3cc9b49757ff11604ca2f0788c6" name="a2af2b3cc9b49757ff11604ca2f0788c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af2b3cc9b49757ff11604ca2f0788c6">&#9670;&#160;</a></span>get_course()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_course </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$courseid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a course instance checking internal caching. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a32152aee6d6cc430b40e70bbe10855cb" name="a32152aee6d6cc430b40e70bbe10855cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32152aee6d6cc430b40e70bbe10855cb">&#9670;&#160;</a></span>get_curl_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::get_curl_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a curl object for conntecting to solr. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">curl</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab995efd89c51efb67d5c17f7ade17187" name="ab995efd89c51efb67d5c17f7ade17187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab995efd89c51efb67d5c17f7ade17187">&#9670;&#160;</a></span>get_document_classname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_document_classname </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the document class used by this search engine. </p>
<p>Search engines can overwrite <a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search::document</a> with search_ENGINENAME\document class.</p>
<p>Looks for a document class in the current search engine namespace, falling back to <a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search::document</a>.</p>
<p>Publicly available because search areas do not have access to the engine details, <a class="el" href="../../df/d6b/classcore__search_1_1document__factory.html" title="Search document factory.">core_search::document_factory</a> accesses this function.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af0e613bfc55a784f33a41e9d0231f6a1" name="af0e613bfc55a784f33a41e9d0231f6a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0e613bfc55a784f33a41e9d0231f6a1">&#9670;&#160;</a></span>get_indexed_files()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::get_indexed_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$document</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$start</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rows</em> = <code>500</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the currently indexed files for a particular document, returns the total count, and a subset of files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">document</td><td class="paramname">$document</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$start</td><td>The row to start the results on. Zero indexed. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$rows</td><td>The number of rows to fetch </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>A two element array, the first is the total number of availble results, the second is an array of documents for the current request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a57b1128565495af8faebf5d8ff3558d1" name="a57b1128565495af8faebf5d8ff3558d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b1128565495af8faebf5d8ff3558d1">&#9670;&#160;</a></span>get_missing_docs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::get_missing_docs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$missingdocs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retreive any missing main documents and attach provided files. </p>
<p>The missingdocs array should be an array, indexed by document id, of main documents we need to retrieve. The value associated to the key should be an array of stored_files or stored file ids to attach to the result document.</p>
<p>Return array also indexed by document id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array()</td><td>$missingdocs An array, indexed by document id, with arrays of files/ids to attach. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">document[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ec19dd01edb078cebbf42a097d582bf" name="a4ec19dd01edb078cebbf42a097d582bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ec19dd01edb078cebbf42a097d582bf">&#9670;&#160;</a></span>get_plugin_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_plugin_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the plugin name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>Frankenstyle plugin name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10e4d6f34a47050e6245415986ae6979" name="a10e4d6f34a47050e6245415986ae6979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e4d6f34a47050e6245415986ae6979">&#9670;&#160;</a></span>get_query_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_query_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns any error reported by the search engine when executing the provided query. </p>
<p>It should be called from static::execute_query when an exception is triggered.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9dbef715ee12340adadc1c36816bba46" name="a9dbef715ee12340adadc1c36816bba46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dbef715ee12340adadc1c36816bba46">&#9670;&#160;</a></span>get_query_response()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::get_query_response </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Takes a query and returns the response in SolrObject format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">SolrQuery</td><td class="paramname">$query</td><td>Solr query object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SolrObject|false</td><td>Response document or false on error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8043e8e263d4d2aac3d85ae110d02129" name="a8043e8e263d4d2aac3d85ae110d02129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8043e8e263d4d2aac3d85ae110d02129">&#9670;&#160;</a></span>get_query_total_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::get_query_total_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total number of documents available for the most recently call to execute_query. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ac47247dd80bec3472c820d8887b77c40">core_search\engine</a>.</p>

</div>
</div>
<a id="a323f82d85f12d5bdbfe8ccfa6373387b" name="a323f82d85f12d5bdbfe8ccfa6373387b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323f82d85f12d5bdbfe8ccfa6373387b">&#9670;&#160;</a></span>get_response_counts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::get_response_counts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns count information for a provided response. </p>
<p>Will return 0, 0 for invalid or empty responses.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">SolrDocument</td><td class="paramname">$response</td><td>The response document from Solr. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>A two part array. First how many response docs are in the response. Second, how many results are vailable in the engine. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a516c8cab72324476170ec6274eca2b99" name="a516c8cab72324476170ec6274eca2b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a516c8cab72324476170ec6274eca2b99">&#9670;&#160;</a></span>get_search_area()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_search_area </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$areaid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a search instance of the specified area checking internal caching. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td>Area id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search::base</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c3f1da6db3243d032fa914e424f48f3" name="a3c3f1da6db3243d032fa914e424f48f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c3f1da6db3243d032fa914e424f48f3">&#9670;&#160;</a></span>get_search_client()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::get_search_client </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$triggerexception</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the solr client instance. </p>
<p>We don't reuse SolrClient if we are on libcurl 7.35.0, due to a bug in that version of curl.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search::engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$triggerexception</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SolrClient</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a06c67ba5dd29f6329674f3426a33311d" name="a06c67ba5dd29f6329674f3426a33311d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c67ba5dd29f6329674f3426a33311d">&#9670;&#160;</a></span>get_solr_major_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::get_solr_major_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the solr server major version. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aef0779367fc84782c36ea69bf0c53188" name="aef0779367fc84782c36ea69bf0c53188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef0779367fc84782c36ea69bf0c53188">&#9670;&#160;</a></span>get_supported_orders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::get_supported_orders </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Solr supports sort by location within course contexts or below. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>Context that the user requested search from </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array from order name =&gt; display text </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a2e70e3bed784dfee17400bd293f8ba85">core_search\engine</a>.</p>

</div>
</div>
<a id="a2d9f7c412fbde2b64845db4d59049758" name="a2d9f7c412fbde2b64845db4d59049758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d9f7c412fbde2b64845db4d59049758">&#9670;&#160;</a></span>get_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_user </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns user data checking the internal static cache. </p>
<p>Including here the minimum required user information as this may grow big.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="affc636cf7a805820e8663b154eff73b5" name="affc636cf7a805820e8663b154eff73b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc636cf7a805820e8663b154eff73b5">&#9670;&#160;</a></span>grouped_files_process_response()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::grouped_files_process_response </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limit</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes grouped file results into documents, with attached matching files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">SolrObject</td><td class="paramname">$response</td><td>The response returned from solr server </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limit</td><td>The maximum number of results to return. 0 for all. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Final results to be displayed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2c8610cd246bb29db622ddb930cd7de9" name="a2c8610cd246bb29db622ddb930cd7de9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c8610cd246bb29db622ddb930cd7de9">&#9670;&#160;</a></span>has_alternate_configuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::has_alternate_configuration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if an alternate configuration has been defined. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if alternate configuration is available </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a14d9d6f4f08c9ce30afd39f5e31cc19b">core_search\engine</a>.</p>

</div>
</div>
<a id="aff048de31fb192865e6609f65493c214" name="aff048de31fb192865e6609f65493c214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff048de31fb192865e6609f65493c214">&#9670;&#160;</a></span>index_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::index_complete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$numdocs</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fullindex</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run any post indexing operations. </p>
<p>Should be overwritten if the search engine needs to do any post index cleanup.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$numdocs</td><td>The number of documents that were added to the index </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index was performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d90b2511e1fa69b4cb7ed20a833c3d8" name="a9d90b2511e1fa69b4cb7ed20a833c3d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d90b2511e1fa69b4cb7ed20a833c3d8">&#9670;&#160;</a></span>index_starting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::index_starting </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fullindex</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run any pre-indexing operations. </p>
<p>Should be overwritten if the search engine needs to do any pre index preparation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index will be performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4a9e062703adeb5448a4ba9728c89a9" name="ab4a9e062703adeb5448a4ba9728c89a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4a9e062703adeb5448a4ba9728c89a9">&#9670;&#160;</a></span>is_installed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::is_installed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the PHP Solr extension is available. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#afe026f1679e656208d6a2842cb802e20">core_search\engine</a>.</p>

</div>
</div>
<a id="a158c82a4a4834bc3fc293e96d900f5fd" name="a158c82a4a4834bc3fc293e96d900f5fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a158c82a4a4834bc3fc293e96d900f5fd">&#9670;&#160;</a></span>is_server_configured()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::is_server_configured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the solr server properly configured?. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true|string</td><td>Returns true if all good or an error string. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aca7131b3aa93fdd11a2f61c832bfdd56" name="aca7131b3aa93fdd11a2f61c832bfdd56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca7131b3aa93fdd11a2f61c832bfdd56">&#9670;&#160;</a></span>is_server_ready()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::is_server_ready </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pings the Solr server using <a class="el" href="../../db/d09/namespacesearch__solr.html" title="&#160;">search_solr</a> config. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true|string</td><td>Returns true if all good or an error string. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a6e1d119c0b55f696a5cb9091e3a7b8d2">core_search\engine</a>.</p>

</div>
</div>
<a id="ad9487d4dea94412ac5dd3e408a1eb10d" name="ad9487d4dea94412ac5dd3e408a1eb10d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9487d4dea94412ac5dd3e408a1eb10d">&#9670;&#160;</a></span>merge_highlight_field_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::merge_highlight_field_values </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$highlighteddoc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the highlighting array values to docs array values. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/d7c/classcore__search_1_1engine__exception.html" title="Dummy class to identify search engine exceptions.">core_search::engine_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$doc</td><td>containing the results. </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$highlighteddoc</td><td>containing the highlighted results values. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad35d1ce15ed20d37cb761a18b279f5f1" name="ad35d1ce15ed20d37cb761a18b279f5f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35d1ce15ed20d37cb761a18b279f5f1">&#9670;&#160;</a></span>optimize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::optimize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Optimizes the search engine. </p>
<p>Should be overwritten if the search engine can optimize its contents.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add920b6c2561d3b736f585fe8728d231" name="add920b6c2561d3b736f585fe8728d231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add920b6c2561d3b736f585fe8728d231">&#9670;&#160;</a></span>process_document_files()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::process_document_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$document</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Index files attached to the docuemnt, ensuring the index matches the current document files. </p>
<p>For documents that aren't known to be new, we check the index for existing files.</p><ul>
<li>New files we will add.</li>
<li>Existing and unchanged files we will skip.</li>
<li>File that are in the index but not on the document will be deleted from the index.</li>
<li>Files that have changed will be re-indexed.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">document</td><td class="paramname">$document</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aafa3da4be3f7bf920b82d4d9909cd2c4" name="aafa3da4be3f7bf920b82d4d9909cd2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafa3da4be3f7bf920b82d4d9909cd2c4">&#9670;&#160;</a></span>process_response()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::process_response </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limit</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$skipaccesscheck</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Filters the response on <a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> side. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">SolrObject</td><td class="paramname">$response</td><td>Solr object containing the response return from solr server. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limit</td><td>The maximum number of results to return. 0 for all. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$skipaccesscheck</td><td>Don't use check_access() on results. Only to be used when results have known access. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array::$results</td><td>containing final results to be displayed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abfe1f56b0ab42852fe5916a15b78cdff" name="abfe1f56b0ab42852fe5916a15b78cdff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfe1f56b0ab42852fe5916a15b78cdff">&#9670;&#160;</a></span>record_applied_schema_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::record_applied_schema_version </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Usually called by the engine; marks that the schema has been updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$version</td><td>Records the schema version now applied </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad02e6e74d0b2537866d4fc25b62749a5" name="ad02e6e74d0b2537866d4fc25b62749a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad02e6e74d0b2537866d4fc25b62749a5">&#9670;&#160;</a></span>replace_underlines()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static search_solr\engine::replace_underlines </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replaces underlines at edges of words in the content with spaces. </p>
<p>For example '<em>frogs</em>' will become 'frogs', '<em>frogs and toads</em>' will become 'frogs and toads', and 'frogs_and_toads' will be left as 'frogs_and_toads'.</p>
<p>The reason for this is that for italic content_to_text puts <em>italic</em> underlines at the start and end of the italicised phrase (not between words). Solr treats underlines as part of the word, which means that if you search for a word in italic then you can't find it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>String to replace </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>Replaced string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a94ceae1b9ba9b9befda57cac24c6f865" name="a94ceae1b9ba9b9befda57cac24c6f865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94ceae1b9ba9b9befda57cac24c6f865">&#9670;&#160;</a></span>set_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::set_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepares a new query by setting the query, start offset and rows to return. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">SolrQuery</td><td class="paramname">$query</td><td></td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$q</td><td>Containing query and filters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3d7e47c8581d7b3acd802cb8336e679e" name="a3d7e47c8581d7b3acd802cb8336e679e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7e47c8581d7b3acd802cb8336e679e">&#9670;&#160;</a></span>should_skip_schema_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::should_skip_schema_check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For use by subclasses. </p>
<p>The engine can call this inside is_server_ready to check whether it should skip time-consuming schema checks.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.5 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if schema checks should be skipped </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07744a383f58ece1317bb140954f03a6" name="a07744a383f58ece1317bb140954f03a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07744a383f58ece1317bb140954f03a6">&#9670;&#160;</a></span>skip_schema_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::skip_schema_check </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$skip</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the search engine to skip any time-consuming checks that it might do as part of the is_server_ready function, and only carry out a basic check that it can contact the server. </p>
<p>This setting is not remembered and applies only to the current request.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.5 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$skip</td><td>True to skip the checks, false to start checking again </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a38c85b18bacebb8f3a35a7045a3bbccd" name="a38c85b18bacebb8f3a35a7045a3bbccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38c85b18bacebb8f3a35a7045a3bbccd">&#9670;&#160;</a></span>standarize_solr_obj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::standarize_solr_obj </td>
          <td>(</td>
          <td class="paramtype">\SolrObject&#160;</td>
          <td class="paramname"><em>$obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a standard php array from a SolrObject instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">SolrObject</td><td class="paramname">$obj</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>The returned document as an array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f1a310260f1ede742618134d2d61da0" name="a4f1a310260f1ede742618134d2d61da0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f1a310260f1ede742618134d2d61da0">&#9670;&#160;</a></span>supports_add_document_batch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::supports_add_document_batch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Solr supports adding documents in a batch. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ae7eb7d21cb9242750ca91b8e04d66cca">core_search\engine</a>.</p>

</div>
</div>
<a id="a88091f39bdee636ff709b343617071f4" name="a88091f39bdee636ff709b343617071f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88091f39bdee636ff709b343617071f4">&#9670;&#160;</a></span>supports_group_filtering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::supports_group_filtering </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Solr includes group support in the execute_query function. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#adfcac166f5550dff691c721415d83816">core_search\engine</a>.</p>

</div>
</div>
<a id="ada534d6db690e2764886b7c13ee64cd0" name="ada534d6db690e2764886b7c13ee64cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada534d6db690e2764886b7c13ee64cd0">&#9670;&#160;</a></span>supports_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::supports_users </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Solr supports search by user id. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#afbc7b72413ebe511fdc2463aa99b57de">core_search\engine</a>.</p>

</div>
</div>
<a id="ad3241b8695ba90ee12900369e9a4c6a1" name="ad3241b8695ba90ee12900369e9a4c6a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3241b8695ba90ee12900369e9a4c6a1">&#9670;&#160;</a></span>to_document()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::to_document </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../d4/dd1/classcore__search_1_1base.html">core_search\base</a>&#160;</td>
          <td class="paramname"><em>$searcharea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$docdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a document instance prepared to be rendered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search::base</a></td><td class="paramname">$searcharea</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$docdata</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search::document</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12c3ace29c6207d4a53e55e2f71f4775" name="a12c3ace29c6207d4a53e55e2f71f4775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12c3ace29c6207d4a53e55e2f71f4775">&#9670;&#160;</a></span>update_schema()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">search_solr\engine::update_schema </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$oldversion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$newversion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requests the search engine to upgrade the schema. </p>
<p>The engine should update the schema if possible/necessary, and should ensure that record_applied_schema_version is called as a result.</p>
<p>If it is not possible to upgrade the schema at the moment, it can do nothing and return; the function will be called again next time search is initialised.</p>
<p>The default implementation just returns, with a DEBUG_DEVELOPER warning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$oldversion</td><td>Old schema version </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$newversion</td><td>New schema version </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|string</td><td>True if schema is updated successfully, a string if it needs updating manually </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ab4feaed0a38c119d739d35589ddda2a6">core_search\engine</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab71dd596ba238da41beb9468c9167187" name="ab71dd596ba238da41beb9468c9167187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71dd596ba238da41beb9468c9167187">&#9670;&#160;</a></span>$cachedusers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdClass [] core_search\engine::$cachedusers = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>User data required to show their fullnames. </p>
<p>Indexed by userid. </p>

</div>
</div>
<a id="a1ec4c77b35f62fce5f838a706a2f7dd0" name="a1ec4c77b35f62fce5f838a706a2f7dd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ec4c77b35f62fce5f838a706a2f7dd0">&#9670;&#160;</a></span>FRAG_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const search_solr\engine::FRAG_SIZE = 510</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Highlighting fragsize. </p>
<p>Slightly larger than output size (500) to allow for ... appending. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>search/engine/solr/classes/engine.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 30 2023 06:08:19 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
