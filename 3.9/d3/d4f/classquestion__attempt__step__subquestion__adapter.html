<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: question_attempt_step_subquestion_adapter Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;3.9</span>
   </div>
   <div id="projectbrief">Moodle 3.9.17+ (Build: 20221014) (162053448e)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../da/dfc/classquestion__attempt__step__subquestion__adapter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">question_attempt_step_subquestion_adapter Class Reference<div class="ingroups"><a class="el" href="../../d6/d9f/group__moodlecore.html">moodlecore</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>This is an adapter class that wraps a <a class="el" href="../../df/db2/classquestion__attempt__step.html">question_attempt_step</a> and modifies the get/set_*_data methods so that they operate only on the parts that belong to a particular subquestion, as indicated by an extra prefix.  
 <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for question_attempt_step_subquestion_adapter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.png" usemap="#question_5Fattempt_5Fstep_5Fsubquestion_5Fadapter_map" alt=""/>
  <map id="question_5Fattempt_5Fstep_5Fsubquestion_5Fadapter_map" name="question_5Fattempt_5Fstep_5Fsubquestion_5Fadapter_map">
<area href="../../df/db2/classquestion__attempt__step.html" title="Stores one step in a question_attempt." alt="question_attempt_step" shape="rect" coords="0,0,257,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a28a0650e6da4b4ae6dfa66ac6915efc0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a28a0650e6da4b4ae6dfa66ac6915efc0">__construct</a> ($realqas, $extraprefix)</td></tr>
<tr class="memdesc:a28a0650e6da4b4ae6dfa66ac6915efc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a28a0650e6da4b4ae6dfa66ac6915efc0">More...</a><br /></td></tr>
<tr class="separator:a28a0650e6da4b4ae6dfa66ac6915efc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23503a9814b36e7e9d67ecd2ad2e40af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a23503a9814b36e7e9d67ecd2ad2e40af">add_prefix</a> ($field)</td></tr>
<tr class="memdesc:a23503a9814b36e7e9d67ecd2ad2e40af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the extra prefix to a field name.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a23503a9814b36e7e9d67ecd2ad2e40af">More...</a><br /></td></tr>
<tr class="separator:a23503a9814b36e7e9d67ecd2ad2e40af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f166d2b40daa8b022209b8607180fda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a2f166d2b40daa8b022209b8607180fda">filter_array</a> ($data)</td></tr>
<tr class="memdesc:a2f166d2b40daa8b022209b8607180fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter some data to keep only those entries where the key contains extraprefix, and remove the extra prefix from the reutrned arrary.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a2f166d2b40daa8b022209b8607180fda">More...</a><br /></td></tr>
<tr class="separator:a2f166d2b40daa8b022209b8607180fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6038fc3144d5ba25d01092a15e2596ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a6038fc3144d5ba25d01092a15e2596ce">get_all_data</a> ()</td></tr>
<tr class="memdesc:a6038fc3144d5ba25d01092a15e2596ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the data.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a6038fc3144d5ba25d01092a15e2596ce">More...</a><br /></td></tr>
<tr class="separator:a6038fc3144d5ba25d01092a15e2596ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0142ad110a610c794235502068a6a78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#af0142ad110a610c794235502068a6a78">get_behaviour_data</a> ()</td></tr>
<tr class="memdesc:af0142ad110a610c794235502068a6a78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the behaviour variables.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#af0142ad110a610c794235502068a6a78">More...</a><br /></td></tr>
<tr class="separator:af0142ad110a610c794235502068a6a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65aafcce30ec2086b5f7e52502493c73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a65aafcce30ec2086b5f7e52502493c73">get_behaviour_var</a> ($name)</td></tr>
<tr class="separator:a65aafcce30ec2086b5f7e52502493c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4200fe5655b1bfa154bdec82718d65e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a4200fe5655b1bfa154bdec82718d65e9">get_fraction</a> ()</td></tr>
<tr class="separator:a4200fe5655b1bfa154bdec82718d65e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef2090b5e8e9141537c551dc61aed15"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classquestion__attempt__step.html#a1ef2090b5e8e9141537c551dc61aed15">get_id</a> ()</td></tr>
<tr class="separator:a1ef2090b5e8e9141537c551dc61aed15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055ae12fe8d24425365ae02780f869f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classquestion__attempt__step.html#a055ae12fe8d24425365ae02780f869f1">get_metadata_var</a> ($name)</td></tr>
<tr class="memdesc:a055ae12fe8d24425365ae02780f869f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a metadata variable.  <a href="../../df/db2/classquestion__attempt__step.html#a055ae12fe8d24425365ae02780f869f1">More...</a><br /></td></tr>
<tr class="separator:a055ae12fe8d24425365ae02780f869f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e4c668a8d0c8da6a81c1c0a43a420c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a9e4c668a8d0c8da6a81c1c0a43a420c1">get_qt_data</a> ()</td></tr>
<tr class="memdesc:a9e4c668a8d0c8da6a81c1c0a43a420c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the question type variables.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a9e4c668a8d0c8da6a81c1c0a43a420c1">More...</a><br /></td></tr>
<tr class="separator:a9e4c668a8d0c8da6a81c1c0a43a420c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a115f6002f4d670c8522965c1588fb2f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a115f6002f4d670c8522965c1588fb2f2">get_qt_files</a> ($name, $contextid)</td></tr>
<tr class="memdesc:a115f6002f4d670c8522965c1588fb2f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the latest set of files for a particular question type variable of type <a class="el" href="../../d3/dda/classquestion__attempt.html#a739e341bbc011ebcc4e39ab8147e3a16" title="special value to indicate a response variable that is uploaded files.">question_attempt::PARAM_FILES</a>.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a115f6002f4d670c8522965c1588fb2f2">More...</a><br /></td></tr>
<tr class="separator:a115f6002f4d670c8522965c1588fb2f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3597fc707b18942af0e4a38251d14ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#af3597fc707b18942af0e4a38251d14ba">get_qt_var</a> ($name)</td></tr>
<tr class="separator:af3597fc707b18942af0e4a38251d14ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340de80554a096589c2bd6f2aa5302bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a340de80554a096589c2bd6f2aa5302bc">get_state</a> ()</td></tr>
<tr class="separator:a340de80554a096589c2bd6f2aa5302bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66403c109e7b6b72bf059663e69069e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a66403c109e7b6b72bf059663e69069e1">get_submitted_data</a> ()</td></tr>
<tr class="memdesc:a66403c109e7b6b72bf059663e69069e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the submitted data, but not the cached data.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a66403c109e7b6b72bf059663e69069e1">More...</a><br /></td></tr>
<tr class="separator:a66403c109e7b6b72bf059663e69069e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a677617d5da2fe2325c4cc1aa4a33a34d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a677617d5da2fe2325c4cc1aa4a33a34d">get_timecreated</a> ()</td></tr>
<tr class="separator:a677617d5da2fe2325c4cc1aa4a33a34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da79afa721d53ebdcfb5faa0e42bfea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a4da79afa721d53ebdcfb5faa0e42bfea">get_user_id</a> ()</td></tr>
<tr class="separator:a4da79afa721d53ebdcfb5faa0e42bfea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1873e46e6c2bf2244c265a5eba6b9aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ab1873e46e6c2bf2244c265a5eba6b9aa">has_behaviour_var</a> ($name)</td></tr>
<tr class="separator:ab1873e46e6c2bf2244c265a5eba6b9aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa686c83bf68dd59aae4e72d40accd528"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classquestion__attempt__step.html#aa686c83bf68dd59aae4e72d40accd528">has_metadata_var</a> ($name)</td></tr>
<tr class="memdesc:aa686c83bf68dd59aae4e72d40accd528"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this step has a metadata variable.  <a href="../../df/db2/classquestion__attempt__step.html#aa686c83bf68dd59aae4e72d40accd528">More...</a><br /></td></tr>
<tr class="separator:aa686c83bf68dd59aae4e72d40accd528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2264ada06b4cc1ae35f56e268e10bd1c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a2264ada06b4cc1ae35f56e268e10bd1c">has_qt_var</a> ($name)</td></tr>
<tr class="separator:a2264ada06b4cc1ae35f56e268e10bd1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad317ab73f4d883155483839ac2059f36"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ad317ab73f4d883155483839ac2059f36">prepare_response_files_draft_itemid</a> ($name, $contextid)</td></tr>
<tr class="memdesc:ad317ab73f4d883155483839ac2059f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a draft file are for the files belonging the a response variable of this step.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ad317ab73f4d883155483839ac2059f36">More...</a><br /></td></tr>
<tr class="separator:ad317ab73f4d883155483839ac2059f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a105ca11dc2502b109d6f1e488f2e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ad0a105ca11dc2502b109d6f1e488f2e4">prepare_response_files_draft_itemid_with_text</a> ($name, $contextid, $text)</td></tr>
<tr class="memdesc:ad0a105ca11dc2502b109d6f1e488f2e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a draft file are for the files belonging the a response variable of this step, while rewriting the URLs in some text.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ad0a105ca11dc2502b109d6f1e488f2e4">More...</a><br /></td></tr>
<tr class="separator:ad0a105ca11dc2502b109d6f1e488f2e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915c8ef10ca75dff0c7bb72e1703aa8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a915c8ef10ca75dff0c7bb72e1703aa8d">remove_prefix</a> ($field)</td></tr>
<tr class="memdesc:a915c8ef10ca75dff0c7bb72e1703aa8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the extra prefix from a field name if it is present.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a915c8ef10ca75dff0c7bb72e1703aa8d">More...</a><br /></td></tr>
<tr class="separator:a915c8ef10ca75dff0c7bb72e1703aa8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2738df6d00643cc8502e348c2403c40b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a2738df6d00643cc8502e348c2403c40b">rewrite_response_pluginfile_urls</a> ($text, $contextid, $name, $extras)</td></tr>
<tr class="memdesc:a2738df6d00643cc8502e348c2403c40b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrite the @PLUGINFILE@ tokens in a response variable from this step that contains links to file.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a2738df6d00643cc8502e348c2403c40b">More...</a><br /></td></tr>
<tr class="separator:a2738df6d00643cc8502e348c2403c40b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80d369f1198cb60f3103a588abc027d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a80d369f1198cb60f3103a588abc027d3">set_behaviour_var</a> ($name, $value)</td></tr>
<tr class="memdesc:a80d369f1198cb60f3103a588abc027d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a cached behaviour variable.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a80d369f1198cb60f3103a588abc027d3">More...</a><br /></td></tr>
<tr class="separator:a80d369f1198cb60f3103a588abc027d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab81853fc5ec7a7b7359f9c8cda5a5668"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ab81853fc5ec7a7b7359f9c8cda5a5668">set_fraction</a> ($fraction)</td></tr>
<tr class="memdesc:ab81853fc5ec7a7b7359f9c8cda5a5668"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the fraction.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#ab81853fc5ec7a7b7359f9c8cda5a5668">More...</a><br /></td></tr>
<tr class="separator:ab81853fc5ec7a7b7359f9c8cda5a5668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af096aeb0330ae08fcbb32342e44ed838"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classquestion__attempt__step.html#af096aeb0330ae08fcbb32342e44ed838">set_metadata_var</a> ($name, $value)</td></tr>
<tr class="memdesc:af096aeb0330ae08fcbb32342e44ed838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a metadata variable.  <a href="../../df/db2/classquestion__attempt__step.html#af096aeb0330ae08fcbb32342e44ed838">More...</a><br /></td></tr>
<tr class="separator:af096aeb0330ae08fcbb32342e44ed838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab88e519124409eaf6a30f53f2b1c3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a5ab88e519124409eaf6a30f53f2b1c3a">set_qt_var</a> ($name, $value)</td></tr>
<tr class="memdesc:a5ab88e519124409eaf6a30f53f2b1c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a cached question type variable.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a5ab88e519124409eaf6a30f53f2b1c3a">More...</a><br /></td></tr>
<tr class="separator:a5ab88e519124409eaf6a30f53f2b1c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ea34660cb5c124612090462670b659"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a61ea34660cb5c124612090462670b659">set_state</a> ($state)</td></tr>
<tr class="memdesc:a61ea34660cb5c124612090462670b659"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the state.  <a href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a61ea34660cb5c124612090462670b659">More...</a><br /></td></tr>
<tr class="separator:a61ea34660cb5c124612090462670b659"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a51b41f06e97ee49afce2f6396d8b3c38"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db2/classquestion__attempt__step.html#a51b41f06e97ee49afce2f6396d8b3c38">load_from_records</a> ($records, $attemptstepid, $qtype=null)</td></tr>
<tr class="memdesc:a51b41f06e97ee49afce2f6396d8b3c38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="../../df/db2/classquestion__attempt__step.html" title="Stores one step in a question_attempt.">question_attempt_step</a> from records loaded from the database.  <a href="../../df/db2/classquestion__attempt__step.html#a51b41f06e97ee49afce2f6396d8b3c38">More...</a><br /></td></tr>
<tr class="separator:a51b41f06e97ee49afce2f6396d8b3c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab48c28465605fd422ecaecdeaddd4907"><td class="memItemLeft" align="right" valign="top"><a id="ab48c28465605fd422ecaecdeaddd4907" name="ab48c28465605fd422ecaecdeaddd4907"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$extraprefix</b></td></tr>
<tr class="memdesc:ab48c28465605fd422ecaecdeaddd4907"><td class="mdescLeft">&#160;</td><td class="mdescRight">the exta prefix on fields we work with. <br /></td></tr>
<tr class="separator:ab48c28465605fd422ecaecdeaddd4907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b8e1ea1f79406b61e43634a1212d93"><td class="memItemLeft" align="right" valign="top"><a id="ab7b8e1ea1f79406b61e43634a1212d93" name="ab7b8e1ea1f79406b61e43634a1212d93"></a>
<a class="el" href="../../df/db2/classquestion__attempt__step.html">question_attempt_step</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$realstep</b></td></tr>
<tr class="memdesc:ab7b8e1ea1f79406b61e43634a1212d93"><td class="mdescLeft">&#160;</td><td class="mdescRight">the step we are wrapping. <br /></td></tr>
<tr class="separator:ab7b8e1ea1f79406b61e43634a1212d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This is an adapter class that wraps a <a class="el" href="../../df/db2/classquestion__attempt__step.html">question_attempt_step</a> and modifies the get/set_*_data methods so that they operate only on the parts that belong to a particular subquestion, as indicated by an extra prefix. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2010 The Open University </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a28a0650e6da4b4ae6dfa66ac6915efc0" name="a28a0650e6da4b4ae6dfa66ac6915efc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28a0650e6da4b4ae6dfa66ac6915efc0">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$realqas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extraprefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../df/db2/classquestion__attempt__step.html" title="Stores one step in a question_attempt.">question_attempt_step</a></td><td class="paramname">$realqas</td><td>the step to wrap. (Can be null if you just want to call add/remove.prefix.) </td></tr>
    <tr><td class="paramtype">unknown_type</td><td class="paramname">$extraprefix</td><td>the extra prefix that is used for date fields. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a23503a9814b36e7e9d67ecd2ad2e40af" name="a23503a9814b36e7e9d67ecd2ad2e40af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23503a9814b36e7e9d67ecd2ad2e40af">&#9670;&#160;</a></span>add_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::add_prefix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$field</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the extra prefix to a field name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>the plain field name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the field name with the extra bit of prefix added. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2f166d2b40daa8b022209b8607180fda" name="a2f166d2b40daa8b022209b8607180fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f166d2b40daa8b022209b8607180fda">&#9670;&#160;</a></span>filter_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::filter_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter some data to keep only those entries where the key contains extraprefix, and remove the extra prefix from the reutrned arrary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>some of the data stored in this step. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the data with the keys ajusted using <a class="el" href="../../d3/d4f/classquestion__attempt__step__subquestion__adapter.html#a915c8ef10ca75dff0c7bb72e1703aa8d">remove_prefix()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6038fc3144d5ba25d01092a15e2596ce" name="a6038fc3144d5ba25d01092a15e2596ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6038fc3144d5ba25d01092a15e2596ce">&#9670;&#160;</a></span>get_all_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_all_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the data. </p>
<p >behaviour variables have the - at the start of their name. This is only intended for internal use, for example by <a class="el" href="../../da/d46/classquestion__engine__data__mapper.html#a234cdd22982a6062cd348a83df970bfa">question_engine_data_mapper::insert_question_attempt_step()</a>, however, it can occasionally be useful in test code. It should not be considered part of the public API of this class. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>name =&gt; value pairs. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#ad010cdb399dad1650ea8e286dbeb6b0c">question_attempt_step</a>.</p>

</div>
</div>
<a id="af0142ad110a610c794235502068a6a78" name="af0142ad110a610c794235502068a6a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0142ad110a610c794235502068a6a78">&#9670;&#160;</a></span>get_behaviour_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_behaviour_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the behaviour variables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>name =&gt; value pairs. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a68880d82944fb96dbda0f852fece6ec8">question_attempt_step</a>.</p>

</div>
</div>
<a id="a65aafcce30ec2086b5f7e52502493c73" name="a65aafcce30ec2086b5f7e52502493c73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65aafcce30ec2086b5f7e52502493c73">&#9670;&#160;</a></span>get_behaviour_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_behaviour_var </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of a behaviour variable to look for in the submitted data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the requested variable, or null if the variable is not set. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#aa7e960f480a35a9898f4d07f01a166d7">question_attempt_step</a>.</p>

</div>
</div>
<a id="a4200fe5655b1bfa154bdec82718d65e9" name="a4200fe5655b1bfa154bdec82718d65e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4200fe5655b1bfa154bdec82718d65e9">&#9670;&#160;</a></span>get_fraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_fraction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null|number</td><td>the fraction (grade on a scale of minfraction .. maxfraction, normally 0..1), or null if this step has not been marked. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#aaa264fc40696d4660d6fc6a6a1162af3">question_attempt_step</a>.</p>

</div>
</div>
<a id="a1ef2090b5e8e9141537c551dc61aed15" name="a1ef2090b5e8e9141537c551dc61aed15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef2090b5e8e9141537c551dc61aed15">&#9670;&#160;</a></span>get_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|null</td><td>The id of this step in the database. null if this step is not stored in the database. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a055ae12fe8d24425365ae02780f869f1" name="a055ae12fe8d24425365ae02780f869f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055ae12fe8d24425365ae02780f869f1">&#9670;&#160;</a></span>get_metadata_var()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::get_metadata_var </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a metadata variable. </p>
<p >Do not call this method directly from your code. It is for internal use only. You should call <a class="el" href="../../">question_usage::get_question_attempt_metadata()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the variable to set. [a-z][a-z0-9]*. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the value to set previously, or null if this variable was never set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e4c668a8d0c8da6a81c1c0a43a420c1" name="a9e4c668a8d0c8da6a81c1c0a43a420c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e4c668a8d0c8da6a81c1c0a43a420c1">&#9670;&#160;</a></span>get_qt_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_qt_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the question type variables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>name =&gt; value pairs. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#aabf44da05f5609f664e1f43566f559a3">question_attempt_step</a>.</p>

</div>
</div>
<a id="a115f6002f4d670c8522965c1588fb2f2" name="a115f6002f4d670c8522965c1588fb2f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a115f6002f4d670c8522965c1588fb2f2">&#9670;&#160;</a></span>get_qt_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_qt_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the latest set of files for a particular question type variable of type <a class="el" href="../../d3/dda/classquestion__attempt.html#a739e341bbc011ebcc4e39ab8147e3a16" title="special value to indicate a response variable that is uploaded files.">question_attempt::PARAM_FILES</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the associated variable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of <a class="el" href="../../">stored_files</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a8ec5e049fdc5b4857e6fd81ea64de51a">question_attempt_step</a>.</p>

</div>
</div>
<a id="af3597fc707b18942af0e4a38251d14ba" name="af3597fc707b18942af0e4a38251d14ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3597fc707b18942af0e4a38251d14ba">&#9670;&#160;</a></span>get_qt_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_qt_var </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of a question type variable to look for in the submitted data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the requested variable, or null if the variable is not set. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a0776b9d3e6076e4e4c5f1dbcdd293b74">question_attempt_step</a>.</p>

</div>
</div>
<a id="a340de80554a096589c2bd6f2aa5302bc" name="a340de80554a096589c2bd6f2aa5302bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a340de80554a096589c2bd6f2aa5302bc">&#9670;&#160;</a></span>get_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d9/d5e/classquestion__state.html" title="An enumeration representing the states a question can be in after a question_attempt_step.">question_state</a></td><td>The state after this step. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a5fb154428270e11cf41bc2c443050262">question_attempt_step</a>.</p>

</div>
</div>
<a id="a66403c109e7b6b72bf059663e69069e1" name="a66403c109e7b6b72bf059663e69069e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66403c109e7b6b72bf059663e69069e1">&#9670;&#160;</a></span>get_submitted_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_submitted_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the submitted data, but not the cached data. </p>
<p >behaviour variables have the - at the start of their name. This is only really intended for use by <a class="el" href="../../d3/dda/classquestion__attempt.html#a5adbdc63285deda9ac83b65f3eb3a168">question_attempt::regrade()</a>, it should not be considered part of the public API. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>name =&gt; value pairs. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a03064704316bad9c298486ddb97ad3cc">question_attempt_step</a>.</p>

</div>
</div>
<a id="a677617d5da2fe2325c4cc1aa4a33a34d" name="a677617d5da2fe2325c4cc1aa4a33a34d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a677617d5da2fe2325c4cc1aa4a33a34d">&#9670;&#160;</a></span>get_timecreated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_timecreated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the timestamp when this step was created. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a489f56bc68e30f9446fbcc276eae6380">question_attempt_step</a>.</p>

</div>
</div>
<a id="a4da79afa721d53ebdcfb5faa0e42bfea" name="a4da79afa721d53ebdcfb5faa0e42bfea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4da79afa721d53ebdcfb5faa0e42bfea">&#9670;&#160;</a></span>get_user_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::get_user_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the id of the user resonsible for creating this step. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#abc8169faf17d899aa6bfc556b37d3687">question_attempt_step</a>.</p>

</div>
</div>
<a id="ab1873e46e6c2bf2244c265a5eba6b9aa" name="ab1873e46e6c2bf2244c265a5eba6b9aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1873e46e6c2bf2244c265a5eba6b9aa">&#9670;&#160;</a></span>has_behaviour_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::has_behaviour_var </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of a behaviour variable to look for in the submitted data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether a variable with this name exists in the question type data. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a9f336a51fded3bac1d8f905ecd9e8678">question_attempt_step</a>.</p>

</div>
</div>
<a id="aa686c83bf68dd59aae4e72d40accd528" name="aa686c83bf68dd59aae4e72d40accd528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa686c83bf68dd59aae4e72d40accd528">&#9670;&#160;</a></span>has_metadata_var()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::has_metadata_var </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether this step has a metadata variable. </p>
<p >Do not call this method directly from your code. It is for internal use only. You should call <a class="el" href="../../">question_usage::get_question_attempt_metadata()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the variable to set. [a-z][a-z0-9]*. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>the value to set previously, or null if this variable was never set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2264ada06b4cc1ae35f56e268e10bd1c" name="a2264ada06b4cc1ae35f56e268e10bd1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2264ada06b4cc1ae35f56e268e10bd1c">&#9670;&#160;</a></span>has_qt_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::has_qt_var </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of a question type variable to look for in the submitted data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>whether a variable with this name exists in the question type data. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a1f80d184cf51891d1e780aa85eba2d96">question_attempt_step</a>.</p>

</div>
</div>
<a id="a51b41f06e97ee49afce2f6396d8b3c38" name="a51b41f06e97ee49afce2f6396d8b3c38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b41f06e97ee49afce2f6396d8b3c38">&#9670;&#160;</a></span>load_from_records()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static question_attempt_step::load_from_records </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$attemptstepid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$qtype</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a <a class="el" href="../../df/db2/classquestion__attempt__step.html" title="Stores one step in a question_attempt.">question_attempt_step</a> from records loaded from the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">Iterator</td><td class="paramname">$records</td><td>Raw records loaded from the database. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$stepid</td><td>The id of the records to extract. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$qtype</td><td>The question type of which this is an attempt. If not given, each record must include a qtype field. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../df/db2/classquestion__attempt__step.html" title="Stores one step in a question_attempt.">question_attempt_step</a></td><td>The newly constructed <a class="el" href="../../df/db2/classquestion__attempt__step.html" title="Stores one step in a question_attempt.">question_attempt_step</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad317ab73f4d883155483839ac2059f36" name="ad317ab73f4d883155483839ac2059f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad317ab73f4d883155483839ac2059f36">&#9670;&#160;</a></span>prepare_response_files_draft_itemid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::prepare_response_files_draft_itemid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare a draft file are for the files belonging the a response variable of this step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the variable name the files belong to. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>the id of the context the quba belongs to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the draft itemid. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#aaec30512ccfd394a2217e4f042bdaaaf">question_attempt_step</a>.</p>

</div>
</div>
<a id="ad0a105ca11dc2502b109d6f1e488f2e4" name="ad0a105ca11dc2502b109d6f1e488f2e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0a105ca11dc2502b109d6f1e488f2e4">&#9670;&#160;</a></span>prepare_response_files_draft_itemid_with_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::prepare_response_files_draft_itemid_with_text </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare a draft file are for the files belonging the a response variable of this step, while rewriting the URLs in some text. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the variable name the files belong to. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>the id of the context the quba belongs to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>the text to update the URLs in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array(int,string)</td><td>the draft itemid and the text with URLs rewritten. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#af12e7561a04c17a87e8598f0b1c8d90e">question_attempt_step</a>.</p>

</div>
</div>
<a id="a915c8ef10ca75dff0c7bb72e1703aa8d" name="a915c8ef10ca75dff0c7bb72e1703aa8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a915c8ef10ca75dff0c7bb72e1703aa8d">&#9670;&#160;</a></span>remove_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::remove_prefix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$field</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the extra prefix from a field name if it is present. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>the extended field name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the field name with the extra bit of prefix removed, or null if the extre prefix was not present. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2738df6d00643cc8502e348c2403c40b" name="a2738df6d00643cc8502e348c2403c40b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2738df6d00643cc8502e348c2403c40b">&#9670;&#160;</a></span>rewrite_response_pluginfile_urls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::rewrite_response_pluginfile_urls </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$contextid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extras</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rewrite the @PLUGINFILE@ tokens in a response variable from this step that contains links to file. </p>
<p >Normally you should probably call <a class="el" href="../../d3/dda/classquestion__attempt.html#a90148e0178e3da06f11ba1a465e671f5">question_attempt::rewrite_response_pluginfile_urls()</a> instead of calling this method directly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>the text to update the URLs in. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>the id of the context the quba belongs to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the variable name the files belong to. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$extra</td><td>extra file path components. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the rewritten text. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#ac3292024fa6d5c0f5f57fd6b7b2e645f">question_attempt_step</a>.</p>

</div>
</div>
<a id="a80d369f1198cb60f3103a588abc027d3" name="a80d369f1198cb60f3103a588abc027d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80d369f1198cb60f3103a588abc027d3">&#9670;&#160;</a></span>set_behaviour_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::set_behaviour_var </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a cached behaviour variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the variable to set. Must match _[a-z][a-z0-9]*. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>the value to set. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a79278dca99d0af23065345d646eb82d6">question_attempt_step</a>.</p>

</div>
</div>
<a id="ab81853fc5ec7a7b7359f9c8cda5a5668" name="ab81853fc5ec7a7b7359f9c8cda5a5668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab81853fc5ec7a7b7359f9c8cda5a5668">&#9670;&#160;</a></span>set_fraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::set_fraction </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fraction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the fraction. </p>
<p >Normally only called by behaviours. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;number</td><td class="paramname">$fraction</td><td>the fraction to set. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a390723584ad542507f6bc035e414b1b9">question_attempt_step</a>.</p>

</div>
</div>
<a id="af096aeb0330ae08fcbb32342e44ed838" name="af096aeb0330ae08fcbb32342e44ed838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af096aeb0330ae08fcbb32342e44ed838">&#9670;&#160;</a></span>set_metadata_var()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step::set_metadata_var </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a metadata variable. </p>
<p >Do not call this method directly from your code. It is for internal use only. You should call <a class="el" href="../../">question_usage::set_question_attempt_metadata()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the variable to set. [a-z][a-z0-9]*. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>the value to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5ab88e519124409eaf6a30f53f2b1c3a" name="a5ab88e519124409eaf6a30f53f2b1c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ab88e519124409eaf6a30f53f2b1c3a">&#9670;&#160;</a></span>set_qt_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::set_qt_var </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a cached question type variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>the name of the variable to set. Must match _[a-z][a-z0-9]*. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>the value to set. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#a475c1cac7d43fefb3541242984cb56c1">question_attempt_step</a>.</p>

</div>
</div>
<a id="a61ea34660cb5c124612090462670b659" name="a61ea34660cb5c124612090462670b659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61ea34660cb5c124612090462670b659">&#9670;&#160;</a></span>set_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">question_attempt_step_subquestion_adapter::set_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the state. </p>
<p >Normally only called by behaviours. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d9/d5e/classquestion__state.html" title="An enumeration representing the states a question can be in after a question_attempt_step.">question_state</a></td><td class="paramname">$state</td><td>one of the <a class="el" href="../../d9/d5e/classquestion__state.html">question_state</a> constants. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../df/db2/classquestion__attempt__step.html#ab1b3d708a2912c2493d24e2f376f83a2">question_attempt_step</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>question/engine/questionattemptstep.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 16 2022 04:09:44 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
