<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: restore_structure_parser_processor Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;3.9</span>
   </div>
   <div id="projectbrief">Moodle 3.9.21+ (Build: 20230526) (31f6d9ccc5)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d8/d74/classrestore__structure__parser__processor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">restore_structure_parser_processor Class Reference<div class="ingroups"><a class="el" href="../../d6/d9f/group__moodlecore.html">moodlecore</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>helper implementation of <a class="el" href="../../dc/d49/classgrouped__parser__processor.html" title="Abstract xml parser processor able to group chunks as configured and dispatch them to other arbitrary...">grouped_parser_processor</a> that will support the process of all the moodle2 backup files, with complete specs about what to load (grouped or no), dispatching to corresponding methods and basic decoding of contents (NULLs and legacy file.php uses)  
 <a href="../../d9/dfc/classrestore__structure__parser__processor.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for restore_structure_parser_processor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d9/dfc/classrestore__structure__parser__processor.png" usemap="#restore_5Fstructure_5Fparser_5Fprocessor_map" alt=""/>
  <map id="restore_5Fstructure_5Fparser_5Fprocessor_map" name="restore_5Fstructure_5Fparser_5Fprocessor_map">
<area href="../../dc/d49/classgrouped__parser__processor.html" title="Abstract xml parser processor able to group chunks as configured and dispatch them to other arbitrary..." alt="grouped_parser_processor" shape="rect" coords="0,112,217,136"/>
<area href="../../d2/d70/classsimplified__parser__processor.html" title="Abstract xml parser processor to to simplify and dispatch parsed chunks." alt="simplified_parser_processor" shape="rect" coords="0,56,217,80"/>
<area href="../../dd/d00/classprogressive__parser__processor.html" title="This abstract class implements one progressive_parser_processor." alt="progressive_parser_processor" shape="rect" coords="0,0,217,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aed31c287dd12991698071272b7d5f8b2"><td class="memItemLeft" align="right" valign="top"><a id="aed31c287dd12991698071272b7d5f8b2" name="aed31c287dd12991698071272b7d5f8b2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__construct</b> ($courseid, $step)</td></tr>
<tr class="separator:aed31c287dd12991698071272b7d5f8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ffb802717f55c110a17bccac7cc8d1"><td class="memItemLeft" align="right" valign="top"><a id="ae3ffb802717f55c110a17bccac7cc8d1" name="ae3ffb802717f55c110a17bccac7cc8d1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>add_path</b> ($path)</td></tr>
<tr class="separator:ae3ffb802717f55c110a17bccac7cc8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af313139b3c92ffd41452904b8df11681"><td class="memItemLeft" align="right" valign="top"><a id="af313139b3c92ffd41452904b8df11681" name="af313139b3c92ffd41452904b8df11681"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>add_path</b> ($path, $grouped=false)</td></tr>
<tr class="separator:af313139b3c92ffd41452904b8df11681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29f36b0ec8261069b167209e962fb98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d49/classgrouped__parser__processor.html#ad29f36b0ec8261069b167209e962fb98">after_path</a> ($path)</td></tr>
<tr class="memdesc:ad29f36b0ec8261069b167209e962fb98"><td class="mdescLeft">&#160;</td><td class="mdescRight">The parser fires this each time one path has been parsed.  <br /></td></tr>
<tr class="separator:ad29f36b0ec8261069b167209e962fb98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337f7c82d8370c4576e947db2db4d1f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d49/classgrouped__parser__processor.html#a337f7c82d8370c4576e947db2db4d1f0">before_path</a> ($path)</td></tr>
<tr class="memdesc:a337f7c82d8370c4576e947db2db4d1f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The parser fires this each time one path is going to be parsed.  <br /></td></tr>
<tr class="separator:a337f7c82d8370c4576e947db2db4d1f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54029da5a46b135645a00c4f3b54bf9d"><td class="memItemLeft" align="right" valign="top"><a id="a54029da5a46b135645a00c4f3b54bf9d" name="a54029da5a46b135645a00c4f3b54bf9d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>debug_info</b> ()</td></tr>
<tr class="separator:a54029da5a46b135645a00c4f3b54bf9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c36238419e153a29db3bc231483ac9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dfc/classrestore__structure__parser__processor.html#a04c36238419e153a29db3bc231483ac9">process_cdata</a> ($cdata)</td></tr>
<tr class="memdesc:a04c36238419e153a29db3bc231483ac9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide NULL and legacy file.php uses decoding.  <br /></td></tr>
<tr class="separator:a04c36238419e153a29db3bc231483ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4bfac445be3df355fd3e0ec5a46ae2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d70/classsimplified__parser__processor.html#a2f4bfac445be3df355fd3e0ec5a46ae2">process_chunk</a> ($data)</td></tr>
<tr class="memdesc:a2f4bfac445be3df355fd3e0ec5a46ae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get one chunk of parsed data and make it simpler adding attributes as tags and delegating to <a class="el" href="../../d2/d70/classsimplified__parser__processor.html#a0daf30d394e36bec2b518cef7bd191bd" title="Get the already simplified chunk and dispatch it.">dispatch_chunk()</a> the procesing of the resulting chunk.  <br /></td></tr>
<tr class="separator:a2f4bfac445be3df355fd3e0ec5a46ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0cf10832e3141f4491de65f80dcb36f"><td class="memItemLeft" align="right" valign="top"><a id="ad0cf10832e3141f4491de65f80dcb36f" name="ad0cf10832e3141f4491de65f80dcb36f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>receive_chunk</b> ($data)</td></tr>
<tr class="separator:ad0cf10832e3141f4491de65f80dcb36f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7605253f5ea6cd0f9e13282c888cf41a"><td class="memItemLeft" align="right" valign="top"><a id="a7605253f5ea6cd0f9e13282c888cf41a" name="a7605253f5ea6cd0f9e13282c888cf41a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>add_missing_sub</b> ($grouped, $path, $tags)</td></tr>
<tr class="memdesc:a7605253f5ea6cd0f9e13282c888cf41a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add non-existing subarray elements. <br /></td></tr>
<tr class="separator:a7605253f5ea6cd0f9e13282c888cf41a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8de60191ba17ae4cb937e474d3420d9"><td class="memItemLeft" align="right" valign="top"><a id="ad8de60191ba17ae4cb937e474d3420d9" name="ad8de60191ba17ae4cb937e474d3420d9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>build_currentdata</b> ($grouped, $data)</td></tr>
<tr class="memdesc:ad8de60191ba17ae4cb937e474d3420d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will accumulate the chunk into the specified grouped element for later dispatching once it is complete. <br /></td></tr>
<tr class="separator:ad8de60191ba17ae4cb937e474d3420d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f1ce49f05df403ed4ae11b492d6cf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dfc/classrestore__structure__parser__processor.html#a10f1ce49f05df403ed4ae11b492d6cf5">dispatch_chunk</a> ($data)</td></tr>
<tr class="memdesc:a10f1ce49f05df403ed4ae11b492d6cf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the already simplified chunk and dispatch it.  <br /></td></tr>
<tr class="separator:a10f1ce49f05df403ed4ae11b492d6cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12409071f63d60578f610778e02c633d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d49/classgrouped__parser__processor.html#a12409071f63d60578f610778e02c633d">get_parent_path</a> ($path)</td></tr>
<tr class="memdesc:a12409071f63d60578f610778e02c633d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the parent path using a local cache for performance.  <br /></td></tr>
<tr class="separator:a12409071f63d60578f610778e02c633d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd992e3afa38e3fe911a2190e16fd62"><td class="memItemLeft" align="right" valign="top"><a id="a0cd992e3afa38e3fe911a2190e16fd62" name="a0cd992e3afa38e3fe911a2190e16fd62"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>grouped_child_exists</b> ($path)</td></tr>
<tr class="memdesc:a0cd992e3afa38e3fe911a2190e16fd62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that will look for any grouped child for the given path, returning it if found, false if not. <br /></td></tr>
<tr class="separator:a0cd992e3afa38e3fe911a2190e16fd62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957cc37966cb9aefe0477be27678260c"><td class="memItemLeft" align="right" valign="top"><a id="a957cc37966cb9aefe0477be27678260c" name="a957cc37966cb9aefe0477be27678260c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>grouped_parent_exists</b> ($path)</td></tr>
<tr class="memdesc:a957cc37966cb9aefe0477be27678260c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that will look for any grouped parent for the given path, returning it if found, false if not. <br /></td></tr>
<tr class="separator:a957cc37966cb9aefe0477be27678260c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c4f91185c9effa793e0f6b0601c1ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dfc/classrestore__structure__parser__processor.html#a12c4f91185c9effa793e0f6b0601c1ce">notify_path_end</a> ($path)</td></tr>
<tr class="memdesc:a12c4f91185c9effa793e0f6b0601c1ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get one selected path and notify about end.  <br /></td></tr>
<tr class="separator:a12c4f91185c9effa793e0f6b0601c1ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ec5de0307450b67dc525722e8ecc90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dfc/classrestore__structure__parser__processor.html#a06ec5de0307450b67dc525722e8ecc90">notify_path_start</a> ($path)</td></tr>
<tr class="memdesc:a06ec5de0307450b67dc525722e8ecc90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get one selected path and notify about start.  <br /></td></tr>
<tr class="separator:a06ec5de0307450b67dc525722e8ecc90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06665740bedeff9f84bcbc9aca921aee"><td class="memItemLeft" align="right" valign="top"><a id="a06665740bedeff9f84bcbc9aca921aee" name="a06665740bedeff9f84bcbc9aca921aee"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>path_is_grouped</b> ($path)</td></tr>
<tr class="separator:a06665740bedeff9f84bcbc9aca921aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af47e487fdfa4b34e3f09676dbaf1a49e"><td class="memItemLeft" align="right" valign="top"><a id="af47e487fdfa4b34e3f09676dbaf1a49e" name="af47e487fdfa4b34e3f09676dbaf1a49e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>path_is_selected</b> ($path)</td></tr>
<tr class="separator:af47e487fdfa4b34e3f09676dbaf1a49e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac654a483995d77c0766c0b65b7066ada"><td class="memItemLeft" align="right" valign="top"><a id="ac654a483995d77c0766c0b65b7066ada" name="ac654a483995d77c0766c0b65b7066ada"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>path_is_selected_parent</b> ($path)</td></tr>
<tr class="separator:ac654a483995d77c0766c0b65b7066ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5afdbf2f2afa032daf82fc8f7c2f4041"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dfc/classrestore__structure__parser__processor.html#a5afdbf2f2afa032daf82fc8f7c2f4041">postprocess_chunk</a> ($data)</td></tr>
<tr class="memdesc:a5afdbf2f2afa032daf82fc8f7c2f4041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override this method so we'll be able to skip dispatching some well-known chunks, like the ones being 100% part of subplugins stuff.  <br /></td></tr>
<tr class="separator:a5afdbf2f2afa032daf82fc8f7c2f4041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a064846081d34908ddb040e92c7699c04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d70/classsimplified__parser__processor.html#a064846081d34908ddb040e92c7699c04">process_pending_startend_notifications</a> ($path, $action)</td></tr>
<tr class="memdesc:a064846081d34908ddb040e92c7699c04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust start/end til finding one match start/end path (included)  <br /></td></tr>
<tr class="separator:a064846081d34908ddb040e92c7699c04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6df4ceeb905e58ae668641b89e2ef25"><td class="memItemLeft" align="right" valign="top"><a id="ad6df4ceeb905e58ae668641b89e2ef25" name="ad6df4ceeb905e58ae668641b89e2ef25"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>selected_parent_exists</b> ($path)</td></tr>
<tr class="memdesc:ad6df4ceeb905e58ae668641b89e2ef25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first selected parent if available or false. <br /></td></tr>
<tr class="separator:ad6df4ceeb905e58ae668641b89e2ef25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ada88ea15c09e9ddd962e3cd267af099a"><td class="memItemLeft" align="right" valign="top"><a id="ada88ea15c09e9ddd962e3cd267af099a" name="ada88ea15c09e9ddd962e3cd267af099a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$chunks</b></td></tr>
<tr class="separator:ada88ea15c09e9ddd962e3cd267af099a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63dcf884e4ff51615851196e0a6512d9"><td class="memItemLeft" align="right" valign="top"><a id="a63dcf884e4ff51615851196e0a6512d9" name="a63dcf884e4ff51615851196e0a6512d9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$courseid</b></td></tr>
<tr class="separator:a63dcf884e4ff51615851196e0a6512d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab82358516b4adc7bb7a18076ccef2372"><td class="memItemLeft" align="right" valign="top"><a id="ab82358516b4adc7bb7a18076ccef2372" name="ab82358516b4adc7bb7a18076ccef2372"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$currentdata</b></td></tr>
<tr class="separator:ab82358516b4adc7bb7a18076ccef2372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a925374b3b4a51f24b42456b4caa26e27"><td class="memItemLeft" align="right" valign="top"><a id="a925374b3b4a51f24b42456b4caa26e27" name="a925374b3b4a51f24b42456b4caa26e27"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$groupedparentprefixtree</b></td></tr>
<tr class="memdesc:a925374b3b4a51f24b42456b4caa26e27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search tree storing the grouped paths. <br /></td></tr>
<tr class="separator:a925374b3b4a51f24b42456b4caa26e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107b38751b77427c6cdb2d259acc5287"><td class="memItemLeft" align="right" valign="top"><a id="a107b38751b77427c6cdb2d259acc5287" name="a107b38751b77427c6cdb2d259acc5287"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$groupedpaths</b></td></tr>
<tr class="separator:a107b38751b77427c6cdb2d259acc5287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4daddc491d0b916925768e94b02a70d"><td class="memItemLeft" align="right" valign="top"><a id="af4daddc491d0b916925768e94b02a70d" name="af4daddc491d0b916925768e94b02a70d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$inittime</b></td></tr>
<tr class="separator:af4daddc491d0b916925768e94b02a70d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37e0f7fc2853f3167b5442fbe3e432f4"><td class="memItemLeft" align="right" valign="top"><a id="a37e0f7fc2853f3167b5442fbe3e432f4" name="a37e0f7fc2853f3167b5442fbe3e432f4"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$parentcache</b> = array()</td></tr>
<tr class="memdesc:a37e0f7fc2853f3167b5442fbe3e432f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keep cache of parent directory paths for XML parsing. <br /></td></tr>
<tr class="separator:a37e0f7fc2853f3167b5442fbe3e432f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d92fa2cc4b89974f1e3eba9878909b"><td class="memItemLeft" align="right" valign="top"><a id="ad5d92fa2cc4b89974f1e3eba9878909b" name="ad5d92fa2cc4b89974f1e3eba9878909b"></a>
integer&#160;</td><td class="memItemRight" valign="bottom"><b>$parentcacheavailablesize</b> = 2048</td></tr>
<tr class="memdesc:ad5d92fa2cc4b89974f1e3eba9878909b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remaining space for parent directory paths. <br /></td></tr>
<tr class="separator:ad5d92fa2cc4b89974f1e3eba9878909b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82df804c2f9f1f9eeded25dd9a58a6fb"><td class="memItemLeft" align="right" valign="top"><a id="a82df804c2f9f1f9eeded25dd9a58a6fb" name="a82df804c2f9f1f9eeded25dd9a58a6fb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$parentpaths</b></td></tr>
<tr class="separator:a82df804c2f9f1f9eeded25dd9a58a6fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a822f32e891d80d7e4df9f7e161d26de8"><td class="memItemLeft" align="right" valign="top"><a id="a822f32e891d80d7e4df9f7e161d26de8" name="a822f32e891d80d7e4df9f7e161d26de8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$parentsinfo</b></td></tr>
<tr class="separator:a822f32e891d80d7e4df9f7e161d26de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ccc6ee167f2a5167337235906fac532"><td class="memItemLeft" align="right" valign="top"><a id="a2ccc6ee167f2a5167337235906fac532" name="a2ccc6ee167f2a5167337235906fac532"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$paths</b></td></tr>
<tr class="separator:a2ccc6ee167f2a5167337235906fac532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12645aa385de1dd1431fbc58b1bde289"><td class="memItemLeft" align="right" valign="top"><a id="a12645aa385de1dd1431fbc58b1bde289" name="a12645aa385de1dd1431fbc58b1bde289"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$startendinfo</b></td></tr>
<tr class="separator:a12645aa385de1dd1431fbc58b1bde289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f1180d8579549b536f437b685eb9f0"><td class="memItemLeft" align="right" valign="top"><a id="a12f1180d8579549b536f437b685eb9f0" name="a12f1180d8579549b536f437b685eb9f0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$step</b></td></tr>
<tr class="separator:a12f1180d8579549b536f437b685eb9f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>helper implementation of <a class="el" href="../../dc/d49/classgrouped__parser__processor.html" title="Abstract xml parser processor able to group chunks as configured and dispatch them to other arbitrary...">grouped_parser_processor</a> that will support the process of all the moodle2 backup files, with complete specs about what to load (grouped or no), dispatching to corresponding methods and basic decoding of contents (NULLs and legacy file.php uses) </p>
<p>TODO: Complete phpdocs </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad29f36b0ec8261069b167209e962fb98" name="ad29f36b0ec8261069b167209e962fb98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad29f36b0ec8261069b167209e962fb98">&#9670;&#160;</a></span>after_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">grouped_parser_processor::after_path </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The parser fires this each time one path has been parsed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>xml path which parsing has ended </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d2/d70/classsimplified__parser__processor.html#ac7076767b048beda5763892e1be03f36">simplified_parser_processor</a>.</p>

</div>
</div>
<a id="a337f7c82d8370c4576e947db2db4d1f0" name="a337f7c82d8370c4576e947db2db4d1f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a337f7c82d8370c4576e947db2db4d1f0">&#9670;&#160;</a></span>before_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">grouped_parser_processor::before_path </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The parser fires this each time one path is going to be parsed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>xml path which parsing has started </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d2/d70/classsimplified__parser__processor.html#a956c329eaebe4205f712793906015d41">simplified_parser_processor</a>.</p>

</div>
</div>
<a id="a10f1ce49f05df403ed4ae11b492d6cf5" name="a10f1ce49f05df403ed4ae11b492d6cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f1ce49f05df403ed4ae11b492d6cf5">&#9670;&#160;</a></span>dispatch_chunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">restore_structure_parser_processor::dispatch_chunk </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the already simplified chunk and dispatch it. </p>

<p>Reimplemented from <a class="el" href="../../d2/d70/classsimplified__parser__processor.html#a0daf30d394e36bec2b518cef7bd191bd">simplified_parser_processor</a>.</p>

</div>
</div>
<a id="a12409071f63d60578f610778e02c633d" name="a12409071f63d60578f610778e02c633d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12409071f63d60578f610778e02c633d">&#9670;&#160;</a></span>get_parent_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">grouped_parser_processor::get_parent_path </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the parent path using a local cache for performance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$path</td><td>string The pathname you wish to obtain the parent name for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>The parent pathname. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12c4f91185c9effa793e0f6b0601c1ce" name="a12c4f91185c9effa793e0f6b0601c1ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12c4f91185c9effa793e0f6b0601c1ce">&#9670;&#160;</a></span>notify_path_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">restore_structure_parser_processor::notify_path_end </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get one selected path and notify about end. </p>

<p>Reimplemented from <a class="el" href="../../d2/d70/classsimplified__parser__processor.html#a66e635c574e65fa3dec197153c87f13a">simplified_parser_processor</a>.</p>

</div>
</div>
<a id="a06ec5de0307450b67dc525722e8ecc90" name="a06ec5de0307450b67dc525722e8ecc90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ec5de0307450b67dc525722e8ecc90">&#9670;&#160;</a></span>notify_path_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">restore_structure_parser_processor::notify_path_start </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get one selected path and notify about start. </p>

<p>Reimplemented from <a class="el" href="../../d2/d70/classsimplified__parser__processor.html#a9225020b094b536cb2c195d569d93436">simplified_parser_processor</a>.</p>

</div>
</div>
<a id="a5afdbf2f2afa032daf82fc8f7c2f4041" name="a5afdbf2f2afa032daf82fc8f7c2f4041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5afdbf2f2afa032daf82fc8f7c2f4041">&#9670;&#160;</a></span>postprocess_chunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">restore_structure_parser_processor::postprocess_chunk </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Override this method so we'll be able to skip dispatching some well-known chunks, like the ones being 100% part of subplugins stuff. </p>
<p>Useful for allowing development without having all the possible restore subplugins defined </p>

<p>Reimplemented from <a class="el" href="../../dc/d49/classgrouped__parser__processor.html#af2c3a82c04e9230ed63f025aaed44bdc">grouped_parser_processor</a>.</p>

</div>
</div>
<a id="a04c36238419e153a29db3bc231483ac9" name="a04c36238419e153a29db3bc231483ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c36238419e153a29db3bc231483ac9">&#9670;&#160;</a></span>process_cdata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">restore_structure_parser_processor::process_cdata </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$cdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provide NULL and legacy file.php uses decoding. </p>

<p>Reimplemented from <a class="el" href="../../dd/d00/classprogressive__parser__processor.html#ac713dc00b21f199b95713760b8ac8f22">progressive_parser_processor</a>.</p>

</div>
</div>
<a id="a2f4bfac445be3df355fd3e0ec5a46ae2" name="a2f4bfac445be3df355fd3e0ec5a46ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f4bfac445be3df355fd3e0ec5a46ae2">&#9670;&#160;</a></span>process_chunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simplified_parser_processor::process_chunk </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get one chunk of parsed data and make it simpler adding attributes as tags and delegating to <a class="el" href="../../d9/dfc/classrestore__structure__parser__processor.html#a10f1ce49f05df403ed4ae11b492d6cf5" title="Get the already simplified chunk and dispatch it.">dispatch_chunk()</a> the procesing of the resulting chunk. </p>

<p>Reimplemented from <a class="el" href="../../dd/d00/classprogressive__parser__processor.html#a88f168aec8d291e3935f63ac1f322287">progressive_parser_processor</a>.</p>

</div>
</div>
<a id="a064846081d34908ddb040e92c7699c04" name="a064846081d34908ddb040e92c7699c04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a064846081d34908ddb040e92c7699c04">&#9670;&#160;</a></span>process_pending_startend_notifications()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simplified_parser_processor::process_pending_startend_notifications </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adjust start/end til finding one match start/end path (included) </p>
<p>This will trigger all the pending {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d9/dfc/classrestore__structure__parser__processor.html#a06ec5de0307450b67dc525722e8ecc90" title="Get one selected path and notify about start.">notify_path_start</a>} and {</dd>
<dd>
<a class="el" href="../../d9/dfc/classrestore__structure__parser__processor.html#a12c4f91185c9effa793e0f6b0601c1ce" title="Get one selected path and notify about end.">notify_path_end</a>} calls for one given path and action</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>path the path to look for as limit </td></tr>
    <tr><td class="paramname">string</td><td>action the action to look for as limit </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>backup/util/helper/restore_structure_parser_processor.class.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 30 2023 05:57:08 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
