<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_message\api Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;3.9</span>
   </div>
   <div id="projectbrief">Moodle 3.9.17+ (Build: 20221007) (1d776476b6)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d1/d29/namespacecore__message.html">core_message</a></li><li class="navelem"><a class="el" href="../../d2/de8/classcore__message_1_1api.html">api</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="../../df/d64/classcore__message_1_1api-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_message\api Class Reference<div class="ingroups"><a class="el" href="../../d4/dc2/group__core__message.html">core_message</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Class used to return information to display for the message area.  
 <a href="../../d2/de8/classcore__message_1_1api.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a89c2ca1d61c338700516229395f171bb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a89c2ca1d61c338700516229395f171bb">add_contact</a> (int $userid, int $contactid)</td></tr>
<tr class="memdesc:a89c2ca1d61c338700516229395f171bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles adding a contact.  <a href="../../d2/de8/classcore__message_1_1api.html#a89c2ca1d61c338700516229395f171bb">More...</a><br /></td></tr>
<tr class="separator:a89c2ca1d61c338700516229395f171bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd3af20b5d9a8357bd1b179d8ed4f946"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#abd3af20b5d9a8357bd1b179d8ed4f946">add_members_to_conversation</a> (array $userids, int $convid)</td></tr>
<tr class="memdesc:abd3af20b5d9a8357bd1b179d8ed4f946"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add some new members to an existing conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#abd3af20b5d9a8357bd1b179d8ed4f946">More...</a><br /></td></tr>
<tr class="separator:abd3af20b5d9a8357bd1b179d8ed4f946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d60cb24782ec3fd0e2c4d2cd0e3cffc"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a3d60cb24782ec3fd0e2c4d2cd0e3cffc">block_user</a> (int $userid, int $usertoblockid)</td></tr>
<tr class="memdesc:a3d60cb24782ec3fd0e2c4d2cd0e3cffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles blocking a user.  <a href="../../d2/de8/classcore__message_1_1api.html#a3d60cb24782ec3fd0e2c4d2cd0e3cffc">More...</a><br /></td></tr>
<tr class="separator:a3d60cb24782ec3fd0e2c4d2cd0e3cffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af724817c392f8886329c50f6b9970018"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#af724817c392f8886329c50f6b9970018">can_create_contact</a> (int $userid, int $requesteduserid)</td></tr>
<tr class="memdesc:af724817c392f8886329c50f6b9970018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a user can create a contact request.  <a href="../../d2/de8/classcore__message_1_1api.html#af724817c392f8886329c50f6b9970018">More...</a><br /></td></tr>
<tr class="separator:af724817c392f8886329c50f6b9970018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf2bf826da7d5086238c230a217d19fb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#acf2bf826da7d5086238c230a217d19fb">can_create_group_conversation</a> (int $userid, <a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:acf2bf826da7d5086238c230a217d19fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a user can create a group conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#acf2bf826da7d5086238c230a217d19fb">More...</a><br /></td></tr>
<tr class="separator:acf2bf826da7d5086238c230a217d19fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ebe21b6b950d66f3dc1778923e1b51"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a27ebe21b6b950d66f3dc1778923e1b51">can_delete_conversation</a> (int $userid, int $conversationid=null)</td></tr>
<tr class="memdesc:a27ebe21b6b950d66f3dc1778923e1b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a user can delete messages they have either received or sent.  <a href="../../d2/de8/classcore__message_1_1api.html#a27ebe21b6b950d66f3dc1778923e1b51">More...</a><br /></td></tr>
<tr class="separator:a27ebe21b6b950d66f3dc1778923e1b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e19d7d163920d7b84368b4c4754d377"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a1e19d7d163920d7b84368b4c4754d377">can_delete_message</a> ($userid, $messageid)</td></tr>
<tr class="memdesc:a1e19d7d163920d7b84368b4c4754d377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a user can delete a message.  <a href="../../d2/de8/classcore__message_1_1api.html#a1e19d7d163920d7b84368b4c4754d377">More...</a><br /></td></tr>
<tr class="separator:a1e19d7d163920d7b84368b4c4754d377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c1ce44d9efb330a656b0ea9590e6d04"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a8c1ce44d9efb330a656b0ea9590e6d04">can_delete_message_for_all_users</a> (int $userid, int $messageid)</td></tr>
<tr class="memdesc:a8c1ce44d9efb330a656b0ea9590e6d04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a user can delete a message for all users.  <a href="../../d2/de8/classcore__message_1_1api.html#a8c1ce44d9efb330a656b0ea9590e6d04">More...</a><br /></td></tr>
<tr class="separator:a8c1ce44d9efb330a656b0ea9590e6d04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89673e0b4dbdff3a71830556c352ca6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#ae89673e0b4dbdff3a71830556c352ca6">can_mark_all_messages_as_read</a> (int $userid, int $conversationid)</td></tr>
<tr class="memdesc:ae89673e0b4dbdff3a71830556c352ca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a user can mark all messages as read.  <a href="../../d2/de8/classcore__message_1_1api.html#ae89673e0b4dbdff3a71830556c352ca6">More...</a><br /></td></tr>
<tr class="separator:ae89673e0b4dbdff3a71830556c352ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aade16fd3bdb4ec55d1ee39350807e917"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aade16fd3bdb4ec55d1ee39350807e917">can_post_message</a> ($recipient, $sender=null)</td></tr>
<tr class="memdesc:aade16fd3bdb4ec55d1ee39350807e917"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if a user is permitted to send another user a private message.  <a href="../../d2/de8/classcore__message_1_1api.html#aade16fd3bdb4ec55d1ee39350807e917">More...</a><br /></td></tr>
<tr class="separator:aade16fd3bdb4ec55d1ee39350807e917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78888af48182cb1662675dd7455938a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#af78888af48182cb1662675dd7455938a">can_send_message</a> (int $recipientid, int $senderid, bool $evenifblocked=false)</td></tr>
<tr class="memdesc:af78888af48182cb1662675dd7455938a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if a user is permitted to send another user a private message.  <a href="../../d2/de8/classcore__message_1_1api.html#af78888af48182cb1662675dd7455938a">More...</a><br /></td></tr>
<tr class="separator:af78888af48182cb1662675dd7455938a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee4425427db90ca89d2e82ebfd2b5d8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aeee4425427db90ca89d2e82ebfd2b5d8">can_send_message_to_conversation</a> (int $userid, int $conversationid)</td></tr>
<tr class="memdesc:aeee4425427db90ca89d2e82ebfd2b5d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if a user is permitted to send a message to a given conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#aeee4425427db90ca89d2e82ebfd2b5d8">More...</a><br /></td></tr>
<tr class="separator:aeee4425427db90ca89d2e82ebfd2b5d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64cf2fba50325d5e4e8d03503d9c05d0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a64cf2fba50325d5e4e8d03503d9c05d0">confirm_contact_request</a> (int $userid, int $requesteduserid)</td></tr>
<tr class="memdesc:a64cf2fba50325d5e4e8d03503d9c05d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles confirming a contact request.  <a href="../../d2/de8/classcore__message_1_1api.html#a64cf2fba50325d5e4e8d03503d9c05d0">More...</a><br /></td></tr>
<tr class="separator:a64cf2fba50325d5e4e8d03503d9c05d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a5ec9bb42fff6ac9d474b1a967a9150"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a2a5ec9bb42fff6ac9d474b1a967a9150">count_blocked_users</a> ($user=null)</td></tr>
<tr class="memdesc:a2a5ec9bb42fff6ac9d474b1a967a9150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the number of users blocked by a user.  <a href="../../d2/de8/classcore__message_1_1api.html#a2a5ec9bb42fff6ac9d474b1a967a9150">More...</a><br /></td></tr>
<tr class="separator:a2a5ec9bb42fff6ac9d474b1a967a9150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88697b6724328b8988b9e661fce26ed4"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a88697b6724328b8988b9e661fce26ed4">count_contacts</a> (int $userid)</td></tr>
<tr class="memdesc:a88697b6724328b8988b9e661fce26ed4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the contacts count.  <a href="../../d2/de8/classcore__message_1_1api.html#a88697b6724328b8988b9e661fce26ed4">More...</a><br /></td></tr>
<tr class="separator:a88697b6724328b8988b9e661fce26ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209a142eee1dcad9f82f11052526a87d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a209a142eee1dcad9f82f11052526a87d">count_conversation_members</a> (int $convid)</td></tr>
<tr class="memdesc:a209a142eee1dcad9f82f11052526a87d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count conversation members.  <a href="../../d2/de8/classcore__message_1_1api.html#a209a142eee1dcad9f82f11052526a87d">More...</a><br /></td></tr>
<tr class="separator:a209a142eee1dcad9f82f11052526a87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a310060d40b858126a6e7c49ef6c53815"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a310060d40b858126a6e7c49ef6c53815">count_unread_conversations</a> ($user=null)</td></tr>
<tr class="memdesc:a310060d40b858126a6e7c49ef6c53815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the count of unread conversations (collection of messages from a single user) for the given user.  <a href="../../d2/de8/classcore__message_1_1api.html#a310060d40b858126a6e7c49ef6c53815">More...</a><br /></td></tr>
<tr class="separator:a310060d40b858126a6e7c49ef6c53815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122d9253667b15432fe9ac9f1f0c6a54"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a122d9253667b15432fe9ac9f1f0c6a54">create_contact_request</a> (int $userid, int $requesteduserid)</td></tr>
<tr class="memdesc:a122d9253667b15432fe9ac9f1f0c6a54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles creating a contact request.  <a href="../../d2/de8/classcore__message_1_1api.html#a122d9253667b15432fe9ac9f1f0c6a54">More...</a><br /></td></tr>
<tr class="separator:a122d9253667b15432fe9ac9f1f0c6a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa39039034f86d39223f3e1830a12e3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a1fa39039034f86d39223f3e1830a12e3">create_conversation</a> (int $type, array $userids, string $name=null, int $enabled=self::MESSAGE_CONVERSATION_ENABLED, string $component=null, string $itemtype=null, int $itemid=null, int $contextid=null)</td></tr>
<tr class="memdesc:a1fa39039034f86d39223f3e1830a12e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a conversation with selected users and messages.  <a href="../../d2/de8/classcore__message_1_1api.html#a1fa39039034f86d39223f3e1830a12e3">More...</a><br /></td></tr>
<tr class="separator:a1fa39039034f86d39223f3e1830a12e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20633338df3eb8cd316796128346c39"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#ac20633338df3eb8cd316796128346c39">create_conversation_between_users</a> (array $userids)</td></tr>
<tr class="memdesc:ac20633338df3eb8cd316796128346c39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a conversation between two users.  <a href="../../d2/de8/classcore__message_1_1api.html#ac20633338df3eb8cd316796128346c39">More...</a><br /></td></tr>
<tr class="separator:ac20633338df3eb8cd316796128346c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4d91540c4790bd72a8dbb8eb3c59a0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a4c4d91540c4790bd72a8dbb8eb3c59a0">decline_contact_request</a> (int $userid, int $requesteduserid)</td></tr>
<tr class="memdesc:a4c4d91540c4790bd72a8dbb8eb3c59a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles declining a contact request.  <a href="../../d2/de8/classcore__message_1_1api.html#a4c4d91540c4790bd72a8dbb8eb3c59a0">More...</a><br /></td></tr>
<tr class="separator:a4c4d91540c4790bd72a8dbb8eb3c59a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13486ff1c6ff73cb9bf5b3756612b031"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a13486ff1c6ff73cb9bf5b3756612b031">delete_all_conversation_data</a> (int $conversationid)</td></tr>
<tr class="memdesc:a13486ff1c6ff73cb9bf5b3756612b031"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completely removes all related data in the DB for a given conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#a13486ff1c6ff73cb9bf5b3756612b031">More...</a><br /></td></tr>
<tr class="separator:a13486ff1c6ff73cb9bf5b3756612b031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0def115e62b820423b6c5c90927dcaa2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a0def115e62b820423b6c5c90927dcaa2">delete_conversation</a> ($userid, $otheruserid)</td></tr>
<tr class="memdesc:a0def115e62b820423b6c5c90927dcaa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#a0def115e62b820423b6c5c90927dcaa2">More...</a><br /></td></tr>
<tr class="separator:a0def115e62b820423b6c5c90927dcaa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9911b83e73e4f5a9c9f69fb8692fd046"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a9911b83e73e4f5a9c9f69fb8692fd046">delete_conversation_by_id</a> (int $userid, int $conversationid)</td></tr>
<tr class="memdesc:a9911b83e73e4f5a9c9f69fb8692fd046"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a conversation for a specified user.  <a href="../../d2/de8/classcore__message_1_1api.html#a9911b83e73e4f5a9c9f69fb8692fd046">More...</a><br /></td></tr>
<tr class="separator:a9911b83e73e4f5a9c9f69fb8692fd046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3cea4fc31f575049019027149dc4588"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#ad3cea4fc31f575049019027149dc4588">delete_message</a> ($userid, $messageid)</td></tr>
<tr class="memdesc:ad3cea4fc31f575049019027149dc4588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a message.  <a href="../../d2/de8/classcore__message_1_1api.html#ad3cea4fc31f575049019027149dc4588">More...</a><br /></td></tr>
<tr class="separator:ad3cea4fc31f575049019027149dc4588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd5b49896f77d8bdfe89ab1e9a228d99"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#abd5b49896f77d8bdfe89ab1e9a228d99">delete_message_for_all_users</a> (int $messageid)</td></tr>
<tr class="memdesc:abd5b49896f77d8bdfe89ab1e9a228d99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a message for all users.  <a href="../../d2/de8/classcore__message_1_1api.html#abd5b49896f77d8bdfe89ab1e9a228d99">More...</a><br /></td></tr>
<tr class="separator:abd5b49896f77d8bdfe89ab1e9a228d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31e49dfbb9bc4ab677922d5883b8b71"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aa31e49dfbb9bc4ab677922d5883b8b71">disable_conversation</a> (int $conversationid)</td></tr>
<tr class="memdesc:aa31e49dfbb9bc4ab677922d5883b8b71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable a conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#aa31e49dfbb9bc4ab677922d5883b8b71">More...</a><br /></td></tr>
<tr class="separator:aa31e49dfbb9bc4ab677922d5883b8b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f653cf997c0b509eb217784dcfbc54"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a74f653cf997c0b509eb217784dcfbc54">does_contact_request_exist</a> (int $userid, int $requesteduserid)</td></tr>
<tr class="memdesc:a74f653cf997c0b509eb217784dcfbc54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a contact request already exists between users.  <a href="../../d2/de8/classcore__message_1_1api.html#a74f653cf997c0b509eb217784dcfbc54">More...</a><br /></td></tr>
<tr class="separator:a74f653cf997c0b509eb217784dcfbc54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33395fd572bb693e7f30ba9a0d43fa62"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a33395fd572bb693e7f30ba9a0d43fa62">enable_conversation</a> (int $conversationid)</td></tr>
<tr class="memdesc:a33395fd572bb693e7f30ba9a0d43fa62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable a conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#a33395fd572bb693e7f30ba9a0d43fa62">More...</a><br /></td></tr>
<tr class="separator:a33395fd572bb693e7f30ba9a0d43fa62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d0532a8b7b5be8ac4f3525f596fb1f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a25d0532a8b7b5be8ac4f3525f596fb1f">get_all_message_preferences</a> ($processors, $providers, $user)</td></tr>
<tr class="memdesc:a25d0532a8b7b5be8ac4f3525f596fb1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns message preferences.  <a href="../../d2/de8/classcore__message_1_1api.html#a25d0532a8b7b5be8ac4f3525f596fb1f">More...</a><br /></td></tr>
<tr class="separator:a25d0532a8b7b5be8ac4f3525f596fb1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a0fb3c291ab23d8e492be6874d198a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a64a0fb3c291ab23d8e492be6874d198a">get_blocked_users</a> ($userid)</td></tr>
<tr class="memdesc:a64a0fb3c291ab23d8e492be6874d198a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve users blocked by $user1.  <a href="../../d2/de8/classcore__message_1_1api.html#a64a0fb3c291ab23d8e492be6874d198a">More...</a><br /></td></tr>
<tr class="separator:a64a0fb3c291ab23d8e492be6874d198a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0828790bcadf0f35c84fd51650ae944a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a0828790bcadf0f35c84fd51650ae944a">get_contact</a> (int $userid, int $contactid)</td></tr>
<tr class="memdesc:a0828790bcadf0f35c84fd51650ae944a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the row in the database table message_contacts that represents the contact between two people.  <a href="../../d2/de8/classcore__message_1_1api.html#a0828790bcadf0f35c84fd51650ae944a">More...</a><br /></td></tr>
<tr class="separator:a0828790bcadf0f35c84fd51650ae944a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1908089a3a2fbe16f676dfe2d13e3ac2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a1908089a3a2fbe16f676dfe2d13e3ac2">get_contact_requests</a> (int $userid, int $limitfrom=0, int $limitnum=0)</td></tr>
<tr class="memdesc:a1908089a3a2fbe16f676dfe2d13e3ac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles returning the contact requests for a user.  <a href="../../d2/de8/classcore__message_1_1api.html#a1908089a3a2fbe16f676dfe2d13e3ac2">More...</a><br /></td></tr>
<tr class="separator:a1908089a3a2fbe16f676dfe2d13e3ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9dfda8fecd63876441709a1b0469451"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#ae9dfda8fecd63876441709a1b0469451">get_contact_requests_between_users</a> (int $userid, int $requesteduserid)</td></tr>
<tr class="memdesc:ae9dfda8fecd63876441709a1b0469451"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get contact requests between users.  <a href="../../d2/de8/classcore__message_1_1api.html#ae9dfda8fecd63876441709a1b0469451">More...</a><br /></td></tr>
<tr class="separator:ae9dfda8fecd63876441709a1b0469451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b2e1fba95bce18bcb427fbc3fd50ca"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a59b2e1fba95bce18bcb427fbc3fd50ca">get_contacts</a> ($userid, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a59b2e1fba95bce18bcb427fbc3fd50ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the contacts to display in the contacts area.  <a href="../../d2/de8/classcore__message_1_1api.html#a59b2e1fba95bce18bcb427fbc3fd50ca">More...</a><br /></td></tr>
<tr class="separator:a59b2e1fba95bce18bcb427fbc3fd50ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e20e7bc3a51b1e421d31e82cce8d2f5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a9e20e7bc3a51b1e421d31e82cce8d2f5">get_contacts_with_unread_message_count</a> ($userid, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a9e20e7bc3a51b1e421d31e82cce8d2f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the an array of the users the given user is in a conversation with who are a contact and the number of unread messages.  <a href="../../d2/de8/classcore__message_1_1api.html#a9e20e7bc3a51b1e421d31e82cce8d2f5">More...</a><br /></td></tr>
<tr class="separator:a9e20e7bc3a51b1e421d31e82cce8d2f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abffc1d1b5d4fcc8ec86ea9569023d70a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#abffc1d1b5d4fcc8ec86ea9569023d70a">get_conversation</a> (int $userid, int $conversationid, bool $includecontactrequests=false, bool $includeprivacyinfo=false, int $memberlimit=0, int $memberoffset=0, int $messagelimit=0, int $messageoffset=0, bool $newestmessagesfirst=true)</td></tr>
<tr class="memdesc:abffc1d1b5d4fcc8ec86ea9569023d70a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#abffc1d1b5d4fcc8ec86ea9569023d70a">More...</a><br /></td></tr>
<tr class="separator:abffc1d1b5d4fcc8ec86ea9569023d70a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211afb605cbcb1b6962c5f4e20a658c5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a211afb605cbcb1b6962c5f4e20a658c5">get_conversation_between_users</a> (array $userids)</td></tr>
<tr class="memdesc:a211afb605cbcb1b6962c5f4e20a658c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the conversation between two users.  <a href="../../d2/de8/classcore__message_1_1api.html#a211afb605cbcb1b6962c5f4e20a658c5">More...</a><br /></td></tr>
<tr class="separator:a211afb605cbcb1b6962c5f4e20a658c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceebadb0cb53869e27657ef6f8ee206d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aceebadb0cb53869e27657ef6f8ee206d">get_conversation_by_area</a> (string $component, string $itemtype, int $itemid, int $contextid)</td></tr>
<tr class="memdesc:aceebadb0cb53869e27657ef6f8ee206d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get conversation by area.  <a href="../../d2/de8/classcore__message_1_1api.html#aceebadb0cb53869e27657ef6f8ee206d">More...</a><br /></td></tr>
<tr class="separator:aceebadb0cb53869e27657ef6f8ee206d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ca3603350ee53fccb90905425420dc"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a64ca3603350ee53fccb90905425420dc">get_conversation_counts</a> (int $userid)</td></tr>
<tr class="memdesc:a64ca3603350ee53fccb90905425420dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the count of conversations (collection of messages from a single user) for the given user.  <a href="../../d2/de8/classcore__message_1_1api.html#a64ca3603350ee53fccb90905425420dc">More...</a><br /></td></tr>
<tr class="separator:a64ca3603350ee53fccb90905425420dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c744964b05d19641e2071dd4b6dfbcc"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a1c744964b05d19641e2071dd4b6dfbcc">get_conversation_members</a> (int $userid, int $conversationid, bool $includecontactrequests=false, bool $includeprivacyinfo=false, int $limitfrom=0, int $limitnum=0)</td></tr>
<tr class="memdesc:a1c744964b05d19641e2071dd4b6dfbcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of conversation members.  <a href="../../d2/de8/classcore__message_1_1api.html#a1c744964b05d19641e2071dd4b6dfbcc">More...</a><br /></td></tr>
<tr class="separator:a1c744964b05d19641e2071dd4b6dfbcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82869d1c4ef71ff966119acecc7359d9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a82869d1c4ef71ff966119acecc7359d9">get_conversation_messages</a> (int $userid, int $convid, int $limitfrom=0, int $limitnum=0, string $sort='timecreated ASC', int $timefrom=0, int $timeto=0)</td></tr>
<tr class="memdesc:a82869d1c4ef71ff966119acecc7359d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the messages for the defined conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#a82869d1c4ef71ff966119acecc7359d9">More...</a><br /></td></tr>
<tr class="separator:a82869d1c4ef71ff966119acecc7359d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38e27fc613f34de2bff80e781a03f239"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a38e27fc613f34de2bff80e781a03f239">get_conversations</a> ($userid, $limitfrom=0, $limitnum=20, int $type=null, bool $favourites=null, bool $mergeself=false)</td></tr>
<tr class="memdesc:a38e27fc613f34de2bff80e781a03f239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the contacts and their conversation to display in the contacts area.  <a href="../../d2/de8/classcore__message_1_1api.html#a38e27fc613f34de2bff80e781a03f239">More...</a><br /></td></tr>
<tr class="separator:a38e27fc613f34de2bff80e781a03f239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47383abd1488cb05bbb89a1b7c9dd0b0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a47383abd1488cb05bbb89a1b7c9dd0b0">get_conversations_between_users</a> (int $userid1, int $userid2, int $limitfrom=0, int $limitnum=20)</td></tr>
<tr class="memdesc:a47383abd1488cb05bbb89a1b7c9dd0b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all conversations between two users.  <a href="../../d2/de8/classcore__message_1_1api.html#a47383abd1488cb05bbb89a1b7c9dd0b0">More...</a><br /></td></tr>
<tr class="separator:a47383abd1488cb05bbb89a1b7c9dd0b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec583f557107bf9c771acad159757372"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aec583f557107bf9c771acad159757372">get_individual_conversations_between_users</a> (array $useridsets)</td></tr>
<tr class="memdesc:aec583f557107bf9c771acad159757372"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the conversations between sets of users.  <a href="../../d2/de8/classcore__message_1_1api.html#aec583f557107bf9c771acad159757372">More...</a><br /></td></tr>
<tr class="separator:aec583f557107bf9c771acad159757372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad54f8936bb3a71786bbaa98f02fcc222"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#ad54f8936bb3a71786bbaa98f02fcc222">get_message_processor</a> ($name, $ready=false)</td></tr>
<tr class="memdesc:ad54f8936bb3a71786bbaa98f02fcc222"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get specified message processor, validate corresponding plugin existence and system configuration.  <a href="../../d2/de8/classcore__message_1_1api.html#ad54f8936bb3a71786bbaa98f02fcc222">More...</a><br /></td></tr>
<tr class="separator:ad54f8936bb3a71786bbaa98f02fcc222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42841d89c6484b420944b44dfe90d779"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a42841d89c6484b420944b44dfe90d779">get_messages</a> ($userid, $otheruserid, $limitfrom=0, $limitnum=0, $sort='timecreated ASC', $timefrom=0, $timeto=0)</td></tr>
<tr class="memdesc:a42841d89c6484b420944b44dfe90d779"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the messages to display in the message area.  <a href="../../d2/de8/classcore__message_1_1api.html#a42841d89c6484b420944b44dfe90d779">More...</a><br /></td></tr>
<tr class="separator:a42841d89c6484b420944b44dfe90d779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bbc96dcbfc17f35064066d4ad5365e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a39bbc96dcbfc17f35064066d4ad5365e">get_most_recent_conversation_message</a> (int $convid, int $currentuserid=0)</td></tr>
<tr class="memdesc:a39bbc96dcbfc17f35064066d4ad5365e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most recent message in a conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#a39bbc96dcbfc17f35064066d4ad5365e">More...</a><br /></td></tr>
<tr class="separator:a39bbc96dcbfc17f35064066d4ad5365e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c0060cd3136f59d3a81e48ae3f9b3f0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a6c0060cd3136f59d3a81e48ae3f9b3f0">get_most_recent_message</a> ($userid, $otheruserid)</td></tr>
<tr class="memdesc:a6c0060cd3136f59d3a81e48ae3f9b3f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the most recent message between two users.  <a href="../../d2/de8/classcore__message_1_1api.html#a6c0060cd3136f59d3a81e48ae3f9b3f0">More...</a><br /></td></tr>
<tr class="separator:a6c0060cd3136f59d3a81e48ae3f9b3f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736e98a484122cbb37a18887b9521d2f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a736e98a484122cbb37a18887b9521d2f">get_non_contacts_with_unread_message_count</a> ($userid, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a736e98a484122cbb37a18887b9521d2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the an array of the users the given user is in a conversation with who are not a contact and the number of unread messages.  <a href="../../d2/de8/classcore__message_1_1api.html#a736e98a484122cbb37a18887b9521d2f">More...</a><br /></td></tr>
<tr class="separator:a736e98a484122cbb37a18887b9521d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a253e1fb20cdb26bbec544be515422ea6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a253e1fb20cdb26bbec544be515422ea6">get_processed_processor_object</a> (\stdClass $processor)</td></tr>
<tr class="memdesc:a253e1fb20cdb26bbec544be515422ea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a processor object, loads information about it's settings and configurations.  <a href="../../d2/de8/classcore__message_1_1api.html#a253e1fb20cdb26bbec544be515422ea6">More...</a><br /></td></tr>
<tr class="separator:a253e1fb20cdb26bbec544be515422ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7d1898dd87c0563518ec84c04245e2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#add7d1898dd87c0563518ec84c04245e2">get_profile</a> ($userid, $otheruserid)</td></tr>
<tr class="memdesc:add7d1898dd87c0563518ec84c04245e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the profile information for a contact for a user.  <a href="../../d2/de8/classcore__message_1_1api.html#add7d1898dd87c0563518ec84c04245e2">More...</a><br /></td></tr>
<tr class="separator:add7d1898dd87c0563518ec84c04245e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf1f4657689a1ebda553567f8472c261"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#adf1f4657689a1ebda553567f8472c261">get_received_contact_requests_count</a> (int $userid)</td></tr>
<tr class="memdesc:adf1f4657689a1ebda553567f8472c261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of contact requests the user has received.  <a href="../../d2/de8/classcore__message_1_1api.html#adf1f4657689a1ebda553567f8472c261">More...</a><br /></td></tr>
<tr class="separator:adf1f4657689a1ebda553567f8472c261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ae7f7378c05e518106a11dce9067739"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a4ae7f7378c05e518106a11dce9067739">get_self_conversation</a> (int $userid)</td></tr>
<tr class="memdesc:a4ae7f7378c05e518106a11dce9067739"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the self conversation for a user.  <a href="../../d2/de8/classcore__message_1_1api.html#a4ae7f7378c05e518106a11dce9067739">More...</a><br /></td></tr>
<tr class="separator:a4ae7f7378c05e518106a11dce9067739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d7d17449f3a17b9ac6b24acf8116a86"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a5d7d17449f3a17b9ac6b24acf8116a86">get_unread_conversation_counts</a> (int $userid)</td></tr>
<tr class="memdesc:a5d7d17449f3a17b9ac6b24acf8116a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the unread counts for all conversations for the user, sorted by type, and including favourites.  <a href="../../d2/de8/classcore__message_1_1api.html#a5d7d17449f3a17b9ac6b24acf8116a86">More...</a><br /></td></tr>
<tr class="separator:a5d7d17449f3a17b9ac6b24acf8116a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad316e0776138218b07aae86e1c968b0b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#ad316e0776138218b07aae86e1c968b0b">get_user_contacts</a> (int $userid, int $limitfrom=0, int $limitnum=0)</td></tr>
<tr class="memdesc:ad316e0776138218b07aae86e1c968b0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the contacts for a given user.  <a href="../../d2/de8/classcore__message_1_1api.html#ad316e0776138218b07aae86e1c968b0b">More...</a><br /></td></tr>
<tr class="separator:ad316e0776138218b07aae86e1c968b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9b73fa2c247a142dee9f07cfc7cb31"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aaa9b73fa2c247a142dee9f07cfc7cb31">get_user_privacy_messaging_preference</a> (int $userid)</td></tr>
<tr class="memdesc:aaa9b73fa2c247a142dee9f07cfc7cb31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the messaging preference for a user.  <a href="../../d2/de8/classcore__message_1_1api.html#aaa9b73fa2c247a142dee9f07cfc7cb31">More...</a><br /></td></tr>
<tr class="separator:aaa9b73fa2c247a142dee9f07cfc7cb31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa89f4eed62b3476b2b87aaacdad2449d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aa89f4eed62b3476b2b87aaacdad2449d">is_blocked</a> (int $userid, int $blockeduserid)</td></tr>
<tr class="memdesc:aa89f4eed62b3476b2b87aaacdad2449d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a user is already blocked.  <a href="../../d2/de8/classcore__message_1_1api.html#aa89f4eed62b3476b2b87aaacdad2449d">More...</a><br /></td></tr>
<tr class="separator:aa89f4eed62b3476b2b87aaacdad2449d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ce93fa1705e009e0f723d832963bc9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a97ce93fa1705e009e0f723d832963bc9">is_contact</a> (int $userid, int $contactid)</td></tr>
<tr class="memdesc:a97ce93fa1705e009e0f723d832963bc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if users are already contacts.  <a href="../../d2/de8/classcore__message_1_1api.html#a97ce93fa1705e009e0f723d832963bc9">More...</a><br /></td></tr>
<tr class="separator:a97ce93fa1705e009e0f723d832963bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb1caa58757749c209655939f493062b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#acb1caa58757749c209655939f493062b">is_conversation_area_enabled</a> (string $component, string $itemtype, int $itemid, int $contextid)</td></tr>
<tr class="memdesc:acb1caa58757749c209655939f493062b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether or not a conversation area is enabled.  <a href="../../d2/de8/classcore__message_1_1api.html#acb1caa58757749c209655939f493062b">More...</a><br /></td></tr>
<tr class="separator:acb1caa58757749c209655939f493062b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab622a94cc5fd970871bd326cc44340b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aab622a94cc5fd970871bd326cc44340b">is_conversation_muted</a> (int $userid, int $conversationid)</td></tr>
<tr class="memdesc:aab622a94cc5fd970871bd326cc44340b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a conversation is muted or not.  <a href="../../d2/de8/classcore__message_1_1api.html#aab622a94cc5fd970871bd326cc44340b">More...</a><br /></td></tr>
<tr class="separator:aab622a94cc5fd970871bd326cc44340b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3156d20d07a77430efc1cd0fd714d319"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a3156d20d07a77430efc1cd0fd714d319">is_processor_enabled</a> ($name)</td></tr>
<tr class="memdesc:a3156d20d07a77430efc1cd0fd714d319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns weather a given processor is enabled or not.  <a href="../../d2/de8/classcore__message_1_1api.html#a3156d20d07a77430efc1cd0fd714d319">More...</a><br /></td></tr>
<tr class="separator:a3156d20d07a77430efc1cd0fd714d319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a4c6e9c417e034929b3dc0e9cbaf04"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aa3a4c6e9c417e034929b3dc0e9cbaf04">is_user_blocked</a> ($recipientid, $senderid=null)</td></tr>
<tr class="memdesc:aa3a4c6e9c417e034929b3dc0e9cbaf04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the recipient has specifically blocked the sending user.  <a href="../../d2/de8/classcore__message_1_1api.html#aa3a4c6e9c417e034929b3dc0e9cbaf04">More...</a><br /></td></tr>
<tr class="separator:aa3a4c6e9c417e034929b3dc0e9cbaf04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab893ae75885a28cc3ef89e48a5ae069"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aab893ae75885a28cc3ef89e48a5ae069">is_user_in_conversation</a> (int $userid, int $conversationid)</td></tr>
<tr class="memdesc:aab893ae75885a28cc3ef89e48a5ae069"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a user is already in a conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#aab893ae75885a28cc3ef89e48a5ae069">More...</a><br /></td></tr>
<tr class="separator:aab893ae75885a28cc3ef89e48a5ae069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7159cfcf90b2018c9d9ae16fd9de18c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#af7159cfcf90b2018c9d9ae16fd9de18c">is_user_non_contact_blocked</a> ($recipient, $sender=null)</td></tr>
<tr class="memdesc:af7159cfcf90b2018c9d9ae16fd9de18c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the recipient is allowing messages from users that aren't a contact.  <a href="../../d2/de8/classcore__message_1_1api.html#af7159cfcf90b2018c9d9ae16fd9de18c">More...</a><br /></td></tr>
<tr class="separator:af7159cfcf90b2018c9d9ae16fd9de18c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee8ce98da11da53bfdfd41038dd13fdf"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#aee8ce98da11da53bfdfd41038dd13fdf">mark_all_messages_as_read</a> ($userid, $conversationid=null)</td></tr>
<tr class="memdesc:aee8ce98da11da53bfdfd41038dd13fdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks all messages being sent to a user in a particular conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#aee8ce98da11da53bfdfd41038dd13fdf">More...</a><br /></td></tr>
<tr class="separator:aee8ce98da11da53bfdfd41038dd13fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0390d82d6e002bbd9f47832000ebb098"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a0390d82d6e002bbd9f47832000ebb098">mark_all_notifications_as_read</a> ($touserid, $fromuserid=null, $timecreatedto=null)</td></tr>
<tr class="memdesc:a0390d82d6e002bbd9f47832000ebb098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks all notifications being sent from one user to another user as read.  <a href="../../d2/de8/classcore__message_1_1api.html#a0390d82d6e002bbd9f47832000ebb098">More...</a><br /></td></tr>
<tr class="separator:a0390d82d6e002bbd9f47832000ebb098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164cc0651a3c11ca2e8f435ecef224b5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a164cc0651a3c11ca2e8f435ecef224b5">mark_all_read_for_user</a> ()</td></tr>
<tr class="separator:a164cc0651a3c11ca2e8f435ecef224b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9408fa43ffdb79f57033d68d622e94c9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a9408fa43ffdb79f57033d68d622e94c9">mark_message_as_read</a> ($userid, $message, $timeread=null)</td></tr>
<tr class="memdesc:a9408fa43ffdb79f57033d68d622e94c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a single message as read.  <a href="../../d2/de8/classcore__message_1_1api.html#a9408fa43ffdb79f57033d68d622e94c9">More...</a><br /></td></tr>
<tr class="separator:a9408fa43ffdb79f57033d68d622e94c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d4500bb367ad3b98cd4785eae8dc53"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a86d4500bb367ad3b98cd4785eae8dc53">mark_notification_as_read</a> ($notification, $timeread=null)</td></tr>
<tr class="memdesc:a86d4500bb367ad3b98cd4785eae8dc53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a single notification as read.  <a href="../../d2/de8/classcore__message_1_1api.html#a86d4500bb367ad3b98cd4785eae8dc53">More...</a><br /></td></tr>
<tr class="separator:a86d4500bb367ad3b98cd4785eae8dc53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2efbc083c021cffa72c9409d05d8a3e1"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a2efbc083c021cffa72c9409d05d8a3e1">message_search_users</a> (int $userid, string $search, int $limitfrom=0, int $limitnum=20)</td></tr>
<tr class="memdesc:a2efbc083c021cffa72c9409d05d8a3e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles searching for user.  <a href="../../d2/de8/classcore__message_1_1api.html#a2efbc083c021cffa72c9409d05d8a3e1">More...</a><br /></td></tr>
<tr class="separator:a2efbc083c021cffa72c9409d05d8a3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1619453d739b7caaa4dc0583047838b1"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a1619453d739b7caaa4dc0583047838b1">mute_conversation</a> (int $userid, int $conversationid)</td></tr>
<tr class="memdesc:a1619453d739b7caaa4dc0583047838b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles muting a conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#a1619453d739b7caaa4dc0583047838b1">More...</a><br /></td></tr>
<tr class="separator:a1619453d739b7caaa4dc0583047838b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a224689eab0f6b715aefd99912e4243ba"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a224689eab0f6b715aefd99912e4243ba">remove_contact</a> (int $userid, int $contactid)</td></tr>
<tr class="memdesc:a224689eab0f6b715aefd99912e4243ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles removing a contact.  <a href="../../d2/de8/classcore__message_1_1api.html#a224689eab0f6b715aefd99912e4243ba">More...</a><br /></td></tr>
<tr class="separator:a224689eab0f6b715aefd99912e4243ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3f8c5ab2d905077bea3335f33ae814"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a0e3f8c5ab2d905077bea3335f33ae814">remove_members_from_conversation</a> (array $userids, int $convid)</td></tr>
<tr class="memdesc:a0e3f8c5ab2d905077bea3335f33ae814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove some members from an existing conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#a0e3f8c5ab2d905077bea3335f33ae814">More...</a><br /></td></tr>
<tr class="separator:a0e3f8c5ab2d905077bea3335f33ae814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc10a452d771c24e28d097a3e1616523"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#adc10a452d771c24e28d097a3e1616523">search_messages</a> ($userid, $search, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:adc10a452d771c24e28d097a3e1616523"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles searching for messages in the message area.  <a href="../../d2/de8/classcore__message_1_1api.html#adc10a452d771c24e28d097a3e1616523">More...</a><br /></td></tr>
<tr class="separator:adc10a452d771c24e28d097a3e1616523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09b18a0b5b6948b2388a6cfc80719112"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a09b18a0b5b6948b2388a6cfc80719112">search_users</a> ($userid, $search, $limitnum=0)</td></tr>
<tr class="memdesc:a09b18a0b5b6948b2388a6cfc80719112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles searching for user in the message area.  <a href="../../d2/de8/classcore__message_1_1api.html#a09b18a0b5b6948b2388a6cfc80719112">More...</a><br /></td></tr>
<tr class="separator:a09b18a0b5b6948b2388a6cfc80719112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33bab33523ccd65d394538d97fb8caa8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a33bab33523ccd65d394538d97fb8caa8">search_users_in_course</a> ($userid, $courseid, $search, $limitfrom=0, $limitnum=0)</td></tr>
<tr class="memdesc:a33bab33523ccd65d394538d97fb8caa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles searching for user in a particular course in the message area.  <a href="../../d2/de8/classcore__message_1_1api.html#a33bab33523ccd65d394538d97fb8caa8">More...</a><br /></td></tr>
<tr class="separator:a33bab33523ccd65d394538d97fb8caa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a482a4285d0ff852d21bf5483ff510471"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a482a4285d0ff852d21bf5483ff510471">send_message_to_conversation</a> (int $userid, int $conversationid, string $message, int $format)</td></tr>
<tr class="memdesc:a482a4285d0ff852d21bf5483ff510471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message from a user to a conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#a482a4285d0ff852d21bf5483ff510471">More...</a><br /></td></tr>
<tr class="separator:a482a4285d0ff852d21bf5483ff510471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d83b1856913ef175662f779f9995d3f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a5d83b1856913ef175662f779f9995d3f">set_favourite_conversation</a> (int $conversationid, int $userid)</td></tr>
<tr class="memdesc:a5d83b1856913ef175662f779f9995d3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a conversation as a favourite for the given user.  <a href="../../d2/de8/classcore__message_1_1api.html#a5d83b1856913ef175662f779f9995d3f">More...</a><br /></td></tr>
<tr class="separator:a5d83b1856913ef175662f779f9995d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb393b024f3c8b7dc74bf3b599e1cde4"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#afb393b024f3c8b7dc74bf3b599e1cde4">unblock_user</a> (int $userid, int $usertounblockid)</td></tr>
<tr class="memdesc:afb393b024f3c8b7dc74bf3b599e1cde4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles unblocking a user.  <a href="../../d2/de8/classcore__message_1_1api.html#afb393b024f3c8b7dc74bf3b599e1cde4">More...</a><br /></td></tr>
<tr class="separator:afb393b024f3c8b7dc74bf3b599e1cde4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5162673ac376a497602d041236580364"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a5162673ac376a497602d041236580364">unmute_conversation</a> (int $userid, int $conversationid)</td></tr>
<tr class="memdesc:a5162673ac376a497602d041236580364"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles unmuting a conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#a5162673ac376a497602d041236580364">More...</a><br /></td></tr>
<tr class="separator:a5162673ac376a497602d041236580364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40dce3238705c921e160d7d3670d3b9f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a40dce3238705c921e160d7d3670d3b9f">unset_favourite_conversation</a> (int $conversationid, int $userid)</td></tr>
<tr class="memdesc:a40dce3238705c921e160d7d3670d3b9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unset a conversation as a favourite for the given user.  <a href="../../d2/de8/classcore__message_1_1api.html#a40dce3238705c921e160d7d3670d3b9f">More...</a><br /></td></tr>
<tr class="separator:a40dce3238705c921e160d7d3670d3b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e502d10d883df07bf291af761b5bfb3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a5e502d10d883df07bf291af761b5bfb3">update_conversation_name</a> (int $conversationid, string $name)</td></tr>
<tr class="memdesc:a5e502d10d883df07bf291af761b5bfb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the name of a conversation.  <a href="../../d2/de8/classcore__message_1_1api.html#a5e502d10d883df07bf291af761b5bfb3">More...</a><br /></td></tr>
<tr class="separator:a5e502d10d883df07bf291af761b5bfb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7f01909f61b79016301d813b15f711"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#a5c7f01909f61b79016301d813b15f711">update_processor_status</a> ($processor, $enabled)</td></tr>
<tr class="memdesc:a5c7f01909f61b79016301d813b15f711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set status of a processor.  <a href="../../d2/de8/classcore__message_1_1api.html#a5c7f01909f61b79016301d813b15f711">More...</a><br /></td></tr>
<tr class="separator:a5c7f01909f61b79016301d813b15f711"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a00420a2152bf6b8dbfc6e92569178746"><td class="memItemLeft" align="right" valign="top"><a id="a00420a2152bf6b8dbfc6e92569178746" name="a00420a2152bf6b8dbfc6e92569178746"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>CONVERSATION_ACTION_MUTED</b> = 1</td></tr>
<tr class="memdesc:a00420a2152bf6b8dbfc6e92569178746"><td class="mdescLeft">&#160;</td><td class="mdescRight">The action for reading a message. <br /></td></tr>
<tr class="separator:a00420a2152bf6b8dbfc6e92569178746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83eddd0b35cbe89c26e80b33c3893659"><td class="memItemLeft" align="right" valign="top"><a id="a83eddd0b35cbe89c26e80b33c3893659" name="a83eddd0b35cbe89c26e80b33c3893659"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_ACTION_DELETED</b> = 2</td></tr>
<tr class="memdesc:a83eddd0b35cbe89c26e80b33c3893659"><td class="mdescLeft">&#160;</td><td class="mdescRight">The action for deleting a message. <br /></td></tr>
<tr class="separator:a83eddd0b35cbe89c26e80b33c3893659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9209a75ea0de1fdfd5648788b7e1494"><td class="memItemLeft" align="right" valign="top"><a id="ab9209a75ea0de1fdfd5648788b7e1494" name="ab9209a75ea0de1fdfd5648788b7e1494"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_ACTION_READ</b> = 1</td></tr>
<tr class="memdesc:ab9209a75ea0de1fdfd5648788b7e1494"><td class="mdescLeft">&#160;</td><td class="mdescRight">The action for reading a message. <br /></td></tr>
<tr class="separator:ab9209a75ea0de1fdfd5648788b7e1494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dcd43a7b712bd9c835d38caa1174490"><td class="memItemLeft" align="right" valign="top"><a id="a6dcd43a7b712bd9c835d38caa1174490" name="a6dcd43a7b712bd9c835d38caa1174490"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_CONVERSATION_DISABLED</b> = 0</td></tr>
<tr class="memdesc:a6dcd43a7b712bd9c835d38caa1174490"><td class="mdescLeft">&#160;</td><td class="mdescRight">The state for a disabled conversation area. <br /></td></tr>
<tr class="separator:a6dcd43a7b712bd9c835d38caa1174490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07f802f83b21a580d41f346431839af1"><td class="memItemLeft" align="right" valign="top"><a id="a07f802f83b21a580d41f346431839af1" name="a07f802f83b21a580d41f346431839af1"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_CONVERSATION_ENABLED</b> = 1</td></tr>
<tr class="memdesc:a07f802f83b21a580d41f346431839af1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The state for an enabled conversation area. <br /></td></tr>
<tr class="separator:a07f802f83b21a580d41f346431839af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c6424d582f097a8a7cdfe9f2d1f3a3"><td class="memItemLeft" align="right" valign="top"><a id="ab6c6424d582f097a8a7cdfe9f2d1f3a3" name="ab6c6424d582f097a8a7cdfe9f2d1f3a3"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_CONVERSATION_TYPE_GROUP</b> = 2</td></tr>
<tr class="memdesc:ab6c6424d582f097a8a7cdfe9f2d1f3a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">A group conversation. <br /></td></tr>
<tr class="separator:ab6c6424d582f097a8a7cdfe9f2d1f3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd8aed02c2ac5041364c5be33db127f"><td class="memItemLeft" align="right" valign="top"><a id="a3cd8aed02c2ac5041364c5be33db127f" name="a3cd8aed02c2ac5041364c5be33db127f"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_CONVERSATION_TYPE_INDIVIDUAL</b> = 1</td></tr>
<tr class="memdesc:a3cd8aed02c2ac5041364c5be33db127f"><td class="mdescLeft">&#160;</td><td class="mdescRight">An individual conversation. <br /></td></tr>
<tr class="separator:a3cd8aed02c2ac5041364c5be33db127f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb63775d27c8e231b7d561dc6abb5d72"><td class="memItemLeft" align="right" valign="top"><a id="acb63775d27c8e231b7d561dc6abb5d72" name="acb63775d27c8e231b7d561dc6abb5d72"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_CONVERSATION_TYPE_SELF</b> = 3</td></tr>
<tr class="memdesc:acb63775d27c8e231b7d561dc6abb5d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">A self conversation. <br /></td></tr>
<tr class="separator:acb63775d27c8e231b7d561dc6abb5d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a65993588b2c9ec06c70cce2dc0d9ee"><td class="memItemLeft" align="right" valign="top"><a id="a4a65993588b2c9ec06c70cce2dc0d9ee" name="a4a65993588b2c9ec06c70cce2dc0d9ee"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_MAX_LENGTH</b> = 4096</td></tr>
<tr class="memdesc:a4a65993588b2c9ec06c70cce2dc0d9ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">The max message length. <br /></td></tr>
<tr class="separator:a4a65993588b2c9ec06c70cce2dc0d9ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e5f7d8eeeaf604403b0d9ae6f0dd7d9"><td class="memItemLeft" align="right" valign="top"><a id="a4e5f7d8eeeaf604403b0d9ae6f0dd7d9" name="a4e5f7d8eeeaf604403b0d9ae6f0dd7d9"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_PRIVACY_COURSEMEMBER</b> = 0</td></tr>
<tr class="memdesc:a4e5f7d8eeeaf604403b0d9ae6f0dd7d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The privacy setting for being messaged by anyone within courses user is member of. <br /></td></tr>
<tr class="separator:a4e5f7d8eeeaf604403b0d9ae6f0dd7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c47c31350c038cd6ac5b143c5e0d5c"><td class="memItemLeft" align="right" valign="top"><a id="a02c47c31350c038cd6ac5b143c5e0d5c" name="a02c47c31350c038cd6ac5b143c5e0d5c"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_PRIVACY_ONLYCONTACTS</b> = 1</td></tr>
<tr class="memdesc:a02c47c31350c038cd6ac5b143c5e0d5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The privacy setting for being messaged only by contacts. <br /></td></tr>
<tr class="separator:a02c47c31350c038cd6ac5b143c5e0d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4444c43764d11db429e7764c1e823282"><td class="memItemLeft" align="right" valign="top"><a id="a4444c43764d11db429e7764c1e823282" name="a4444c43764d11db429e7764c1e823282"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MESSAGE_PRIVACY_SITE</b> = 2</td></tr>
<tr class="memdesc:a4444c43764d11db429e7764c1e823282"><td class="mdescLeft">&#160;</td><td class="mdescRight">The privacy setting for being messaged by anyone on the site. <br /></td></tr>
<tr class="separator:a4444c43764d11db429e7764c1e823282"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:afb1e03ba79445e9428e50622f7f90c07"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#afb1e03ba79445e9428e50622f7f90c07">can_contact_user</a> (int $recipientid, int $senderid, bool $evenifblocked=false)</td></tr>
<tr class="memdesc:afb1e03ba79445e9428e50622f7f90c07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the sender can message the recipient.  <a href="../../d2/de8/classcore__message_1_1api.html#afb1e03ba79445e9428e50622f7f90c07">More...</a><br /></td></tr>
<tr class="separator:afb1e03ba79445e9428e50622f7f90c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade1dd7774bc988e4df6c4535014a8196"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#ade1dd7774bc988e4df6c4535014a8196">get_linked_conversation_extra_fields</a> (array $conversations)</td></tr>
<tr class="memdesc:ade1dd7774bc988e4df6c4535014a8196"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets extra fields, like image url and subname for any conversations linked to components.  <a href="../../d2/de8/classcore__message_1_1api.html#ade1dd7774bc988e4df6c4535014a8196">More...</a><br /></td></tr>
<tr class="separator:ade1dd7774bc988e4df6c4535014a8196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeafc60f5718d074c1b248cf65338841"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/de8/classcore__message_1_1api.html#abeafc60f5718d074c1b248cf65338841">lazy_create_self_conversation</a> (int $userid)</td></tr>
<tr class="memdesc:abeafc60f5718d074c1b248cf65338841"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a self conversation for a user, only if one doesn't already exist.  <a href="../../d2/de8/classcore__message_1_1api.html#abeafc60f5718d074c1b248cf65338841">More...</a><br /></td></tr>
<tr class="separator:abeafc60f5718d074c1b248cf65338841"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class used to return information to display for the message area. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2016 Mark Nelson <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'kn'+'@mo'+'od'+'le.'+'co'+'m'; return false;">markn<span class="obfuscator">.nosp@m.</span>@moo<span class="obfuscator">.nosp@m.</span>dle.c<span class="obfuscator">.nosp@m.</span>om</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a89c2ca1d61c338700516229395f171bb" name="a89c2ca1d61c338700516229395f171bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89c2ca1d61c338700516229395f171bb">&#9670;&#160;</a></span>add_contact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::add_contact </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$contactid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles adding a contact. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user who requested to be a contact </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contactid</td><td>The id of the contact </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abd3af20b5d9a8357bd1b179d8ed4f946" name="abd3af20b5d9a8357bd1b179d8ed4f946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd3af20b5d9a8357bd1b179d8ed4f946">&#9670;&#160;</a></span>add_members_to_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::add_members_to_conversation </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$userids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$convid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add some new members to an existing conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$userids</td><td>User ids array to add as members. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$convid</td><td>The conversation id. Must exists. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d7/da4/classdml__missing__record__exception.html">dml_missing_record_exception</a></td><td>If convid conversation doesn't exist </td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a></td><td>If there is a database error </td></tr>
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td>If trying to add a member(s) to a non-group conversation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3d60cb24782ec3fd0e2c4d2cd0e3cffc" name="a3d60cb24782ec3fd0e2c4d2cd0e3cffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d60cb24782ec3fd0e2c4d2cd0e3cffc">&#9670;&#160;</a></span>block_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::block_user </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$usertoblockid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles blocking a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user who is blocking </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$usertoblockid</td><td>The id of the user being blocked </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb1e03ba79445e9428e50622f7f90c07" name="afb1e03ba79445e9428e50622f7f90c07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb1e03ba79445e9428e50622f7f90c07">&#9670;&#160;</a></span>can_contact_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::can_contact_user </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$recipientid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$senderid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$evenifblocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the sender can message the recipient. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$recipientid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$senderid</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$evenifblocked</td><td>This lets the user know, that even if the recipient has blocked the user the user is still able to send a message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if recipient hasn't blocked sender and sender can contact to recipient, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af724817c392f8886329c50f6b9970018" name="af724817c392f8886329c50f6b9970018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af724817c392f8886329c50f6b9970018">&#9670;&#160;</a></span>can_create_contact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::can_create_contact </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$requesteduserid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a user can create a contact request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user who is creating the contact request </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requesteduserid</td><td>The id of the user being requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acf2bf826da7d5086238c230a217d19fb" name="acf2bf826da7d5086238c230a217d19fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf2bf826da7d5086238c230a217d19fb">&#9670;&#160;</a></span>can_create_group_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::can_create_group_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a user can create a group conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user attempting to create the conversation </td></tr>
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>The context they are creating the conversation from, most likely course context </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a27ebe21b6b950d66f3dc1778923e1b51" name="a27ebe21b6b950d66f3dc1778923e1b51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27ebe21b6b950d66f3dc1778923e1b51">&#9670;&#160;</a></span>can_delete_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::can_delete_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a user can delete messages they have either received or sent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id of who we want to delete the messages for (this may be done by the admin but will still seem as if it was by the user) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Returns true if a user can delete the conversation, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e19d7d163920d7b84368b4c4754d377" name="a1e19d7d163920d7b84368b4c4754d377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e19d7d163920d7b84368b4c4754d377">&#9670;&#160;</a></span>can_delete_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::can_delete_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$messageid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a user can delete a message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the user id of who we want to delete the message for (this may be done by the admin but will still seem as if it was by the user) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$messageid</td><td>The message id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Returns true if a user can delete the message, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8c1ce44d9efb330a656b0ea9590e6d04" name="a8c1ce44d9efb330a656b0ea9590e6d04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c1ce44d9efb330a656b0ea9590e6d04">&#9670;&#160;</a></span>can_delete_message_for_all_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::can_delete_message_for_all_users </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$messageid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a user can delete a message for all users. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the user id of who we want to delete the message for all users </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$messageid</td><td>The message id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Returns true if a user can delete the message for all users, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae89673e0b4dbdff3a71830556c352ca6" name="ae89673e0b4dbdff3a71830556c352ca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae89673e0b4dbdff3a71830556c352ca6">&#9670;&#160;</a></span>can_mark_all_messages_as_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::can_mark_all_messages_as_read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a user can mark all messages as read. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id of who we want to mark the messages for </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if user is permitted, false otherwise </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>3.6 </dd></dl>

</div>
</div>
<a id="aade16fd3bdb4ec55d1ee39350807e917" name="aade16fd3bdb4ec55d1ee39350807e917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aade16fd3bdb4ec55d1ee39350807e917">&#9670;&#160;</a></span>can_post_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::can_post_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sender</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines if a user is permitted to send another user a private message. </p>
<p >If no sender is provided then it defaults to the logged in user.</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000602">Deprecated:</a></b></dt><dd>since 3.8 </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000142">Todo:</a></b></dt><dd>Final deprecation in <a href="https://tracker.moodle.org/browse/MDL-66266" class="el">MDL-66266</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$recipient</td><td>The user object. </td></tr>
    <tr><td class="paramtype">stdClass&#160;|&#160;null</td><td class="paramname">$sender</td><td>The user object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if user is permitted, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af78888af48182cb1662675dd7455938a" name="af78888af48182cb1662675dd7455938a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af78888af48182cb1662675dd7455938a">&#9670;&#160;</a></span>can_send_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::can_send_message </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$recipientid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$senderid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$evenifblocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines if a user is permitted to send another user a private message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$recipientid</td><td>The recipient user id. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$senderid</td><td>The sender user id. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$evenifblocked</td><td>This lets the user know, that even if the recipient has blocked the user the user is still able to send a message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if user is permitted, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeee4425427db90ca89d2e82ebfd2b5d8" name="aeee4425427db90ca89d2e82ebfd2b5d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee4425427db90ca89d2e82ebfd2b5d8">&#9670;&#160;</a></span>can_send_message_to_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::can_send_message_to_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines if a user is permitted to send a message to a given conversation. </p>
<p >If no sender is provided then it defaults to the logged in user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the id of the user on which the checks will be applied. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>the id of the conversation we wish to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if the user can send a message to the conversation, false otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64cf2fba50325d5e4e8d03503d9c05d0" name="a64cf2fba50325d5e4e8d03503d9c05d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64cf2fba50325d5e4e8d03503d9c05d0">&#9670;&#160;</a></span>confirm_contact_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::confirm_contact_request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$requesteduserid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles confirming a contact request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user who created the contact request </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requesteduserid</td><td>The id of the user confirming the request </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2a5ec9bb42fff6ac9d474b1a967a9150" name="a2a5ec9bb42fff6ac9d474b1a967a9150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a5ec9bb42fff6ac9d474b1a967a9150">&#9670;&#160;</a></span>count_blocked_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::count_blocked_users </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count the number of users blocked by a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>The user object </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number of blocked users </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a88697b6724328b8988b9e661fce26ed4" name="a88697b6724328b8988b9e661fce26ed4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88697b6724328b8988b9e661fce26ed4">&#9670;&#160;</a></span>count_contacts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::count_contacts </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the contacts count. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a209a142eee1dcad9f82f11052526a87d" name="a209a142eee1dcad9f82f11052526a87d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209a142eee1dcad9f82f11052526a87d">&#9670;&#160;</a></span>count_conversation_members()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::count_conversation_members </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$convid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count conversation members. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$convid</td><td>The conversation id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Number of conversation members. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a310060d40b858126a6e7c49ef6c53815" name="a310060d40b858126a6e7c49ef6c53815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a310060d40b858126a6e7c49ef6c53815">&#9670;&#160;</a></span>count_unread_conversations()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::count_unread_conversations </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the count of unread conversations (collection of messages from a single user) for the given user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td>the user who's conversations should be counted </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the count of the user's unread conversations </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a122d9253667b15432fe9ac9f1f0c6a54" name="a122d9253667b15432fe9ac9f1f0c6a54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a122d9253667b15432fe9ac9f1f0c6a54">&#9670;&#160;</a></span>create_contact_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::create_contact_request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$requesteduserid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles creating a contact request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user who is creating the contact request </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requesteduserid</td><td>The id of the user being requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>the request </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1fa39039034f86d39223f3e1830a12e3" name="a1fa39039034f86d39223f3e1830a12e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa39039034f86d39223f3e1830a12e3">&#9670;&#160;</a></span>create_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::create_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$userids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$name</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$enabled</em> = <code>self::MESSAGE_CONVERSATION_ENABLED</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$component</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$itemtype</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$itemid</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$contextid</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a conversation with selected users and messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>The type of conversation </td></tr>
    <tr><td class="paramtype">int[]</td><td class="paramname">$userids</td><td>The array of users to add to the conversation </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$name</td><td>The name of the conversation </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$enabled</td><td>Determines if the conversation is created enabled or disabled </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$component</td><td>Defines the Moodle component which the conversation belongs to, if any </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$itemtype</td><td>Defines the type of the component </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$itemid</td><td>The id of the component </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$contextid</td><td>The id of the context </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac20633338df3eb8cd316796128346c39" name="ac20633338df3eb8cd316796128346c39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac20633338df3eb8cd316796128346c39">&#9670;&#160;</a></span>create_conversation_between_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::create_conversation_between_users </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$userids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a conversation between two users. </p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000606">Deprecated:</a></b></dt><dd>since 3.6 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$userids</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>The id of the conversation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4c4d91540c4790bd72a8dbb8eb3c59a0" name="a4c4d91540c4790bd72a8dbb8eb3c59a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c4d91540c4790bd72a8dbb8eb3c59a0">&#9670;&#160;</a></span>decline_contact_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::decline_contact_request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$requesteduserid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles declining a contact request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user who created the contact request </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requesteduserid</td><td>The id of the user declining the request </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a13486ff1c6ff73cb9bf5b3756612b031" name="a13486ff1c6ff73cb9bf5b3756612b031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13486ff1c6ff73cb9bf5b3756612b031">&#9670;&#160;</a></span>delete_all_conversation_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::delete_all_conversation_data </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Completely removes all related data in the DB for a given conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0def115e62b820423b6c5c90927dcaa2" name="a0def115e62b820423b6c5c90927dcaa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0def115e62b820423b6c5c90927dcaa2">&#9670;&#160;</a></span>delete_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::delete_conversation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$otheruserid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes a conversation. </p>
<p >This function does not verify any permissions.</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000600">Deprecated:</a></b></dt><dd>since 3.6 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id of who we want to delete the messages for (this may be done by the admin but will still seem as if it was by the user) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$otheruserid</td><td>The id of the other user in the conversation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9911b83e73e4f5a9c9f69fb8692fd046" name="a9911b83e73e4f5a9c9f69fb8692fd046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9911b83e73e4f5a9c9f69fb8692fd046">&#9670;&#160;</a></span>delete_conversation_by_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::delete_conversation_by_id </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes a conversation for a specified user. </p>
<p >This function does not verify any permissions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id of who we want to delete the messages for (this may be done by the admin but will still seem as if it was by the user) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the other user in the conversation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad3cea4fc31f575049019027149dc4588" name="ad3cea4fc31f575049019027149dc4588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3cea4fc31f575049019027149dc4588">&#9670;&#160;</a></span>delete_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::delete_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$messageid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes a message. </p>
<p >This function does not verify any permissions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the user id of who we want to delete the message for (this may be done by the admin but will still seem as if it was by the user) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$messageid</td><td>The message id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abd5b49896f77d8bdfe89ab1e9a228d99" name="abd5b49896f77d8bdfe89ab1e9a228d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd5b49896f77d8bdfe89ab1e9a228d99">&#9670;&#160;</a></span>delete_message_for_all_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::delete_message_for_all_users </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$messageid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete a message for all users. </p>
<p >This function does not verify any permissions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$messageid</td><td>The message id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa31e49dfbb9bc4ab677922d5883b8b71" name="aa31e49dfbb9bc4ab677922d5883b8b71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa31e49dfbb9bc4ab677922d5883b8b71">&#9670;&#160;</a></span>disable_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::disable_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable a conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a74f653cf997c0b509eb217784dcfbc54" name="a74f653cf997c0b509eb217784dcfbc54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74f653cf997c0b509eb217784dcfbc54">&#9670;&#160;</a></span>does_contact_request_exist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::does_contact_request_exist </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$requesteduserid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a contact request already exists between users. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user who is creating the contact request </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requesteduserid</td><td>The id of the user being requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Returns true if a contact request exists, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a33395fd572bb693e7f30ba9a0d43fa62" name="a33395fd572bb693e7f30ba9a0d43fa62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33395fd572bb693e7f30ba9a0d43fa62">&#9670;&#160;</a></span>enable_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::enable_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable a conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a25d0532a8b7b5be8ac4f3525f596fb1f" name="a25d0532a8b7b5be8ac4f3525f596fb1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d0532a8b7b5be8ac4f3525f596fb1f">&#9670;&#160;</a></span>get_all_message_preferences()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_all_message_preferences </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$processors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$providers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns message preferences. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$processors</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$providers</td><td></td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$user</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>3.2 </dd></dl>

</div>
</div>
<a id="a64a0fb3c291ab23d8e492be6874d198a" name="a64a0fb3c291ab23d8e492be6874d198a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a0fb3c291ab23d8e492be6874d198a">&#9670;&#160;</a></span>get_blocked_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_blocked_users </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve users blocked by $user1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id of the user whos blocked users we are returning </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the users blocked </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0828790bcadf0f35c84fd51650ae944a" name="a0828790bcadf0f35c84fd51650ae944a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0828790bcadf0f35c84fd51650ae944a">&#9670;&#160;</a></span>get_contact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_contact </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$contactid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the row in the database table message_contacts that represents the contact between two people. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of one of the users </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contactid</td><td>The id of the other user </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>A fieldset object containing the record, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1908089a3a2fbe16f676dfe2d13e3ac2" name="a1908089a3a2fbe16f676dfe2d13e3ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1908089a3a2fbe16f676dfe2d13e3ac2">&#9670;&#160;</a></span>get_contact_requests()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_contact_requests </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles returning the contact requests for a user. </p>
<p >This also includes the user data necessary to display information about the user.</p>
<p >It will not include blocked users.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>The list of contact requests </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae9dfda8fecd63876441709a1b0469451" name="ae9dfda8fecd63876441709a1b0469451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9dfda8fecd63876441709a1b0469451">&#9670;&#160;</a></span>get_contact_requests_between_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_contact_requests_between_users </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$requesteduserid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get contact requests between users. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user who is creating the contact request </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$requesteduserid</td><td>The id of the user being requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass[]</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59b2e1fba95bce18bcb427fbc3fd50ca" name="a59b2e1fba95bce18bcb427fbc3fd50ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b2e1fba95bce18bcb427fbc3fd50ca">&#9670;&#160;</a></span>get_contacts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_contacts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the contacts to display in the contacts area. </p>
<p >TODO: This function should be removed once the related web service goes through final deprecation. The related web service is data_for_messagearea_contacts. Followup: <a href="https://tracker.moodle.org/browse/MDL-63261" class="el">MDL-63261</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e20e7bc3a51b1e421d31e82cce8d2f5" name="a9e20e7bc3a51b1e421d31e82cce8d2f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e20e7bc3a51b1e421d31e82cce8d2f5">&#9670;&#160;</a></span>get_contacts_with_unread_message_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_contacts_with_unread_message_count </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the an array of the users the given user is in a conversation with who are a contact and the number of unread messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abffc1d1b5d4fcc8ec86ea9569023d70a" name="abffc1d1b5d4fcc8ec86ea9569023d70a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abffc1d1b5d4fcc8ec86ea9569023d70a">&#9670;&#160;</a></span>get_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$includecontactrequests</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$includeprivacyinfo</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$memberlimit</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$memberoffset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$messagelimit</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$messageoffset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$newestmessagesfirst</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id to get the conversation for </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation to fetch </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$includecontactrequests</td><td>Should contact requests be included between members </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$includeprivacyinfo</td><td>Should privacy info be included between members </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$memberlimit</td><td>Limit number of members to load </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$memberoffset</td><td>Offset members by this amount </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$messagelimit</td><td>Limit number of messages to load </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$messageoffset</td><td>Offset the messages </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$newestmessagesfirst</td><td>Order messages by newest first </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a211afb605cbcb1b6962c5f4e20a658c5" name="a211afb605cbcb1b6962c5f4e20a658c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a211afb605cbcb1b6962c5f4e20a658c5">&#9670;&#160;</a></span>get_conversation_between_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_conversation_between_users </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$userids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the conversation between two users. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$userids</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int|bool</td><td>The id of the conversation, false if not found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aceebadb0cb53869e27657ef6f8ee206d" name="aceebadb0cb53869e27657ef6f8ee206d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceebadb0cb53869e27657ef6f8ee206d">&#9670;&#160;</a></span>get_conversation_by_area()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_conversation_by_area </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$itemtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$itemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$contextid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get conversation by area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>Defines the Moodle component which the area was added to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemtype</td><td>Defines the type of the component. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>The id of the component. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>The id of the context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64ca3603350ee53fccb90905425420dc" name="a64ca3603350ee53fccb90905425420dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64ca3603350ee53fccb90905425420dc">&#9670;&#160;</a></span>get_conversation_counts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_conversation_counts </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the count of conversations (collection of messages from a single user) for the given user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user whose conversations should be counted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the array of conversations counts, indexed by type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1c744964b05d19641e2071dd4b6dfbcc" name="a1c744964b05d19641e2071dd4b6dfbcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c744964b05d19641e2071dd4b6dfbcc">&#9670;&#160;</a></span>get_conversation_members()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_conversation_members </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$includecontactrequests</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$includeprivacyinfo</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of conversation members. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user we are returning the conversation members for, used by <a class="el" href="../../dd/d63/classcore__message_1_1helper.html#ab999b4e370230e24599519d95cb0b7e1" title="Returns conversation member info for the supplied users, relative to the supplied referenceuserid.">helper::get_member_info</a>. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$includecontactrequests</td><td>Do we want to include contact requests with this data? </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$includeprivacyinfo</td><td>Do we want to include privacy requests with this data? </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a82869d1c4ef71ff966119acecc7359d9" name="a82869d1c4ef71ff966119acecc7359d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82869d1c4ef71ff966119acecc7359d9">&#9670;&#160;</a></span>get_conversation_messages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_conversation_messages </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$convid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>'timecreated&#160;ASC'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$timefrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$timeto</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the messages for the defined conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The current user. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$convid</td><td>The conversation where the messages belong. Could be an object or just the id. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td>Return a subset of records, starting at this point (optional). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td>Return a subset comprising this many records in total (optional, required if $limitfrom is set). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td>The column name to order by including optionally direction. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timefrom</td><td>The time from the message being sent. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timeto</td><td>The time up until the message being sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of messages </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a38e27fc613f34de2bff80e781a03f239" name="a38e27fc613f34de2bff80e781a03f239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38e27fc613f34de2bff80e781a03f239">&#9670;&#160;</a></span>get_conversations()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_conversations </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>20</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$type</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$favourites</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$mergeself</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the contacts and their conversation to display in the contacts area. </p>
<p >** WARNING ** It is HIGHLY recommended to use a sensible limit when calling this function. Trying to retrieve too much information in a single call will cause performance problems. ** WARNING **</p>
<p >This function has specifically been altered to break each of the data sets it requires into separate database calls. This is to avoid the performance problems observed when attempting to join large data sets (e.g. the message tables and the user table).</p>
<p >While it is possible to gather the data in a single query, and it may even be more efficient with a correctly tuned database, we have opted to trade off some of the benefits of a single query in order to ensure this function will work on most databases with default tunings and with large data sets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$type</td><td>the type of the conversation, if you wish to filter to a certain type (see api constants). </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$favourites</td><td>whether to include NO favourites (false) or ONLY favourites (true), or null to ignore this setting. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$mergeself</td><td>whether to include self-conversations (true) or ONLY private conversations (false) when private conversations are requested. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the array of conversations </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a47383abd1488cb05bbb89a1b7c9dd0b0" name="a47383abd1488cb05bbb89a1b7c9dd0b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47383abd1488cb05bbb89a1b7c9dd0b0">&#9670;&#160;</a></span>get_conversations_between_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_conversations_between_users </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>20</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns all conversations between two users. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid1</td><td>One of the user's id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid2</td><td>The other user's id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aec583f557107bf9c771acad159757372" name="aec583f557107bf9c771acad159757372"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec583f557107bf9c771acad159757372">&#9670;&#160;</a></span>get_individual_conversations_between_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_individual_conversations_between_users </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$useridsets</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the conversations between sets of users. </p>
<p >The returned array of results will be in the same order as the requested arguments, null will be returned if there is no conversation for that user pair.</p>
<p >For example: If we have 6 users with ids 1, 2, 3, 4, 5, 6 where only 2 conversations exist. One between 1 and 2 and another between 5 and 6.</p>
<p >Then if we call: $conversations = get_individual_conversations_between_users([[1,2], [3,4], [5,6]]);</p>
<p >The conversations array will look like: [&lt;conv_record&gt;, null, &lt;conv_record&gt;];</p>
<p >Where null is returned for the pairing of [3, 4] since no record exists.</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000605">Deprecated:</a></b></dt><dd>since 3.8 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$useridsets</td><td>An array of arrays where the inner array is the set of user ids </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass[]</td><td>Array of conversation records </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ade1dd7774bc988e4df6c4535014a8196" name="ade1dd7774bc988e4df6c4535014a8196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade1dd7774bc988e4df6c4535014a8196">&#9670;&#160;</a></span>get_linked_conversation_extra_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_linked_conversation_extra_fields </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$conversations</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets extra fields, like image url and subname for any conversations linked to components. </p>
<p >The subname is like a subtitle for the conversation, to compliment it's name. The imageurl is the location of the image for the conversation, as might be seen on a listing of conversations for a user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$conversations</td><td>a list of conversations records. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the array of subnames, index by conversation id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad54f8936bb3a71786bbaa98f02fcc222" name="ad54f8936bb3a71786bbaa98f02fcc222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad54f8936bb3a71786bbaa98f02fcc222">&#9670;&#160;</a></span>get_message_processor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_message_processor </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ready</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get specified message processor, validate corresponding plugin existence and system configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>Name of the processor. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$ready</td><td>only return ready-to-use processors. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed::$processor</td><td>if processor present else empty array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Moodle 3.2 </dd></dl>

</div>
</div>
<a id="a42841d89c6484b420944b44dfe90d779" name="a42841d89c6484b420944b44dfe90d779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42841d89c6484b420944b44dfe90d779">&#9670;&#160;</a></span>get_messages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_messages </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$otheruserid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sort</em> = <code>'timecreated&#160;ASC'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timefrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timeto</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the messages to display in the message area. </p>
<p >TODO: This function should be removed once the related web service goes through final deprecation. The related web service is data_for_messagearea_messages. Followup: <a href="https://tracker.moodle.org/browse/MDL-63261" class="el">MDL-63261</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the current user </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$otheruserid</td><td>the other user </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$sort</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timefrom</td><td>the time from the message being sent </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timeto</td><td>the time up until the message being sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a39bbc96dcbfc17f35064066d4ad5365e" name="a39bbc96dcbfc17f35064066d4ad5365e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39bbc96dcbfc17f35064066d4ad5365e">&#9670;&#160;</a></span>get_most_recent_conversation_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_most_recent_conversation_message </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$convid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$currentuserid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the most recent message in a conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$convid</td><td>The conversation identifier. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$currentuserid</td><td>The current user identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|null</td><td>The most recent message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c0060cd3136f59d3a81e48ae3f9b3f0" name="a6c0060cd3136f59d3a81e48ae3f9b3f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c0060cd3136f59d3a81e48ae3f9b3f0">&#9670;&#160;</a></span>get_most_recent_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_most_recent_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$otheruserid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the most recent message between two users. </p>
<p >TODO: This function should be removed once the related web service goes through final deprecation. The related web service is data_for_messagearea_get_most_recent_message. Followup: <a href="https://tracker.moodle.org/browse/MDL-63261" class="el">MDL-63261</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the current user </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$otheruserid</td><td>the other user </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a736e98a484122cbb37a18887b9521d2f" name="a736e98a484122cbb37a18887b9521d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a736e98a484122cbb37a18887b9521d2f">&#9670;&#160;</a></span>get_non_contacts_with_unread_message_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_non_contacts_with_unread_message_count </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the an array of the users the given user is in a conversation with who are not a contact and the number of unread messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a253e1fb20cdb26bbec544be515422ea6" name="a253e1fb20cdb26bbec544be515422ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a253e1fb20cdb26bbec544be515422ea6">&#9670;&#160;</a></span>get_processed_processor_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_processed_processor_object </td>
          <td>(</td>
          <td class="paramtype">\stdClass&#160;</td>
          <td class="paramname"><em>$processor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a processor object, loads information about it's settings and configurations. </p>
<p >This is not a public api, instead use </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d2/de8/classcore__message_1_1api.html#ad54f8936bb3a71786bbaa98f02fcc222" title="Get specified message processor, validate corresponding plugin existence and system configuration.">core_message::api::get_message_processor()</a> or </dd>
<dd>
<a class="el" href="../../d4/dc2/group__core__message.html#gadf31da340488e7d0d43a993999bf9588" title="Get all message processors, validate corresponding plugin existance and system configuration.">get_message_processors()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$processor</td><td>processor object </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>processed processor object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Moodle 3.2 </dd></dl>

</div>
</div>
<a id="add7d1898dd87c0563518ec84c04245e2" name="add7d1898dd87c0563518ec84c04245e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add7d1898dd87c0563518ec84c04245e2">&#9670;&#160;</a></span>get_profile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_profile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$otheruserid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the profile information for a contact for a user. </p>
<p >TODO: This function should be removed once the related web service goes through final deprecation. The related web service is data_for_messagearea_get_profile. Followup: <a href="https://tracker.moodle.org/browse/MDL-63261" class="el">MDL-63261</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$otheruserid</td><td>The id of the user whose profile we want to view. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adf1f4657689a1ebda553567f8472c261" name="adf1f4657689a1ebda553567f8472c261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf1f4657689a1ebda553567f8472c261">&#9670;&#160;</a></span>get_received_contact_requests_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_received_contact_requests_count </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of contact requests the user has received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The ID of the user we want to return the number of received contact requests for </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>The count </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ae7f7378c05e518106a11dce9067739" name="a4ae7f7378c05e518106a11dce9067739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ae7f7378c05e518106a11dce9067739">&#9670;&#160;</a></span>get_self_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_self_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the self conversation for a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id to get the self-conversations </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass|false</td><td>The self-conversation object or false if it doesn't exist </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Moodle 3.7 </dd></dl>

</div>
</div>
<a id="a5d7d17449f3a17b9ac6b24acf8116a86" name="a5d7d17449f3a17b9ac6b24acf8116a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d7d17449f3a17b9ac6b24acf8116a86">&#9670;&#160;</a></span>get_unread_conversation_counts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_unread_conversation_counts </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the unread counts for all conversations for the user, sorted by type, and including favourites. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the id of the user whose conversations we'll check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the unread counts for each conversation, indexed by type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad316e0776138218b07aae86e1c968b0b" name="ad316e0776138218b07aae86e1c968b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad316e0776138218b07aae86e1c968b0b">&#9670;&#160;</a></span>get_user_contacts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_user_contacts </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the contacts for a given user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of contacts </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaa9b73fa2c247a142dee9f07cfc7cb31" name="aaa9b73fa2c247a142dee9f07cfc7cb31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa9b73fa2c247a142dee9f07cfc7cb31">&#9670;&#160;</a></span>get_user_privacy_messaging_preference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::get_user_privacy_messaging_preference </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the messaging preference for a user. </p>
<p >If the user has not any messaging privacy preference:</p><ul>
<li>When $CFG-&gt;messagingallusers = false the default user preference is MESSAGE_PRIVACY_COURSEMEMBER.</li>
<li>When $CFG-&gt;messagingallusers = true the default user preference is MESSAGE_PRIVACY_SITE.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>The default messaging preference. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa89f4eed62b3476b2b87aaacdad2449d" name="aa89f4eed62b3476b2b87aaacdad2449d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa89f4eed62b3476b2b87aaacdad2449d">&#9670;&#160;</a></span>is_blocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::is_blocked </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$blockeduserid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a user is already blocked. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$blockeduserid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Returns true if they are a blocked, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97ce93fa1705e009e0f723d832963bc9" name="a97ce93fa1705e009e0f723d832963bc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ce93fa1705e009e0f723d832963bc9">&#9670;&#160;</a></span>is_contact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::is_contact </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$contactid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if users are already contacts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of one of the users </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contactid</td><td>The id of the other user </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Returns true if they are a contact, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acb1caa58757749c209655939f493062b" name="acb1caa58757749c209655939f493062b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb1caa58757749c209655939f493062b">&#9670;&#160;</a></span>is_conversation_area_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::is_conversation_area_enabled </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$itemtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$itemid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$contextid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether or not a conversation area is enabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$component</td><td>Defines the Moodle component which the area was added to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$itemtype</td><td>Defines the type of the component. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$itemid</td><td>The id of the component. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contextid</td><td>The id of the context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Returns if a conversation area exists and is enabled, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab622a94cc5fd970871bd326cc44340b" name="aab622a94cc5fd970871bd326cc44340b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab622a94cc5fd970871bd326cc44340b">&#9670;&#160;</a></span>is_conversation_muted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::is_conversation_muted </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether a conversation is muted or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Whether or not the conversation is muted or not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3156d20d07a77430efc1cd0fd714d319" name="a3156d20d07a77430efc1cd0fd714d319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3156d20d07a77430efc1cd0fd714d319">&#9670;&#160;</a></span>is_processor_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::is_processor_enabled </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns weather a given processor is enabled or not. </p>
<p >Note:- This doesn't check if the processor is configured or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>Name of the processor </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa3a4c6e9c417e034929b3dc0e9cbaf04" name="aa3a4c6e9c417e034929b3dc0e9cbaf04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3a4c6e9c417e034929b3dc0e9cbaf04">&#9670;&#160;</a></span>is_user_blocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::is_user_blocked </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$recipientid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$senderid</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the recipient has specifically blocked the sending user. </p>
<p >Note: This function will always return false if the sender has the readallmessages capability at the system context level.</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000604">Deprecated:</a></b></dt><dd>since 3.6 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$recipientid</td><td>User ID of the recipient. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$senderid</td><td>User ID of the sender. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if $sender is blocked, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab893ae75885a28cc3ef89e48a5ae069" name="aab893ae75885a28cc3ef89e48a5ae069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab893ae75885a28cc3ef89e48a5ae069">&#9670;&#160;</a></span>is_user_in_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::is_user_in_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a user is already in a conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user we want to check if they are in a group </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Returns true if a contact request exists, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af7159cfcf90b2018c9d9ae16fd9de18c" name="af7159cfcf90b2018c9d9ae16fd9de18c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7159cfcf90b2018c9d9ae16fd9de18c">&#9670;&#160;</a></span>is_user_non_contact_blocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::is_user_non_contact_blocked </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sender</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the recipient is allowing messages from users that aren't a contact. </p>
<p >If not then it checks to make sure the sender is in the recipient's contacts.</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000603">Deprecated:</a></b></dt><dd>since 3.6 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$recipient</td><td>The user object. </td></tr>
    <tr><td class="paramtype">stdClass&#160;|&#160;null</td><td class="paramname">$sender</td><td>The user object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if $sender is blocked, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abeafc60f5718d074c1b248cf65338841" name="abeafc60f5718d074c1b248cf65338841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeafc60f5718d074c1b248cf65338841">&#9670;&#160;</a></span>lazy_create_self_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::lazy_create_self_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a self conversation for a user, only if one doesn't already exist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the user to whom the conversation belongs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aee8ce98da11da53bfdfd41038dd13fdf" name="aee8ce98da11da53bfdfd41038dd13fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee8ce98da11da53bfdfd41038dd13fdf">&#9670;&#160;</a></span>mark_all_messages_as_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::mark_all_messages_as_read </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$conversationid</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Marks all messages being sent to a user in a particular conversation. </p>
<p >If $conversationdid is null then it marks all messages as read sent to $userid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$conversationid</td><td>The conversation the messages belong to mark as read, if null mark all </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0390d82d6e002bbd9f47832000ebb098" name="a0390d82d6e002bbd9f47832000ebb098"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0390d82d6e002bbd9f47832000ebb098">&#9670;&#160;</a></span>mark_all_notifications_as_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::mark_all_notifications_as_read </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$touserid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fromuserid</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timecreatedto</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Marks all notifications being sent from one user to another user as read. </p>
<p >If the from user is null then it marks all notifications as read sent to the to user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$touserid</td><td>the id of the message recipient </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$fromuserid</td><td>the id of the message sender, null if all messages </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$timecreatedto</td><td>mark notifications created before this time as read </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a164cc0651a3c11ca2e8f435ecef224b5" name="a164cc0651a3c11ca2e8f435ecef224b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a164cc0651a3c11ca2e8f435ecef224b5">&#9670;&#160;</a></span>mark_all_read_for_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::mark_all_read_for_user </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000601">Deprecated:</a></b></dt><dd>since 3.5 </dd></dl>

</div>
</div>
<a id="a9408fa43ffdb79f57033d68d622e94c9" name="a9408fa43ffdb79f57033d68d622e94c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9408fa43ffdb79f57033d68d622e94c9">&#9670;&#160;</a></span>mark_message_as_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::mark_message_as_read </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timeread</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a single message as read. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id who marked the message as read </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$message</td><td>The message </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$timeread</td><td>The time the message was marked as read, if null will default to time() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a86d4500bb367ad3b98cd4785eae8dc53" name="a86d4500bb367ad3b98cd4785eae8dc53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d4500bb367ad3b98cd4785eae8dc53">&#9670;&#160;</a></span>mark_notification_as_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::mark_notification_as_read </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$notification</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timeread</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a single notification as read. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$notification</td><td>The notification </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;null</td><td class="paramname">$timeread</td><td>The time the message was marked as read, if null will default to time() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2efbc083c021cffa72c9409d05d8a3e1" name="a2efbc083c021cffa72c9409d05d8a3e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2efbc083c021cffa72c9409d05d8a3e1">&#9670;&#160;</a></span>message_search_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::message_search_users </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$search</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>20</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles searching for user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id doing the searching </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td>The string the user is searching </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1619453d739b7caaa4dc0583047838b1" name="a1619453d739b7caaa4dc0583047838b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1619453d739b7caaa4dc0583047838b1">&#9670;&#160;</a></span>mute_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::mute_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles muting a conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a224689eab0f6b715aefd99912e4243ba" name="a224689eab0f6b715aefd99912e4243ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a224689eab0f6b715aefd99912e4243ba">&#9670;&#160;</a></span>remove_contact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::remove_contact </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$contactid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles removing a contact. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user who is removing a user as a contact </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$contactid</td><td>The id of the user to be removed as a contact </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0e3f8c5ab2d905077bea3335f33ae814" name="a0e3f8c5ab2d905077bea3335f33ae814"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e3f8c5ab2d905077bea3335f33ae814">&#9670;&#160;</a></span>remove_members_from_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::remove_members_from_conversation </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$userids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$convid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove some members from an existing conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$userids</td><td>The user ids to remove from conversation members. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$convid</td><td>The conversation id. Must exists. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d5/d5c/classdml__exception.html">dml_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td>If trying to remove a member(s) from a non-group conversation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adc10a452d771c24e28d097a3e1616523" name="adc10a452d771c24e28d097a3e1616523"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc10a452d771c24e28d097a3e1616523">&#9670;&#160;</a></span>search_messages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::search_messages </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$search</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles searching for messages in the message area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id doing the searching </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td>The string the user is searching </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a09b18a0b5b6948b2388a6cfc80719112" name="a09b18a0b5b6948b2388a6cfc80719112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09b18a0b5b6948b2388a6cfc80719112">&#9670;&#160;</a></span>search_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::search_users </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$search</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles searching for user in the message area. </p>
<p >TODO: This function should be removed once the related web service goes through final deprecation. The related web service is data_for_messagearea_search_users. Followup: <a href="https://tracker.moodle.org/browse/MDL-63261" class="el">MDL-63261</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id doing the searching </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td>The string the user is searching </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a33bab33523ccd65d394538d97fb8caa8" name="a33bab33523ccd65d394538d97fb8caa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33bab33523ccd65d394538d97fb8caa8">&#9670;&#160;</a></span>search_users_in_course()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::search_users_in_course </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$courseid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$search</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitfrom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limitnum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles searching for user in a particular course in the message area. </p>
<p >TODO: This function should be removed once the related web service goes through final deprecation. The related web service is data_for_messagearea_search_users_in_course. Followup: <a href="https://tracker.moodle.org/browse/MDL-63261" class="el">MDL-63261</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The user id doing the searching </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td>The id of the course we are searching in </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td>The string the user is searching </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitfrom</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limitnum</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a482a4285d0ff852d21bf5483ff510471" name="a482a4285d0ff852d21bf5483ff510471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a482a4285d0ff852d21bf5483ff510471">&#9670;&#160;</a></span>send_message_to_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::send_message_to_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a message from a user to a conversation. </p>
<p >This method will create the basic eventdata and delegate to message creation to message_send. The message_send() method is responsible for event data that is specific to each recipient.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the sender id. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>the conversation id. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$message</td><td>the message to send. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$format</td><td>the format of the message to send. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>the message created. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td>if the user is not permitted to send a message to the conversation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5d83b1856913ef175662f779f9995d3f" name="a5d83b1856913ef175662f779f9995d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d83b1856913ef175662f779f9995d3f">&#9670;&#160;</a></span>set_favourite_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::set_favourite_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a conversation as a favourite for the given user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>the id of the conversation to mark as a favourite. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the id of the user to whom the favourite belongs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">favourite</td><td>the favourite object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td>if the user or conversation don't exist. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb393b024f3c8b7dc74bf3b599e1cde4" name="afb393b024f3c8b7dc74bf3b599e1cde4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb393b024f3c8b7dc74bf3b599e1cde4">&#9670;&#160;</a></span>unblock_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::unblock_user </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$usertounblockid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles unblocking a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user who is unblocking </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$usertounblockid</td><td>The id of the user being unblocked </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5162673ac376a497602d041236580364" name="a5162673ac376a497602d041236580364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5162673ac376a497602d041236580364">&#9670;&#160;</a></span>unmute_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::unmute_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles unmuting a conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>The id of the user </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of the conversation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a40dce3238705c921e160d7d3670d3b9f" name="a40dce3238705c921e160d7d3670d3b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40dce3238705c921e160d7d3670d3b9f">&#9670;&#160;</a></span>unset_favourite_conversation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::unset_favourite_conversation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$userid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unset a conversation as a favourite for the given user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>the id of the conversation to unset as a favourite. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td>the id to whom the favourite belongs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td>if the favourite does not exist for the user. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e502d10d883df07bf291af761b5bfb3" name="a5e502d10d883df07bf291af761b5bfb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e502d10d883df07bf291af761b5bfb3">&#9670;&#160;</a></span>update_conversation_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::update_conversation_name </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$conversationid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the name of a conversation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$conversationid</td><td>The id of a conversation. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The main name of the area </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5c7f01909f61b79016301d813b15f711" name="a5c7f01909f61b79016301d813b15f711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c7f01909f61b79016301d813b15f711">&#9670;&#160;</a></span>update_processor_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_message\api::update_processor_status </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$processor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set status of a processor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$processor</td><td>processor record. </td></tr>
    <tr><td class="paramtype">0&#160;|&#160;1</td><td class="paramname">$enabled</td><td>0 or 1 to set the processor status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Moodle 3.2 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>message/classes/api.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 9 2022 04:01:20 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
