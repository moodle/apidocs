<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: workshop_best_evaluation Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;3.11</span>
   </div>
   <div id="projectbrief">Moodle 3.11.10+ (Build: 20220930) (e79b14e2a9)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d1/d4f/classworkshop__best__evaluation-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">workshop_best_evaluation Class Reference<div class="ingroups"><a class="el" href="../../da/d17/group__workshopeval.html">workshopeval</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Defines the computation login of the grading evaluation subplugin.  
 <a href="../../d0/d7e/classworkshop__best__evaluation.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for workshop_best_evaluation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d0/d7e/classworkshop__best__evaluation.png" usemap="#workshop_5Fbest_5Fevaluation_map" alt=""/>
  <map id="workshop_5Fbest_5Fevaluation_map" name="workshop_5Fbest_5Fevaluation_map">
<area href="../../dd/d4b/classworkshop__evaluation.html" title="Base class for all grading evaluation subplugins." alt="workshop_evaluation" shape="rect" coords="0,0,161,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af9dad674e2203972c0e2f43579488e32"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/classworkshop__best__evaluation.html#af9dad674e2203972c0e2f43579488e32">__construct</a> (<a class="el" href="../../d6/d7d/classworkshop.html">workshop</a> $<a class="el" href="../../d6/d7d/classworkshop.html">workshop</a>)</td></tr>
<tr class="memdesc:af9dad674e2203972c0e2f43579488e32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="../../d0/d7e/classworkshop__best__evaluation.html#af9dad674e2203972c0e2f43579488e32">More...</a><br /></td></tr>
<tr class="separator:af9dad674e2203972c0e2f43579488e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad38fbf7b0eab8fd561311eab282ec07b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/classworkshop__best__evaluation.html#ad38fbf7b0eab8fd561311eab282ec07b">get_settings_form</a> (<a class="el" href="../../dc/d31/classmoodle__url.html">moodle_url</a> $actionurl=null)</td></tr>
<tr class="memdesc:ad38fbf7b0eab8fd561311eab282ec07b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an instance of the form to provide evaluation settings.  <a href="../../d0/d7e/classworkshop__best__evaluation.html#ad38fbf7b0eab8fd561311eab282ec07b">More...</a><br /></td></tr>
<tr class="separator:ad38fbf7b0eab8fd561311eab282ec07b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c0d6a196663c30eebd6e43cfc91d06b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/classworkshop__best__evaluation.html#a6c0d6a196663c30eebd6e43cfc91d06b">update_grading_grades</a> (stdclass $settings, $restrict=null)</td></tr>
<tr class="memdesc:a6c0d6a196663c30eebd6e43cfc91d06b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the grades for assessment and updates 'gradinggrade' fields in 'workshop_assessments' table.  <a href="../../d0/d7e/classworkshop__best__evaluation.html#a6c0d6a196663c30eebd6e43cfc91d06b">More...</a><br /></td></tr>
<tr class="separator:a6c0d6a196663c30eebd6e43cfc91d06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7895bcf011ffb963d35a6fec37a6e0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d4b/classworkshop__evaluation.html#aa7895bcf011ffb963d35a6fec37a6e0d">update_grading_grades</a> (stdClass $settings, $restrict=null)</td></tr>
<tr class="memdesc:aa7895bcf011ffb963d35a6fec37a6e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates grades for assessment and updates 'gradinggrade' fields in 'workshop_assessments' table.  <a href="../../dd/d4b/classworkshop__evaluation.html#aa7895bcf011ffb963d35a6fec37a6e0d">More...</a><br /></td></tr>
<tr class="separator:aa7895bcf011ffb963d35a6fec37a6e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a50112b2d51bcef61883e8b6a9f5fffdb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/classworkshop__best__evaluation.html#a50112b2d51bcef61883e8b6a9f5fffdb">delete_instance</a> ($workshopid)</td></tr>
<tr class="memdesc:a50112b2d51bcef61883e8b6a9f5fffdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all data related to a given workshop module instance.  <a href="../../d0/d7e/classworkshop__best__evaluation.html#a50112b2d51bcef61883e8b6a9f5fffdb">More...</a><br /></td></tr>
<tr class="separator:a50112b2d51bcef61883e8b6a9f5fffdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4366fa4fdc158612b33ebfb370b4fae2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/classworkshop__best__evaluation.html#a4366fa4fdc158612b33ebfb370b4fae2">assessments_distance</a> (stdclass $assessment, stdclass $referential, array $diminfo, stdclass $settings)</td></tr>
<tr class="memdesc:a4366fa4fdc158612b33ebfb370b4fae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measures the distance of the assessment from a referential one.  <a href="../../d0/d7e/classworkshop__best__evaluation.html#a4366fa4fdc158612b33ebfb370b4fae2">More...</a><br /></td></tr>
<tr class="separator:a4366fa4fdc158612b33ebfb370b4fae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37293931e1f92ef70f9d7555cac26be9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/classworkshop__best__evaluation.html#a37293931e1f92ef70f9d7555cac26be9">average_assessment</a> (array $assessments)</td></tr>
<tr class="memdesc:a37293931e1f92ef70f9d7555cac26be9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a set of a submission's assessments, returns a hypothetical average assessment.  <a href="../../d0/d7e/classworkshop__best__evaluation.html#a37293931e1f92ef70f9d7555cac26be9">More...</a><br /></td></tr>
<tr class="separator:a37293931e1f92ef70f9d7555cac26be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b2690df77361d241eebe40e6f44a69d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/classworkshop__best__evaluation.html#a9b2690df77361d241eebe40e6f44a69d">normalize_grades</a> (array $assessments, array $diminfo)</td></tr>
<tr class="memdesc:a9b2690df77361d241eebe40e6f44a69d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalizes the dimension grades to the interval 0.00000 - 100.00000.  <a href="../../d0/d7e/classworkshop__best__evaluation.html#a9b2690df77361d241eebe40e6f44a69d">More...</a><br /></td></tr>
<tr class="separator:a9b2690df77361d241eebe40e6f44a69d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e6c24e100fa6420fa0e660138f3126"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/classworkshop__best__evaluation.html#ad0e6c24e100fa6420fa0e660138f3126">prepare_data_from_recordset</a> ($assessments)</td></tr>
<tr class="memdesc:ad0e6c24e100fa6420fa0e660138f3126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a structure of assessments and given grades.  <a href="../../d0/d7e/classworkshop__best__evaluation.html#ad0e6c24e100fa6420fa0e660138f3126">More...</a><br /></td></tr>
<tr class="separator:ad0e6c24e100fa6420fa0e660138f3126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00d445ab6a6a456ba407c3d6704f9be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/classworkshop__best__evaluation.html#ad00d445ab6a6a456ba407c3d6704f9be">process_assessments</a> (array $assessments, array $diminfo, stdclass $settings)</td></tr>
<tr class="memdesc:ad00d445ab6a6a456ba407c3d6704f9be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a list of all assessments of a single submission, updates the grading grades in database.  <a href="../../d0/d7e/classworkshop__best__evaluation.html#ad00d445ab6a6a456ba407c3d6704f9be">More...</a><br /></td></tr>
<tr class="separator:ad00d445ab6a6a456ba407c3d6704f9be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e166da3b07e7d55f610e79937d89fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7e/classworkshop__best__evaluation.html#a36e166da3b07e7d55f610e79937d89fe">weighted_variance</a> (array $assessments)</td></tr>
<tr class="memdesc:a36e166da3b07e7d55f610e79937d89fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a set of a submission's assessments, returns standard deviations of all their dimensions.  <a href="../../d0/d7e/classworkshop__best__evaluation.html#a36e166da3b07e7d55f610e79937d89fe">More...</a><br /></td></tr>
<tr class="separator:a36e166da3b07e7d55f610e79937d89fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7993dc883889998721a3d05b4ebc8357"><td class="memItemLeft" align="right" valign="top"><a id="a7993dc883889998721a3d05b4ebc8357" name="a7993dc883889998721a3d05b4ebc8357"></a>
the&#160;</td><td class="memItemRight" valign="bottom"><b>$settings</b></td></tr>
<tr class="memdesc:a7993dc883889998721a3d05b4ebc8357"><td class="mdescLeft">&#160;</td><td class="mdescRight">recently used settings in this workshop <br /></td></tr>
<tr class="separator:a7993dc883889998721a3d05b4ebc8357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c024adab6242b51b031f28da9e3506"><td class="memItemLeft" align="right" valign="top"><a id="a00c024adab6242b51b031f28da9e3506" name="a00c024adab6242b51b031f28da9e3506"></a>
<a class="el" href="../../d6/d7d/classworkshop.html">workshop</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$workshop</b></td></tr>
<tr class="memdesc:a00c024adab6242b51b031f28da9e3506"><td class="mdescLeft">&#160;</td><td class="mdescRight">the parent workshop instance <br /></td></tr>
<tr class="separator:a00c024adab6242b51b031f28da9e3506"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Defines the computation login of the grading evaluation subplugin. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af9dad674e2203972c0e2f43579488e32" name="af9dad674e2203972c0e2f43579488e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9dad674e2203972c0e2f43579488e32">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">workshop_best_evaluation::__construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d7d/classworkshop.html">workshop</a>&#160;</td>
          <td class="paramname"><em>$workshop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">workshop</td><td class="paramname">$workshop</td><td>The workshop api instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4366fa4fdc158612b33ebfb370b4fae2" name="a4366fa4fdc158612b33ebfb370b4fae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4366fa4fdc158612b33ebfb370b4fae2">&#9670;&#160;</a></span>assessments_distance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">workshop_best_evaluation::assessments_distance </td>
          <td>(</td>
          <td class="paramtype">stdclass&#160;</td>
          <td class="paramname"><em>$assessment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stdclass&#160;</td>
          <td class="paramname"><em>$referential</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$diminfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stdclass&#160;</td>
          <td class="paramname"><em>$settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Measures the distance of the assessment from a referential one. </p>
<p >The passed data structures must contain -&gt;dimgrades property. The referential assessment is supposed to be close to the average assessment. All dimension grades are supposed to be normalized to the interval 0 - 100. Returned value is rounded to 4 valid decimals to prevent some rounding issues - see the unit test for an example.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$assessment</td><td>the assessment being measured </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$referential</td><td>assessment </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$diminfo</td><td>of stdclass(-&gt;weight -&gt;min -&gt;max -&gt;variance) indexed by dimension id </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$settings</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">float|null</td><td>rounded to 4 valid decimals </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a37293931e1f92ef70f9d7555cac26be9" name="a37293931e1f92ef70f9d7555cac26be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37293931e1f92ef70f9d7555cac26be9">&#9670;&#160;</a></span>average_assessment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">workshop_best_evaluation::average_assessment </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$assessments</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a set of a submission's assessments, returns a hypothetical average assessment. </p>
<p >The passed structure must be array of assessments objects with -&gt;weight and -&gt;dimgrades properties. Returns null if all passed assessments have zero weight as there is nothing to choose from then.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$assessments</td><td>as prepared by <a class="el" href="../../">self::prepare_data_from_recordset()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null|stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a50112b2d51bcef61883e8b6a9f5fffdb" name="a50112b2d51bcef61883e8b6a9f5fffdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50112b2d51bcef61883e8b6a9f5fffdb">&#9670;&#160;</a></span>delete_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static workshop_best_evaluation::delete_instance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$workshopid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete all data related to a given workshop module instance. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/dbe/group__mod__workshop.html#ga71da4957a15d2a7e4e6d8622c6d17e11" title="Given an ID of an instance of this module, this function will permanently delete the instance and any...">workshop_delete_instance()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$workshopid</td><td>id of the workshop module instance being deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../dd/d4b/classworkshop__evaluation.html#afc12bc63c412eb86714adf3e6f12be97">workshop_evaluation</a>.</p>

</div>
</div>
<a id="ad38fbf7b0eab8fd561311eab282ec07b" name="ad38fbf7b0eab8fd561311eab282ec07b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad38fbf7b0eab8fd561311eab282ec07b">&#9670;&#160;</a></span>get_settings_form()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">workshop_best_evaluation::get_settings_form </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d31/classmoodle__url.html">moodle_url</a>&#160;</td>
          <td class="paramname"><em>$actionurl</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an instance of the form to provide evaluation settings. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d5/d43/classworkshop__best__evaluation__settings__form.html" title="Represents the settings form for this plugin.">workshop_best_evaluation_settings_form</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../dd/d4b/classworkshop__evaluation.html#ae6d21f0af37a14619d173875ad989fbf">workshop_evaluation</a>.</p>

</div>
</div>
<a id="a9b2690df77361d241eebe40e6f44a69d" name="a9b2690df77361d241eebe40e6f44a69d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b2690df77361d241eebe40e6f44a69d">&#9670;&#160;</a></span>normalize_grades()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">workshop_best_evaluation::normalize_grades </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$assessments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$diminfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Normalizes the dimension grades to the interval 0.00000 - 100.00000. </p>
<p >Note: this heavily relies on PHP5 way of handling references in array of stdclasses. Hopefully it will not change again soon.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$assessments</td><td>of stdclass as returned by {</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>self::prepare_data_from_recordset()} </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$diminfo</td><td>of stdclass </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of stdclass with the same structure as $assessments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad0e6c24e100fa6420fa0e660138f3126" name="ad0e6c24e100fa6420fa0e660138f3126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0e6c24e100fa6420fa0e660138f3126">&#9670;&#160;</a></span>prepare_data_from_recordset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">workshop_best_evaluation::prepare_data_from_recordset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$assessments</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepares a structure of assessments and given grades. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$assessments</td><td>batch of recordset items as returned by the grading strategy </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad00d445ab6a6a456ba407c3d6704f9be" name="ad00d445ab6a6a456ba407c3d6704f9be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad00d445ab6a6a456ba407c3d6704f9be">&#9670;&#160;</a></span>process_assessments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">workshop_best_evaluation::process_assessments </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$assessments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$diminfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stdclass&#160;</td>
          <td class="paramname"><em>$settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a list of all assessments of a single submission, updates the grading grades in database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$assessments</td><td>of stdclass (-&gt;assessmentid -&gt;assessmentweight -&gt;reviewerid -&gt;gradinggrade -&gt;submissionid -&gt;dimensionid -&gt;grade) </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$diminfo</td><td>of stdclass (-&gt;id -&gt;weight -&gt;max -&gt;min) </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">stdClass</td><td>grading evaluation settings </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c0d6a196663c30eebd6e43cfc91d06b" name="a6c0d6a196663c30eebd6e43cfc91d06b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c0d6a196663c30eebd6e43cfc91d06b">&#9670;&#160;</a></span>update_grading_grades() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">workshop_best_evaluation::update_grading_grades </td>
          <td>(</td>
          <td class="paramtype">stdclass&#160;</td>
          <td class="paramname"><em>$settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$restrict</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the grades for assessment and updates 'gradinggrade' fields in 'workshop_assessments' table. </p>
<p >This function relies on the grading strategy subplugin providing get_assessments_recordset() method. {</p><dl class="section see"><dt>See also</dt><dd>self::process_assessments()} for the required structure of the recordset.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$settings</td><td>The settings for this round of evaluation </td></tr>
    <tr><td class="paramtype">null&#160;|&#160;int&#160;|&#160;array</td><td class="paramname">$restrict</td><td>If null, update all reviewers, otherwise update just grades for the given reviewers(s)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa7895bcf011ffb963d35a6fec37a6e0d" name="aa7895bcf011ffb963d35a6fec37a6e0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7895bcf011ffb963d35a6fec37a6e0d">&#9670;&#160;</a></span>update_grading_grades() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">workshop_evaluation::update_grading_grades </td>
          <td>(</td>
          <td class="paramtype">stdClass&#160;</td>
          <td class="paramname"><em>$settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$restrict</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates grades for assessment and updates 'gradinggrade' fields in 'workshop_assessments' table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$settings</td><td>settings for this round of evaluation </td></tr>
    <tr><td class="paramtype">null&#160;|&#160;int&#160;|&#160;array</td><td class="paramname">$restrict</td><td>if null, update all reviewers, otherwise update just grades for the given reviewers(s) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a36e166da3b07e7d55f610e79937d89fe" name="a36e166da3b07e7d55f610e79937d89fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36e166da3b07e7d55f610e79937d89fe">&#9670;&#160;</a></span>weighted_variance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">workshop_best_evaluation::weighted_variance </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$assessments</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a set of a submission's assessments, returns standard deviations of all their dimensions. </p>
<p >The passed structure must be array of assessments objects with at least -&gt;weight and -&gt;dimgrades properties. This implementation uses weighted incremental algorithm as suggested in "D. H. D. West (1979). Communications of the ACM, 22, 9, 532-535:
Updating Mean and Variance Estimates: An Improved Method" <a href="http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance#Weighted_incremental_algorithm" class="el externalurl"></a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$assessments</td><td>as prepared by <a class="el" href="../../">self::prepare_data_from_recordset()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null|array</td><td>indexed by dimension id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mod/workshop/eval/best/lib.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 2 2022 04:15:53 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
