<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: groups_user_selector_base Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;3.11</span>
   </div>
   <div id="projectbrief">Moodle 3.11.10 (Build: 20220912) (54b614ca7e)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../db/d04/classgroups__user__selector__base-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">groups_user_selector_base Class Reference<div class="ingroups"><a class="el" href="../../d6/d91/group__core__user.html">core_user</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Base class to avoid duplicating code.  
 <a href="../../d7/d6d/classgroups__user__selector__base.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for groups_user_selector_base:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d7/d6d/classgroups__user__selector__base.png" usemap="#groups_5Fuser_5Fselector_5Fbase_map" alt=""/>
  <map id="groups_5Fuser_5Fselector_5Fbase_map" name="groups_5Fuser_5Fselector_5Fbase_map">
<area href="../../d2/d8a/classuser__selector__base.html" title="Base class for user selectors." alt="user_selector_base" shape="rect" coords="96,0,278,24"/>
<area href="../../d8/da6/classgroup__members__selector.html" title="User selector subclass for the list of users who are in a certain group." alt="group_members_selector" shape="rect" coords="0,112,182,136"/>
<area href="../../df/de5/classgroup__non__members__selector.html" title="User selector subclass for the list of users who are not in a certain group." alt="group_non_members_selector" shape="rect" coords="192,112,374,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4a47dfdd1174e8732ec72462433a298c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d6d/classgroups__user__selector__base.html#a4a47dfdd1174e8732ec72462433a298c">__construct</a> ($name, $options)</td></tr>
<tr class="memdesc:a4a47dfdd1174e8732ec72462433a298c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="../../d7/d6d/classgroups__user__selector__base.html#a4a47dfdd1174e8732ec72462433a298c">More...</a><br /></td></tr>
<tr class="separator:a4a47dfdd1174e8732ec72462433a298c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2478c8c7c4e0a8d6ed615cb1c74fb4e9"><td class="memItemLeft" align="right" valign="top"><a id="a2478c8c7c4e0a8d6ed615cb1c74fb4e9" name="a2478c8c7c4e0a8d6ed615cb1c74fb4e9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>clear_exclusions</b> ()</td></tr>
<tr class="memdesc:a2478c8c7c4e0a8d6ed615cb1c74fb4e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the list of excluded user ids. <br /></td></tr>
<tr class="separator:a2478c8c7c4e0a8d6ed615cb1c74fb4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220af7265f5abff9f3d5e83f98fa9c7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a220af7265f5abff9f3d5e83f98fa9c7b">display</a> ($return=false)</td></tr>
<tr class="memdesc:a220af7265f5abff9f3d5e83f98fa9c7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output this user_selector as HTML.  <a href="../../d2/d8a/classuser__selector__base.html#a220af7265f5abff9f3d5e83f98fa9c7b">More...</a><br /></td></tr>
<tr class="separator:a220af7265f5abff9f3d5e83f98fa9c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f74677f6ba90f14074f8e993041cc9e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a6f74677f6ba90f14074f8e993041cc9e">exclude</a> ($arrayofuserids)</td></tr>
<tr class="memdesc:a6f74677f6ba90f14074f8e993041cc9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">All to the list of user ids that this control will not select.  <a href="../../d2/d8a/classuser__selector__base.html#a6f74677f6ba90f14074f8e993041cc9e">More...</a><br /></td></tr>
<tr class="separator:a6f74677f6ba90f14074f8e993041cc9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebae1bdd662613f07c23393ce7d62d49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#aebae1bdd662613f07c23393ce7d62d49">find_users</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>)</td></tr>
<tr class="memdesc:aebae1bdd662613f07c23393ce7d62d49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search the database for users matching the $search string, and any other conditions that apply.  <a href="../../d2/d8a/classuser__selector__base.html#aebae1bdd662613f07c23393ce7d62d49">More...</a><br /></td></tr>
<tr class="separator:aebae1bdd662613f07c23393ce7d62d49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ac7949a7c5edd7f1f5a144f6b9cc25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a21ac7949a7c5edd7f1f5a144f6b9cc25">get_exclusions</a> ()</td></tr>
<tr class="memdesc:a21ac7949a7c5edd7f1f5a144f6b9cc25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of user ids that this control will not select.  <a href="../../d2/d8a/classuser__selector__base.html#a21ac7949a7c5edd7f1f5a144f6b9cc25">More...</a><br /></td></tr>
<tr class="separator:a21ac7949a7c5edd7f1f5a144f6b9cc25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab64e080f239f33c9be44256794199637"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#ab64e080f239f33c9be44256794199637">get_name</a> ()</td></tr>
<tr class="memdesc:ab64e080f239f33c9be44256794199637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id/name of this control.  <a href="../../d2/d8a/classuser__selector__base.html#ab64e080f239f33c9be44256794199637">More...</a><br /></td></tr>
<tr class="separator:ab64e080f239f33c9be44256794199637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7813ef860b6e546618d476c1ca03c49a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a7813ef860b6e546618d476c1ca03c49a">get_rows</a> ()</td></tr>
<tr class="memdesc:a7813ef860b6e546618d476c1ca03c49a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of rows to display in this control.  <a href="../../d2/d8a/classuser__selector__base.html#a7813ef860b6e546618d476c1ca03c49a">More...</a><br /></td></tr>
<tr class="separator:a7813ef860b6e546618d476c1ca03c49a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2cc583026e8edc891b8fe902bd22ff8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#aa2cc583026e8edc891b8fe902bd22ff8">get_selected_user</a> ()</td></tr>
<tr class="memdesc:aa2cc583026e8edc891b8fe902bd22ff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience method for when multiselect is false (throws an exception if not).  <a href="../../d2/d8a/classuser__selector__base.html#aa2cc583026e8edc891b8fe902bd22ff8">More...</a><br /></td></tr>
<tr class="separator:aa2cc583026e8edc891b8fe902bd22ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987b77a7511505a53cff8dece4674bc7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a987b77a7511505a53cff8dece4674bc7">get_selected_users</a> ()</td></tr>
<tr class="memdesc:a987b77a7511505a53cff8dece4674bc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The users that were selected.  <a href="../../d2/d8a/classuser__selector__base.html#a987b77a7511505a53cff8dece4674bc7">More...</a><br /></td></tr>
<tr class="separator:a987b77a7511505a53cff8dece4674bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0cc9787d96640c5ccac82784db9cc39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#aa0cc9787d96640c5ccac82784db9cc39">invalidate_selected_users</a> ()</td></tr>
<tr class="memdesc:aa0cc9787d96640c5ccac82784db9cc39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalidates the list of selected users.  <a href="../../d2/d8a/classuser__selector__base.html#aa0cc9787d96640c5ccac82784db9cc39">More...</a><br /></td></tr>
<tr class="separator:aa0cc9787d96640c5ccac82784db9cc39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33dc6a53c65d349becad4821efbf429d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a33dc6a53c65d349becad4821efbf429d">is_multiselect</a> ()</td></tr>
<tr class="memdesc:a33dc6a53c65d349becad4821efbf429d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true is multiselect should be allowed.  <a href="../../d2/d8a/classuser__selector__base.html#a33dc6a53c65d349becad4821efbf429d">More...</a><br /></td></tr>
<tr class="separator:a33dc6a53c65d349becad4821efbf429d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d158154b3fd0417168c9ec4dd8bd0e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a17d158154b3fd0417168c9ec4dd8bd0e">output_user</a> ($user)</td></tr>
<tr class="memdesc:a17d158154b3fd0417168c9ec4dd8bd0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a user object to a string suitable for displaying as an option in the list box.  <a href="../../d2/d8a/classuser__selector__base.html#a17d158154b3fd0417168c9ec4dd8bd0e">More...</a><br /></td></tr>
<tr class="separator:a17d158154b3fd0417168c9ec4dd8bd0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd19d43f51347a85252c9c850e92267"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a6cd19d43f51347a85252c9c850e92267">set_extra_fields</a> ($fields)</td></tr>
<tr class="memdesc:a6cd19d43f51347a85252c9c850e92267"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the user fields that are displayed in the selector in addition to the user's name.  <a href="../../d2/d8a/classuser__selector__base.html#a6cd19d43f51347a85252c9c850e92267">More...</a><br /></td></tr>
<tr class="separator:a6cd19d43f51347a85252c9c850e92267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee41497bd3152c03efbdf124bedea58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a6ee41497bd3152c03efbdf124bedea58">set_multiselect</a> ($multiselect)</td></tr>
<tr class="memdesc:a6ee41497bd3152c03efbdf124bedea58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this control will allow selection of many, or just one user.  <a href="../../d2/d8a/classuser__selector__base.html#a6ee41497bd3152c03efbdf124bedea58">More...</a><br /></td></tr>
<tr class="separator:a6ee41497bd3152c03efbdf124bedea58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addce354349df265f544f3e22b6cae871"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#addce354349df265f544f3e22b6cae871">set_rows</a> ($numrows)</td></tr>
<tr class="memdesc:addce354349df265f544f3e22b6cae871"><td class="mdescLeft">&#160;</td><td class="mdescRight">The height this control will be displayed, in rows.  <a href="../../d2/d8a/classuser__selector__base.html#addce354349df265f544f3e22b6cae871">More...</a><br /></td></tr>
<tr class="separator:addce354349df265f544f3e22b6cae871"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae61570bca2610d32a3fd32378914e0a3"><td class="memItemLeft" align="right" valign="top"><a id="ae61570bca2610d32a3fd32378914e0a3" name="ae61570bca2610d32a3fd32378914e0a3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$maxusersperpage</b> = 100</td></tr>
<tr class="memdesc:ae61570bca2610d32a3fd32378914e0a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">this is used to define maximum number of users visible in list <br /></td></tr>
<tr class="separator:ae61570bca2610d32a3fd32378914e0a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5030c6528d893d4870a2153da4c0b714"><td class="memItemLeft" align="right" valign="top"><a id="a5030c6528d893d4870a2153da4c0b714" name="a5030c6528d893d4870a2153da4c0b714"></a>
boolean&#160;</td><td class="memItemRight" valign="bottom"><b>$viewfullnames</b> = false</td></tr>
<tr class="memdesc:a5030c6528d893d4870a2153da4c0b714"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to override <a class="el" href="../../d0/de1/group__core.html#ga22ae943f55a27f3b9cca15f8ddd05db7" title="Returns a persons full name.">fullname()</a> <br /></td></tr>
<tr class="separator:a5030c6528d893d4870a2153da4c0b714"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ab7a7c3bbe3666fde6fab7bd27c4a87aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d6d/classgroups__user__selector__base.html#ab7a7c3bbe3666fde6fab7bd27c4a87aa">convert_array_format</a> ($roles, $<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>)</td></tr>
<tr class="memdesc:ab7a7c3bbe3666fde6fab7bd27c4a87aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an organised array from given data.  <a href="../../d7/d6d/classgroups__user__selector__base.html#ab7a7c3bbe3666fde6fab7bd27c4a87aa">More...</a><br /></td></tr>
<tr class="separator:ab7a7c3bbe3666fde6fab7bd27c4a87aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045af8f5a526a9db41d2b6a1345a06d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d6d/classgroups__user__selector__base.html#a045af8f5a526a9db41d2b6a1345a06d5">get_options</a> ()</td></tr>
<tr class="memdesc:a045af8f5a526a9db41d2b6a1345a06d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns options for this selector.  <a href="../../d7/d6d/classgroups__user__selector__base.html#a045af8f5a526a9db41d2b6a1345a06d5">More...</a><br /></td></tr>
<tr class="separator:a045af8f5a526a9db41d2b6a1345a06d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab941b31f81053f04609f685e0486a23f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#ab941b31f81053f04609f685e0486a23f">initialise_javascript</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>)</td></tr>
<tr class="memdesc:ab941b31f81053f04609f685e0486a23f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises JS for this control.  <a href="../../d2/d8a/classuser__selector__base.html#ab941b31f81053f04609f685e0486a23f">More...</a><br /></td></tr>
<tr class="separator:ab941b31f81053f04609f685e0486a23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1f565209c1cdd2d3c2bd19cc6774881"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#aa1f565209c1cdd2d3c2bd19cc6774881">is_validating</a> ()</td></tr>
<tr class="memdesc:aa1f565209c1cdd2d3c2bd19cc6774881"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this control is validating a list of users.  <a href="../../d2/d8a/classuser__selector__base.html#aa1f565209c1cdd2d3c2bd19cc6774881">More...</a><br /></td></tr>
<tr class="separator:aa1f565209c1cdd2d3c2bd19cc6774881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de08d1d40ced6ad946126a127b5163d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a3de08d1d40ced6ad946126a127b5163d">load_selected_users</a> ()</td></tr>
<tr class="memdesc:a3de08d1d40ced6ad946126a127b5163d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of users that were selected by doing optional_param then validating the result.  <a href="../../d2/d8a/classuser__selector__base.html#a3de08d1d40ced6ad946126a127b5163d">More...</a><br /></td></tr>
<tr class="separator:a3de08d1d40ced6ad946126a127b5163d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95cc07d9531634fbc6135a5cdb82d931"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a95cc07d9531634fbc6135a5cdb82d931">output_optgroup</a> ($groupname, $users, $select)</td></tr>
<tr class="memdesc:a95cc07d9531634fbc6135a5cdb82d931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output one particular optgroup.  <a href="../../d2/d8a/classuser__selector__base.html#a95cc07d9531634fbc6135a5cdb82d931">More...</a><br /></td></tr>
<tr class="separator:a95cc07d9531634fbc6135a5cdb82d931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8e3805f6e769d60ce563cca283ff46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a5e8e3805f6e769d60ce563cca283ff46">output_options</a> ($groupedusers, $<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>)</td></tr>
<tr class="memdesc:a5e8e3805f6e769d60ce563cca283ff46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output the list of &lt;optgroup&gt;s and &lt;options&gt;s that go inside the select.  <a href="../../d2/d8a/classuser__selector__base.html#a5e8e3805f6e769d60ce563cca283ff46">More...</a><br /></td></tr>
<tr class="separator:a5e8e3805f6e769d60ce563cca283ff46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e2ecfb8f8165d5985d078c126eb79b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#ac6e2ecfb8f8165d5985d078c126eb79b">required_fields_sql</a> (string $u)</td></tr>
<tr class="memdesc:ac6e2ecfb8f8165d5985d078c126eb79b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns SQL to select required fields.  <a href="../../d2/d8a/classuser__selector__base.html#ac6e2ecfb8f8165d5985d078c126eb79b">More...</a><br /></td></tr>
<tr class="separator:ac6e2ecfb8f8165d5985d078c126eb79b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192933ff31abd55b205866b43c558020"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a192933ff31abd55b205866b43c558020">search_button_caption</a> ()</td></tr>
<tr class="memdesc:a192933ff31abd55b205866b43c558020"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the string to use for the search button caption.  <a href="../../d2/d8a/classuser__selector__base.html#a192933ff31abd55b205866b43c558020">More...</a><br /></td></tr>
<tr class="separator:a192933ff31abd55b205866b43c558020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dd9960c495954cf21854c0e8e318e66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a0dd9960c495954cf21854c0e8e318e66">search_sql</a> (string $<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>, string $u)</td></tr>
<tr class="memdesc:a0dd9960c495954cf21854c0e8e318e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array with SQL to perform a search and the params that go into it.  <a href="../../d2/d8a/classuser__selector__base.html#a0dd9960c495954cf21854c0e8e318e66">More...</a><br /></td></tr>
<tr class="separator:a0dd9960c495954cf21854c0e8e318e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af05bc9287d527ef45ef534d82b4c44ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#af05bc9287d527ef45ef534d82b4c44ac">too_many_results</a> ($<a class="el" href="../../dc/d71/group___imap___client.html#ga51cc7ed42bce580dcc33ed45d9cef0c9">search</a>, $count)</td></tr>
<tr class="memdesc:af05bc9287d527ef45ef534d82b4c44ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to generate a nice message when there are too many users to show.  <a href="../../d2/d8a/classuser__selector__base.html#af05bc9287d527ef45ef534d82b4c44ac">More...</a><br /></td></tr>
<tr class="separator:af05bc9287d527ef45ef534d82b4c44ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af4669349170b28840baa8157827753ec"><td class="memItemLeft" align="right" valign="top"><a id="af4669349170b28840baa8157827753ec" name="af4669349170b28840baa8157827753ec"></a>
object&#160;</td><td class="memItemRight" valign="bottom"><b>$accesscontext</b></td></tr>
<tr class="memdesc:af4669349170b28840baa8157827753ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Context used for capability checks regarding this selector (does not necessarily restrict user list) <br /></td></tr>
<tr class="separator:af4669349170b28840baa8157827753ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c4d67cdb8b3490a3f9014564a17e6e"><td class="memItemLeft" align="right" valign="top"><a id="a96c4d67cdb8b3490a3f9014564a17e6e" name="a96c4d67cdb8b3490a3f9014564a17e6e"></a>
boolean&#160;</td><td class="memItemRight" valign="bottom"><b>$autoselectunique</b> = false</td></tr>
<tr class="memdesc:a96c4d67cdb8b3490a3f9014564a17e6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">If only one user matches the search, should we select them automatically. <br /></td></tr>
<tr class="separator:a96c4d67cdb8b3490a3f9014564a17e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab3c9c4e2681fec37d39b7c1a605941"><td class="memItemLeft" align="right" valign="top"><a id="a7ab3c9c4e2681fec37d39b7c1a605941" name="a7ab3c9c4e2681fec37d39b7c1a605941"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$courseid</b></td></tr>
<tr class="separator:a7ab3c9c4e2681fec37d39b7c1a605941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786845e0cc8a0455dc31823f146d48d4"><td class="memItemLeft" align="right" valign="top"><a id="a786845e0cc8a0455dc31823f146d48d4" name="a786845e0cc8a0455dc31823f146d48d4"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$exclude</b> = array()</td></tr>
<tr class="memdesc:a786845e0cc8a0455dc31823f146d48d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of userids that should not be returned by this control. <br /></td></tr>
<tr class="separator:a786845e0cc8a0455dc31823f146d48d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a931914b1c08338531d7d7d132f58a04d"><td class="memItemLeft" align="right" valign="top"><a id="a931914b1c08338531d7d7d132f58a04d" name="a931914b1c08338531d7d7d132f58a04d"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$extrafields</b></td></tr>
<tr class="memdesc:a931914b1c08338531d7d7d132f58a04d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra fields to search on and return in addition to firstname and lastname. <br /></td></tr>
<tr class="separator:a931914b1c08338531d7d7d132f58a04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aa99e295f7e206fa4563e3ed2c3dea7"><td class="memItemLeft" align="right" valign="top"><a id="a7aa99e295f7e206fa4563e3ed2c3dea7" name="a7aa99e295f7e206fa4563e3ed2c3dea7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$groupid</b></td></tr>
<tr class="separator:a7aa99e295f7e206fa4563e3ed2c3dea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0dd2229eb5200648f0565d8b75447d5"><td class="memItemLeft" align="right" valign="top"><a id="ac0dd2229eb5200648f0565d8b75447d5" name="ac0dd2229eb5200648f0565d8b75447d5"></a>
boolean&#160;</td><td class="memItemRight" valign="bottom"><b>$includecustomfields</b> = false</td></tr>
<tr class="memdesc:ac0dd2229eb5200648f0565d8b75447d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to include custom user profile fields. <br /></td></tr>
<tr class="separator:ac0dd2229eb5200648f0565d8b75447d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ee9d502e82785815fd980480865863"><td class="memItemLeft" align="right" valign="top"><a id="a74ee9d502e82785815fd980480865863" name="a74ee9d502e82785815fd980480865863"></a>
boolean&#160;</td><td class="memItemRight" valign="bottom"><b>$multiselect</b> = true</td></tr>
<tr class="memdesc:a74ee9d502e82785815fd980480865863"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the conrol should allow selection of many users, or just one. <br /></td></tr>
<tr class="separator:a74ee9d502e82785815fd980480865863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ee631ebe66956da06fd2d78d4db0c6"><td class="memItemLeft" align="right" valign="top"><a id="aa0ee631ebe66956da06fd2d78d4db0c6" name="aa0ee631ebe66956da06fd2d78d4db0c6"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$name</b></td></tr>
<tr class="memdesc:aa0ee631ebe66956da06fd2d78d4db0c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The control name (and id) in the HTML. <br /></td></tr>
<tr class="separator:aa0ee631ebe66956da06fd2d78d4db0c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d13c9edf4dbb9c1ce38c758a9a7b86"><td class="memItemLeft" align="right" valign="top"><a id="a23d13c9edf4dbb9c1ce38c758a9a7b86" name="a23d13c9edf4dbb9c1ce38c758a9a7b86"></a>
boolean&#160;</td><td class="memItemRight" valign="bottom"><b>$preserveselected</b> = false</td></tr>
<tr class="memdesc:a23d13c9edf4dbb9c1ce38c758a9a7b86"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the search changes, do we keep previously selected options that do not match the new search term? <br /></td></tr>
<tr class="separator:a23d13c9edf4dbb9c1ce38c758a9a7b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69653d636acc2f21d40418448b7cc4c0"><td class="memItemLeft" align="right" valign="top"><a id="a69653d636acc2f21d40418448b7cc4c0" name="a69653d636acc2f21d40418448b7cc4c0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$rows</b> = <a class="el" href="../../d6/d91/group__core__user.html#ga7ee3b9557ac5d67b9598d2033788ef44">USER_SELECTOR_DEFAULT_ROWS</a></td></tr>
<tr class="memdesc:a69653d636acc2f21d40418448b7cc4c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The height this control should have, in rows. <br /></td></tr>
<tr class="separator:a69653d636acc2f21d40418448b7cc4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaab8b1526fcd0fa598279b5bdc88330"><td class="memItemLeft" align="right" valign="top"><a id="afaab8b1526fcd0fa598279b5bdc88330" name="afaab8b1526fcd0fa598279b5bdc88330"></a>
boolean&#160;</td><td class="memItemRight" valign="bottom"><b>$searchanywhere</b> = false</td></tr>
<tr class="memdesc:afaab8b1526fcd0fa598279b5bdc88330"><td class="mdescLeft">&#160;</td><td class="mdescRight">When searching, do we only match the starts of fields (better performance) or do we match occurrences anywhere? <br /></td></tr>
<tr class="separator:afaab8b1526fcd0fa598279b5bdc88330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bbcb80961cd65ecc69eb98a9c3cf805"><td class="memItemLeft" align="right" valign="top"><a id="a7bbcb80961cd65ecc69eb98a9c3cf805" name="a7bbcb80961cd65ecc69eb98a9c3cf805"></a>
array null&#160;</td><td class="memItemRight" valign="bottom"><b>$selected</b> = null</td></tr>
<tr class="memdesc:a7bbcb80961cd65ecc69eb98a9c3cf805"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of the users who are selected. <br /></td></tr>
<tr class="separator:a7bbcb80961cd65ecc69eb98a9c3cf805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2a6759870b5ce35ea3bbe3cd1ef425"><td class="memItemLeft" align="right" valign="top"><a id="a7f2a6759870b5ce35ea3bbe3cd1ef425" name="a7f2a6759870b5ce35ea3bbe3cd1ef425"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$userfieldsjoin</b> = ''</td></tr>
<tr class="memdesc:a7f2a6759870b5ce35ea3bbe3cd1ef425"><td class="mdescLeft">&#160;</td><td class="mdescRight">User fields join for custom fields. <br /></td></tr>
<tr class="separator:a7f2a6759870b5ce35ea3bbe3cd1ef425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6365aa915bf04bb5a07d822fee48e69b"><td class="memItemLeft" align="right" valign="top"><a id="a6365aa915bf04bb5a07d822fee48e69b" name="a6365aa915bf04bb5a07d822fee48e69b"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$userfieldsmappings</b> = []</td></tr>
<tr class="memdesc:a6365aa915bf04bb5a07d822fee48e69b"><td class="mdescLeft">&#160;</td><td class="mdescRight">User fields mappings for custom fields. <br /></td></tr>
<tr class="separator:a6365aa915bf04bb5a07d822fee48e69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc0789142ced07b62c51ebd614646120"><td class="memItemLeft" align="right" valign="top"><a id="abc0789142ced07b62c51ebd614646120" name="abc0789142ced07b62c51ebd614646120"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$userfieldsparams</b> = []</td></tr>
<tr class="memdesc:abc0789142ced07b62c51ebd614646120"><td class="mdescLeft">&#160;</td><td class="mdescRight">User fields params for custom fields. <br /></td></tr>
<tr class="separator:abc0789142ced07b62c51ebd614646120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a308dd61cc197c2a41743e757540e3bb8"><td class="memItemLeft" align="right" valign="top"><a id="a308dd61cc197c2a41743e757540e3bb8" name="a308dd61cc197c2a41743e757540e3bb8"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$userfieldsselects</b> = ''</td></tr>
<tr class="memdesc:a308dd61cc197c2a41743e757540e3bb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">User fields selects for custom fields. <br /></td></tr>
<tr class="separator:a308dd61cc197c2a41743e757540e3bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39603aabd4a04e63f66387f7209a07e8"><td class="memItemLeft" align="right" valign="top"><a id="a39603aabd4a04e63f66387f7209a07e8" name="a39603aabd4a04e63f66387f7209a07e8"></a>
mixed&#160;</td><td class="memItemRight" valign="bottom"><b>$validatinguserids</b> = null</td></tr>
<tr class="memdesc:a39603aabd4a04e63f66387f7209a07e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used by get selected users. <br /></td></tr>
<tr class="separator:a39603aabd4a04e63f66387f7209a07e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a1eab1a6f73a705441a4b69b52390ec91"><td class="memItemLeft" align="right" valign="top">static array&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/classuser__selector__base.html#a1eab1a6f73a705441a4b69b52390ec91">$jsmodule</a></td></tr>
<tr class="memdesc:a1eab1a6f73a705441a4b69b52390ec91"><td class="mdescLeft">&#160;</td><td class="mdescRight">JavaScript YUI3 Module definition.  <a href="../../d2/d8a/classuser__selector__base.html#a1eab1a6f73a705441a4b69b52390ec91">More...</a><br /></td></tr>
<tr class="separator:a1eab1a6f73a705441a4b69b52390ec91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Base class to avoid duplicating code. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>1999 onwards Martin Dougiamas <a href="http://dougiamas.com">http://dougiamas.com</a> </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4a47dfdd1174e8732ec72462433a298c" name="a4a47dfdd1174e8732ec72462433a298c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a47dfdd1174e8732ec72462433a298c">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">groups_user_selector_base::__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>control name </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>should have two elements with keys groupid and courseid. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d2/d8a/classuser__selector__base.html#a120971ebc71a8f1a0b697e228f3fd21a">user_selector_base</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab7a7c3bbe3666fde6fab7bd27c4a87aa" name="ab7a7c3bbe3666fde6fab7bd27c4a87aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7a7c3bbe3666fde6fab7bd27c4a87aa">&#9670;&#160;</a></span>convert_array_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">groups_user_selector_base::convert_array_format </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$roles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$search</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an organised array from given data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$roles</td><td>array in the format returned by groups_calculate_role_people. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>array in the format find_users is supposed to return. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a220af7265f5abff9f3d5e83f98fa9c7b" name="a220af7265f5abff9f3d5e83f98fa9c7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220af7265f5abff9f3d5e83f98fa9c7b">&#9670;&#160;</a></span>display()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::display </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$return</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output this user_selector as HTML. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$return</td><td>if true, return the HTML as a string instead of outputting it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td>if $return is true, returns the HTML as a string, otherwise returns nothing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f74677f6ba90f14074f8e993041cc9e" name="a6f74677f6ba90f14074f8e993041cc9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f74677f6ba90f14074f8e993041cc9e">&#9670;&#160;</a></span>exclude()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::exclude </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$arrayofuserids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All to the list of user ids that this control will not select. </p>
<p >For example, on the role assign page, we do not list the users who already have the role in question.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$arrayofuserids</td><td>the user ids to exclude. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aebae1bdd662613f07c23393ce7d62d49" name="aebae1bdd662613f07c23393ce7d62d49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebae1bdd662613f07c23393ce7d62d49">&#9670;&#160;</a></span>find_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::find_users </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$search</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Search the database for users matching the $search string, and any other conditions that apply. </p>
<p >The SQL for testing whether a user matches the search string should be obtained by calling the search_sql method.</p>
<p >This method is used both when getting the list of choices to display to the user, and also when validating a list of users that was selected.</p>
<p >When preparing a list of users to choose from ($this-&gt;<a class="el" href="../../d2/d8a/classuser__selector__base.html#aa1f565209c1cdd2d3c2bd19cc6774881" title="Returns true if this control is validating a list of users.">is_validating()</a> return false) you should probably have an maximum number of users you will return, and if more users than this match your search, you should instead return a message generated by the <a class="el" href="../../d2/d8a/classuser__selector__base.html#af05bc9287d527ef45ef534d82b4c44ac" title="Used to generate a nice message when there are too many users to show.">too_many_results()</a> method. However, you should not do this when validating.</p>
<p >If you are writing a new user_selector subclass, I strongly recommend you look at some of the subclasses later in this file and in admin/roles/lib.php. They should help you see exactly what you have to do.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td>the search string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>An array of arrays of users. The array keys of the outer array should be the string names of optgroups. The keys of the inner arrays should be userids, and the values should be user objects containing at least the list of fields returned by the method <a class="el" href="../../d2/d8a/classuser__selector__base.html#ac6e2ecfb8f8165d5985d078c126eb79b" title="Returns SQL to select required fields.">required_fields_sql()</a>. If a user object has a -&gt;disabled property that is true, then that option will be displayed greyed out, and will not be returned by get_selected_users. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d0/dd5/classcore__role__admins__existing__selector.html#a802d6e055c5d93dba6b0fba2edd2a6d0">core_role_admins_existing_selector</a>, <a class="el" href="../../d1/d7e/classcore__role__admins__potential__selector.html#a79ccd301efcfafb56deabba1ad6bda72">core_role_admins_potential_selector</a>, <a class="el" href="../../d5/d36/classcore__role__check__users__selector.html#a43fa3c405e1ba1ed4532ac7557a9d374">core_role_check_users_selector</a>, <a class="el" href="../../dd/dd7/classcore__role__existing__role__holders.html#af6787f324775a50bba9ba7b7f36cef4a">core_role_existing_role_holders</a>, <a class="el" href="../../d0/df0/classcore__role__potential__assignees__below__course.html#a5357ab59f4927bc6ef882c8a9c1bbf25">core_role_potential_assignees_below_course</a>, <a class="el" href="../../db/db5/classcore__role__potential__assignees__course__and__above.html#a3ada7718601de144cea67aabd5074a9b">core_role_potential_assignees_course_and_above</a>, <a class="el" href="../../da/d05/classservice__user__selector.html#a829303711bef6031b477e9c697f43af2">service_user_selector</a>, <a class="el" href="../../d4/d9e/classbadge__potential__users__selector.html#abc09bb7a6a7fa9ce84a4a39a859c273a">badge_potential_users_selector</a>, <a class="el" href="../../de/dab/classbadge__existing__users__selector.html#a3d8f2de3f4835b5dd291beaf04969c58">badge_existing_users_selector</a>, <a class="el" href="../../df/dba/classcohort__candidate__selector.html#ae74d0c863fb9023098f621c00350e31f">cohort_candidate_selector</a>, <a class="el" href="../../d6/d84/classcohort__existing__selector.html#a4b16ab1107227cb8b826446ca3c2e9e1">cohort_existing_selector</a>, <a class="el" href="../../d9/de8/classenrol__manual__potential__participant.html#afa9124db72c04208b4ed2bcd97f02adc">enrol_manual_potential_participant</a>, <a class="el" href="../../dd/d48/classenrol__manual__current__participant.html#a601f3645490ad80a71dd8a59eaf83235">enrol_manual_current_participant</a>, <a class="el" href="../../d6/d04/classmnetservice__enrol__existing__users__selector.html#a042ac7a5b0ad71efa0726a677f008989">mnetservice_enrol_existing_users_selector</a>, <a class="el" href="../../d7/d4c/classmnetservice__enrol__potential__users__selector.html#a6dbeda76987f5e1f6a441cd8b786768b">mnetservice_enrol_potential_users_selector</a>, <a class="el" href="../../d7/de0/classmod__forum__existing__subscriber__selector.html#a30e9de04e9c7c58e97e08a4a87e2d503">mod_forum_existing_subscriber_selector</a>, <a class="el" href="../../dc/d3f/classmod__forum__potential__subscriber__selector.html#acd79e67bd9d206eccf2f7ee3329625ef">mod_forum_potential_subscriber_selector</a>, <a class="el" href="../../d8/da6/classgroup__members__selector.html#aad1d1c76240a74c8eba80c06fec818d1">group_members_selector</a>, and <a class="el" href="../../df/de5/classgroup__non__members__selector.html#afcae4956bcb6201bec3c6f66c44c5856">group_non_members_selector</a>.</p>

</div>
</div>
<a id="a21ac7949a7c5edd7f1f5a144f6b9cc25" name="a21ac7949a7c5edd7f1f5a144f6b9cc25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21ac7949a7c5edd7f1f5a144f6b9cc25">&#9670;&#160;</a></span>get_exclusions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::get_exclusions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the list of user ids that this control will not select. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>the list of user ids that this control will not select. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab64e080f239f33c9be44256794199637" name="ab64e080f239f33c9be44256794199637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab64e080f239f33c9be44256794199637">&#9670;&#160;</a></span>get_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::get_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the id/name of this control. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the id/name that this control will have in the HTML. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a045af8f5a526a9db41d2b6a1345a06d5" name="a045af8f5a526a9db41d2b6a1345a06d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a045af8f5a526a9db41d2b6a1345a06d5">&#9670;&#160;</a></span>get_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">groups_user_selector_base::get_options </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns options for this selector. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d2/d8a/classuser__selector__base.html#a44428077f01fec38a696923da8717297">user_selector_base</a>.</p>

</div>
</div>
<a id="a7813ef860b6e546618d476c1ca03c49a" name="a7813ef860b6e546618d476c1ca03c49a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7813ef860b6e546618d476c1ca03c49a">&#9670;&#160;</a></span>get_rows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::get_rows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of rows to display in this control. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">integer</td><td>the height this control will be displayed, in rows. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa2cc583026e8edc891b8fe902bd22ff8" name="aa2cc583026e8edc891b8fe902bd22ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2cc583026e8edc891b8fe902bd22ff8">&#9670;&#160;</a></span>get_selected_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::get_selected_user </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience method for when multiselect is false (throws an exception if not). </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">object</td><td>the selected user object, or null if none. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a987b77a7511505a53cff8dece4674bc7" name="a987b77a7511505a53cff8dece4674bc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987b77a7511505a53cff8dece4674bc7">&#9670;&#160;</a></span>get_selected_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::get_selected_users </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The users that were selected. </p>
<p >This is a more sophisticated version of optional_param($this-&gt;name, array(), PARAM_INT) that validates the returned list of ids against the rules for this user selector.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of user objects. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab941b31f81053f04609f685e0486a23f" name="ab941b31f81053f04609f685e0486a23f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab941b31f81053f04609f685e0486a23f">&#9670;&#160;</a></span>initialise_javascript()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::initialise_javascript </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$search</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialises JS for this control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>any HTML needed here. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa0cc9787d96640c5ccac82784db9cc39" name="aa0cc9787d96640c5ccac82784db9cc39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0cc9787d96640c5ccac82784db9cc39">&#9670;&#160;</a></span>invalidate_selected_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::invalidate_selected_users </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invalidates the list of selected users. </p>
<p >If you update the database in such a way that it is likely to change the list of users that this component is allowed to select from, then you must call this method. For example, on the role assign page, after you have assigned some roles to some users, you should call this. </p>

</div>
</div>
<a id="a33dc6a53c65d349becad4821efbf429d" name="a33dc6a53c65d349becad4821efbf429d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33dc6a53c65d349becad4821efbf429d">&#9670;&#160;</a></span>is_multiselect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::is_multiselect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true is multiselect should be allowed. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>whether this control will allow selection of more than one user. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1f565209c1cdd2d3c2bd19cc6774881" name="aa1f565209c1cdd2d3c2bd19cc6774881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1f565209c1cdd2d3c2bd19cc6774881">&#9670;&#160;</a></span>is_validating()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::is_validating </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this control is validating a list of users. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>if true, we are validating a list of selected users, rather than preparing a list of uesrs to choose from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3de08d1d40ced6ad946126a127b5163d" name="a3de08d1d40ced6ad946126a127b5163d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de08d1d40ced6ad946126a127b5163d">&#9670;&#160;</a></span>load_selected_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::load_selected_users </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of users that were selected by doing optional_param then validating the result. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of user objects. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95cc07d9531634fbc6135a5cdb82d931" name="a95cc07d9531634fbc6135a5cdb82d931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95cc07d9531634fbc6135a5cdb82d931">&#9670;&#160;</a></span>output_optgroup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::output_optgroup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$groupname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$users</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$select</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output one particular optgroup. </p>
<p >Used by the preceding function output_options.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$groupname</td><td>the label for this optgroup. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$users</td><td>the users to put in this optgroup. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$select</td><td>if true, select the users in this group. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>HTML code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e8e3805f6e769d60ce563cca283ff46" name="a5e8e3805f6e769d60ce563cca283ff46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8e3805f6e769d60ce563cca283ff46">&#9670;&#160;</a></span>output_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::output_options </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$groupedusers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$search</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output the list of &lt;optgroup&gt;s and &lt;options&gt;s that go inside the select. </p>
<p >This method should do the same as the JavaScript method user_selector.prototype.handle_response.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$groupedusers</td><td>an array, as returned by find_users. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>HTML code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a17d158154b3fd0417168c9ec4dd8bd0e" name="a17d158154b3fd0417168c9ec4dd8bd0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17d158154b3fd0417168c9ec4dd8bd0e">&#9670;&#160;</a></span>output_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::output_user </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a user object to a string suitable for displaying as an option in the list box. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td>the user to display. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>a string representation of the user. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../df/de5/classgroup__non__members__selector.html#a371474966d9d42c08d03482b1fb178ad">group_non_members_selector</a>.</p>

</div>
</div>
<a id="ac6e2ecfb8f8165d5985d078c126eb79b" name="ac6e2ecfb8f8165d5985d078c126eb79b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6e2ecfb8f8165d5985d078c126eb79b">&#9670;&#160;</a></span>required_fields_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::required_fields_sql </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$u</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns SQL to select required fields. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$u</td><td>the table alias for the user table in the query being built. May be ''. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>fragment of SQL to go in the select list of the query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td>if used when includecustomfields is true </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a192933ff31abd55b205866b43c558020" name="a192933ff31abd55b205866b43c558020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192933ff31abd55b205866b43c558020">&#9670;&#160;</a></span>search_button_caption()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::search_button_caption </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the string to use for the search button caption. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the caption for the search button. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0dd9960c495954cf21854c0e8e318e66" name="a0dd9960c495954cf21854c0e8e318e66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dd9960c495954cf21854c0e8e318e66">&#9670;&#160;</a></span>search_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::search_sql </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$search</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$u</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array with SQL to perform a search and the params that go into it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td>the text to search for. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$u</td><td>the table alias for the user table in the query being built. May be ''. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>an array with two elements, a fragment of SQL to go in the where clause the query, and an array containing any required parameters. this uses ? style placeholders. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6cd19d43f51347a85252c9c850e92267" name="a6cd19d43f51347a85252c9c850e92267"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cd19d43f51347a85252c9c850e92267">&#9670;&#160;</a></span>set_extra_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::set_extra_fields </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the user fields that are displayed in the selector in addition to the user's name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$fields</td><td>a list of field names that exist in the user table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6ee41497bd3152c03efbdf124bedea58" name="a6ee41497bd3152c03efbdf124bedea58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee41497bd3152c03efbdf124bedea58">&#9670;&#160;</a></span>set_multiselect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::set_multiselect </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$multiselect</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether this control will allow selection of many, or just one user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$multiselect</td><td>true = allow multiple selection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="addce354349df265f544f3e22b6cae871" name="addce354349df265f544f3e22b6cae871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addce354349df265f544f3e22b6cae871">&#9670;&#160;</a></span>set_rows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::set_rows </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$numrows</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The height this control will be displayed, in rows. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$numrows</td><td>the desired height. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af05bc9287d527ef45ef534d82b4c44ac" name="af05bc9287d527ef45ef534d82b4c44ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af05bc9287d527ef45ef534d82b4c44ac">&#9670;&#160;</a></span>too_many_results()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">user_selector_base::too_many_results </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$search</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to generate a nice message when there are too many users to show. </p>
<p >The message includes the number of users that currently match, and the text of the message depends on whether the search term is non-blank.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$search</td><td>the search term, as passed in to the find users method. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$count</td><td>the number of users that currently match. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>in the right format to return from the find_users method. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1eab1a6f73a705441a4b69b52390ec91" name="a1eab1a6f73a705441a4b69b52390ec91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eab1a6f73a705441a4b69b52390ec91">&#9670;&#160;</a></span>$jsmodule</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">array user_selector_base::$jsmodule</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code hl_namespace" href="../../d7/df9/namespacearray.html">array</a>(</div>
<div class="line">                <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;user_selector&#39;</span>,</div>
<div class="line">                <span class="stringliteral">&#39;fullpath&#39;</span> =&gt; <span class="stringliteral">&#39;/user/selector/module.js&#39;</span>,</div>
<div class="line">                <span class="stringliteral">&#39;requires&#39;</span>  =&gt; <a class="code hl_namespace" href="../../d7/df9/namespacearray.html">array</a>(<span class="stringliteral">&#39;node&#39;</span>, <span class="stringliteral">&#39;event-custom&#39;</span>, <span class="stringliteral">&#39;datasource&#39;</span>, <span class="stringliteral">&#39;json&#39;</span>, <span class="stringliteral">&#39;moodle-core-notification&#39;</span>),</div>
<div class="line">                <span class="stringliteral">&#39;strings&#39;</span> =&gt; <a class="code hl_namespace" href="../../d7/df9/namespacearray.html">array</a>(</div>
<div class="line">                    <a class="code hl_namespace" href="../../d7/df9/namespacearray.html">array</a>(<span class="stringliteral">&#39;previouslyselectedusers&#39;</span>, <span class="stringliteral">&#39;moodle&#39;</span>, <span class="stringliteral">&#39;%%SEARCHTERM%%&#39;</span>),</div>
<div class="line">                    <a class="code hl_namespace" href="../../d7/df9/namespacearray.html">array</a>(<span class="stringliteral">&#39;nomatchingusers&#39;</span>, <span class="stringliteral">&#39;moodle&#39;</span>, <span class="stringliteral">&#39;%%SEARCHTERM%%&#39;</span>),</div>
<div class="line">                    <a class="code hl_namespace" href="../../d7/df9/namespacearray.html">array</a>(<span class="stringliteral">&#39;none&#39;</span>, <span class="stringliteral">&#39;moodle&#39;</span>)</div>
<div class="line">                ))</div>
<div class="ttc" id="anamespacearray_html"><div class="ttname"><a href="../../d7/df9/namespacearray.html">array</a></div><div class="ttdoc">('') &amp;#160;</div></div>
</div><!-- fragment -->
<p>JavaScript YUI3 Module definition. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>user/selector/lib.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Sep 11 2022 04:09:20 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
