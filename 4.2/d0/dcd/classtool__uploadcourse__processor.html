<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: tool_uploadcourse_processor Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.2</span>
   </div>
   <div id="projectbrief">Moodle 4.2.3+ (Build: 20231201) (caacef2ea26)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d8/d55/classtool__uploadcourse__processor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">tool_uploadcourse_processor Class Reference<div class="ingroups"><a class="el" href="../../db/d6c/group__tool__uploadcourse.html">tool_uploadcourse</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Processor class.  
 <a href="../../d0/dcd/classtool__uploadcourse__processor.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3573b395ef07b2693524033b36847d21" id="r_a3573b395ef07b2693524033b36847d21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcd/classtool__uploadcourse__processor.html#a3573b395ef07b2693524033b36847d21">__construct</a> (<a class="el" href="../../d5/dea/classcsv__import__reader.html">csv_import_reader</a> $cir, array $options, array $defaults=array())</td></tr>
<tr class="memdesc:a3573b395ef07b2693524033b36847d21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:a3573b395ef07b2693524033b36847d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da1a4c257d89b956f374e31922c934a" id="r_a9da1a4c257d89b956f374e31922c934a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcd/classtool__uploadcourse__processor.html#a9da1a4c257d89b956f374e31922c934a">execute</a> ($tracker=null)</td></tr>
<tr class="memdesc:a9da1a4c257d89b956f374e31922c934a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the process.  <br /></td></tr>
<tr class="separator:a9da1a4c257d89b956f374e31922c934a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c8f550ddc4b8eab65ab79186023063" id="r_a70c8f550ddc4b8eab65ab79186023063"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcd/classtool__uploadcourse__processor.html#a70c8f550ddc4b8eab65ab79186023063">get_errors</a> ()</td></tr>
<tr class="memdesc:a70c8f550ddc4b8eab65ab79186023063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the errors.  <br /></td></tr>
<tr class="separator:a70c8f550ddc4b8eab65ab79186023063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61fabe2fe929c163672cfc520da062aa" id="r_a61fabe2fe929c163672cfc520da062aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcd/classtool__uploadcourse__processor.html#a61fabe2fe929c163672cfc520da062aa">preview</a> ($rows=10, $tracker=null)</td></tr>
<tr class="memdesc:a61fabe2fe929c163672cfc520da062aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a preview of the import.  <br /></td></tr>
<tr class="separator:a61fabe2fe929c163672cfc520da062aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32204b84443bb3abfb05ba23d42b5544" id="r_a32204b84443bb3abfb05ba23d42b5544"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcd/classtool__uploadcourse__processor.html#a32204b84443bb3abfb05ba23d42b5544">reset</a> ()</td></tr>
<tr class="memdesc:a32204b84443bb3abfb05ba23d42b5544"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the current process.  <br /></td></tr>
<tr class="separator:a32204b84443bb3abfb05ba23d42b5544"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa17b10d1e6551ce5bf067d5bb2b44361" id="r_aa17b10d1e6551ce5bf067d5bb2b44361"><td class="memItemLeft" align="right" valign="top"><a id="aa17b10d1e6551ce5bf067d5bb2b44361" name="aa17b10d1e6551ce5bf067d5bb2b44361"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MODE_CREATE_ALL</b> = 2</td></tr>
<tr class="memdesc:aa17b10d1e6551ce5bf067d5bb2b44361"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create all courses, appending a suffix to the shortname if the course exists. <br /></td></tr>
<tr class="separator:aa17b10d1e6551ce5bf067d5bb2b44361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dae331939522a8683a443cdc7f10d10" id="r_a8dae331939522a8683a443cdc7f10d10"><td class="memItemLeft" align="right" valign="top"><a id="a8dae331939522a8683a443cdc7f10d10" name="a8dae331939522a8683a443cdc7f10d10"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MODE_CREATE_NEW</b> = 1</td></tr>
<tr class="memdesc:a8dae331939522a8683a443cdc7f10d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create courses that do not exist yet. <br /></td></tr>
<tr class="separator:a8dae331939522a8683a443cdc7f10d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af83aadd975d7b852e8b2765d6f1c5dbc" id="r_af83aadd975d7b852e8b2765d6f1c5dbc"><td class="memItemLeft" align="right" valign="top"><a id="af83aadd975d7b852e8b2765d6f1c5dbc" name="af83aadd975d7b852e8b2765d6f1c5dbc"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MODE_CREATE_OR_UPDATE</b> = 3</td></tr>
<tr class="memdesc:af83aadd975d7b852e8b2765d6f1c5dbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create courses, and update the ones that already exist. <br /></td></tr>
<tr class="separator:af83aadd975d7b852e8b2765d6f1c5dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7188ee3811e342114dc6bbb4044809" id="r_aeb7188ee3811e342114dc6bbb4044809"><td class="memItemLeft" align="right" valign="top"><a id="aeb7188ee3811e342114dc6bbb4044809" name="aeb7188ee3811e342114dc6bbb4044809"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>MODE_UPDATE_ONLY</b> = 4</td></tr>
<tr class="memdesc:aeb7188ee3811e342114dc6bbb4044809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only update existing courses. <br /></td></tr>
<tr class="separator:aeb7188ee3811e342114dc6bbb4044809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a30d453aaf4697deedca41a90b6cee3" id="r_a9a30d453aaf4697deedca41a90b6cee3"><td class="memItemLeft" align="right" valign="top"><a id="a9a30d453aaf4697deedca41a90b6cee3" name="a9a30d453aaf4697deedca41a90b6cee3"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>UPDATE_ALL_WITH_DATA_ONLY</b> = 1</td></tr>
<tr class="memdesc:a9a30d453aaf4697deedca41a90b6cee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">During update, only use data passed from the CSV. <br /></td></tr>
<tr class="separator:a9a30d453aaf4697deedca41a90b6cee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a3efe1957e19d779df5a3ad9ed98d9" id="r_af1a3efe1957e19d779df5a3ad9ed98d9"><td class="memItemLeft" align="right" valign="top"><a id="af1a3efe1957e19d779df5a3ad9ed98d9" name="af1a3efe1957e19d779df5a3ad9ed98d9"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>UPDATE_ALL_WITH_DATA_OR_DEFAUTLS</b> = 2</td></tr>
<tr class="memdesc:af1a3efe1957e19d779df5a3ad9ed98d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">During update, use either data from the CSV, or defaults. <br /></td></tr>
<tr class="separator:af1a3efe1957e19d779df5a3ad9ed98d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9edf7337a1a665732c9f14f21b3228b" id="r_af9edf7337a1a665732c9f14f21b3228b"><td class="memItemLeft" align="right" valign="top"><a id="af9edf7337a1a665732c9f14f21b3228b" name="af9edf7337a1a665732c9f14f21b3228b"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>UPDATE_MISSING_WITH_DATA_OR_DEFAUTLS</b> = 3</td></tr>
<tr class="memdesc:af9edf7337a1a665732c9f14f21b3228b"><td class="mdescLeft">&#160;</td><td class="mdescRight">During update, update missing values from either data from the CSV, or defaults. <br /></td></tr>
<tr class="separator:af9edf7337a1a665732c9f14f21b3228b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ed61734f78e2bafd5996d2712c49d4" id="r_a78ed61734f78e2bafd5996d2712c49d4"><td class="memItemLeft" align="right" valign="top"><a id="a78ed61734f78e2bafd5996d2712c49d4" name="a78ed61734f78e2bafd5996d2712c49d4"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>UPDATE_NOTHING</b> = 0</td></tr>
<tr class="memdesc:a78ed61734f78e2bafd5996d2712c49d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">During update, do not update anything... O_o Huh?! <br /></td></tr>
<tr class="separator:a78ed61734f78e2bafd5996d2712c49d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a889358262b53f0334e0a70e76f34d676" id="r_a889358262b53f0334e0a70e76f34d676"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcd/classtool__uploadcourse__processor.html#a889358262b53f0334e0a70e76f34d676">get_course</a> ($data)</td></tr>
<tr class="memdesc:a889358262b53f0334e0a70e76f34d676"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a course import object.  <br /></td></tr>
<tr class="separator:a889358262b53f0334e0a70e76f34d676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa592b53f78c67a1a0d305971f57bf959" id="r_aa592b53f78c67a1a0d305971f57bf959"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcd/classtool__uploadcourse__processor.html#aa592b53f78c67a1a0d305971f57bf959">get_restore_content_dir</a> ()</td></tr>
<tr class="memdesc:aa592b53f78c67a1a0d305971f57bf959"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the directory of the object to restore.  <br /></td></tr>
<tr class="separator:aa592b53f78c67a1a0d305971f57bf959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea001c9368bb3616e295473660e21033" id="r_aea001c9368bb3616e295473660e21033"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcd/classtool__uploadcourse__processor.html#aea001c9368bb3616e295473660e21033">log_error</a> ($errors)</td></tr>
<tr class="memdesc:aea001c9368bb3616e295473660e21033"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log errors on the current line.  <br /></td></tr>
<tr class="separator:aea001c9368bb3616e295473660e21033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18933f58d4d3c218a4071b3ae0ca67f" id="r_ae18933f58d4d3c218a4071b3ae0ca67f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcd/classtool__uploadcourse__processor.html#ae18933f58d4d3c218a4071b3ae0ca67f">parse_line</a> ($line)</td></tr>
<tr class="memdesc:ae18933f58d4d3c218a4071b3ae0ca67f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a line to return an array(column =&gt; value)  <br /></td></tr>
<tr class="separator:ae18933f58d4d3c218a4071b3ae0ca67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220ebccbf59b867d8a8294322c1f90a3" id="r_a220ebccbf59b867d8a8294322c1f90a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dcd/classtool__uploadcourse__processor.html#a220ebccbf59b867d8a8294322c1f90a3">validate</a> ()</td></tr>
<tr class="memdesc:a220ebccbf59b867d8a8294322c1f90a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validation.  <br /></td></tr>
<tr class="separator:a220ebccbf59b867d8a8294322c1f90a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a18fedd1ad9de02732ccf5c7406781c37" id="r_a18fedd1ad9de02732ccf5c7406781c37"><td class="memItemLeft" align="right" valign="top"><a id="a18fedd1ad9de02732ccf5c7406781c37" name="a18fedd1ad9de02732ccf5c7406781c37"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$allowdeletes</b> = false</td></tr>
<tr class="memdesc:a18fedd1ad9de02732ccf5c7406781c37"><td class="mdescLeft">&#160;</td><td class="mdescRight">are deletes allowed. <br /></td></tr>
<tr class="separator:a18fedd1ad9de02732ccf5c7406781c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b735897f1b68729bae31afcc87b723" id="r_ac0b735897f1b68729bae31afcc87b723"><td class="memItemLeft" align="right" valign="top"><a id="ac0b735897f1b68729bae31afcc87b723" name="ac0b735897f1b68729bae31afcc87b723"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$allowrenames</b> = false</td></tr>
<tr class="memdesc:ac0b735897f1b68729bae31afcc87b723"><td class="mdescLeft">&#160;</td><td class="mdescRight">are renames allowed. <br /></td></tr>
<tr class="separator:ac0b735897f1b68729bae31afcc87b723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85a3fef41ec5c1299ca3bd873e874415" id="r_a85a3fef41ec5c1299ca3bd873e874415"><td class="memItemLeft" align="right" valign="top"><a id="a85a3fef41ec5c1299ca3bd873e874415" name="a85a3fef41ec5c1299ca3bd873e874415"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$allowresets</b> = false</td></tr>
<tr class="memdesc:a85a3fef41ec5c1299ca3bd873e874415"><td class="mdescLeft">&#160;</td><td class="mdescRight">are resets allowed. <br /></td></tr>
<tr class="separator:a85a3fef41ec5c1299ca3bd873e874415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1bbeb7a9ac82c9341c23ed3756faa65" id="r_ac1bbeb7a9ac82c9341c23ed3756faa65"><td class="memItemLeft" align="right" valign="top"><a id="ac1bbeb7a9ac82c9341c23ed3756faa65" name="ac1bbeb7a9ac82c9341c23ed3756faa65"></a>
<a class="el" href="../../d5/dea/classcsv__import__reader.html">csv_import_reader</a>&#160;</td><td class="memItemRight" valign="bottom"><b>$cir</b></td></tr>
<tr class="separator:ac1bbeb7a9ac82c9341c23ed3756faa65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb7d7f44c5b0b5985cdd5ad3b949a807" id="r_adb7d7f44c5b0b5985cdd5ad3b949a807"><td class="memItemLeft" align="right" valign="top"><a id="adb7d7f44c5b0b5985cdd5ad3b949a807" name="adb7d7f44c5b0b5985cdd5ad3b949a807"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$columns</b> = array()</td></tr>
<tr class="memdesc:adb7d7f44c5b0b5985cdd5ad3b949a807"><td class="mdescLeft">&#160;</td><td class="mdescRight">CSV columns. <br /></td></tr>
<tr class="separator:adb7d7f44c5b0b5985cdd5ad3b949a807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc538f0606136286af0e57e3e89ed17c" id="r_adc538f0606136286af0e57e3e89ed17c"><td class="memItemLeft" align="right" valign="top"><a id="adc538f0606136286af0e57e3e89ed17c" name="adc538f0606136286af0e57e3e89ed17c"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$defaults</b> = array()</td></tr>
<tr class="memdesc:adc538f0606136286af0e57e3e89ed17c"><td class="mdescLeft">&#160;</td><td class="mdescRight">default values. <br /></td></tr>
<tr class="separator:adc538f0606136286af0e57e3e89ed17c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe68ae2695f28de993ee97a854df9587" id="r_abe68ae2695f28de993ee97a854df9587"><td class="memItemLeft" align="right" valign="top"><a id="abe68ae2695f28de993ee97a854df9587" name="abe68ae2695f28de993ee97a854df9587"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$errors</b> = array()</td></tr>
<tr class="memdesc:abe68ae2695f28de993ee97a854df9587"><td class="mdescLeft">&#160;</td><td class="mdescRight">of errors where the key is the line number. <br /></td></tr>
<tr class="separator:abe68ae2695f28de993ee97a854df9587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb7e2991f5e64bc3b4de5df104a78615" id="r_adb7e2991f5e64bc3b4de5df104a78615"><td class="memItemLeft" align="right" valign="top"><a id="adb7e2991f5e64bc3b4de5df104a78615" name="adb7e2991f5e64bc3b4de5df104a78615"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$linenb</b> = 0</td></tr>
<tr class="memdesc:adb7e2991f5e64bc3b4de5df104a78615"><td class="mdescLeft">&#160;</td><td class="mdescRight">line number. <br /></td></tr>
<tr class="separator:adb7e2991f5e64bc3b4de5df104a78615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89e969b5457c79ac2f25ca7752d0b87c" id="r_a89e969b5457c79ac2f25ca7752d0b87c"><td class="memItemLeft" align="right" valign="top"><a id="a89e969b5457c79ac2f25ca7752d0b87c" name="a89e969b5457c79ac2f25ca7752d0b87c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$mode</b></td></tr>
<tr class="memdesc:a89e969b5457c79ac2f25ca7752d0b87c"><td class="mdescLeft">&#160;</td><td class="mdescRight">processor mode. <br /></td></tr>
<tr class="separator:a89e969b5457c79ac2f25ca7752d0b87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72cfddbde8119e33a6f18c0e4afb90b" id="r_ab72cfddbde8119e33a6f18c0e4afb90b"><td class="memItemLeft" align="right" valign="top"><a id="ab72cfddbde8119e33a6f18c0e4afb90b" name="ab72cfddbde8119e33a6f18c0e4afb90b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$processstarted</b> = false</td></tr>
<tr class="memdesc:ab72cfddbde8119e33a6f18c0e4afb90b"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether the process has been started or not. <br /></td></tr>
<tr class="separator:ab72cfddbde8119e33a6f18c0e4afb90b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41599e126d3746f666f66c31b38b7217" id="r_a41599e126d3746f666f66c31b38b7217"><td class="memItemLeft" align="right" valign="top"><a id="a41599e126d3746f666f66c31b38b7217" name="a41599e126d3746f666f66c31b38b7217"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$reset</b></td></tr>
<tr class="memdesc:a41599e126d3746f666f66c31b38b7217"><td class="mdescLeft">&#160;</td><td class="mdescRight">reset courses after processing them. <br /></td></tr>
<tr class="separator:a41599e126d3746f666f66c31b38b7217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3af07b98525b0b4e30b482a9b379d9d" id="r_aa3af07b98525b0b4e30b482a9b379d9d"><td class="memItemLeft" align="right" valign="top"><a id="aa3af07b98525b0b4e30b482a9b379d9d" name="aa3af07b98525b0b4e30b482a9b379d9d"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$restorefile</b></td></tr>
<tr class="memdesc:aa3af07b98525b0b4e30b482a9b379d9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">path to a restore file. <br /></td></tr>
<tr class="separator:aa3af07b98525b0b4e30b482a9b379d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac595ac490571598e61abcf145b995e93" id="r_ac595ac490571598e61abcf145b995e93"><td class="memItemLeft" align="right" valign="top"><a id="ac595ac490571598e61abcf145b995e93" name="ac595ac490571598e61abcf145b995e93"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$shortnametemplate</b></td></tr>
<tr class="memdesc:ac595ac490571598e61abcf145b995e93"><td class="mdescLeft">&#160;</td><td class="mdescRight">template to generate a course shortname. <br /></td></tr>
<tr class="separator:ac595ac490571598e61abcf145b995e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a28847d865f8fd4a4793c3d4641598" id="r_ad8a28847d865f8fd4a4793c3d4641598"><td class="memItemLeft" align="right" valign="top"><a id="ad8a28847d865f8fd4a4793c3d4641598" name="ad8a28847d865f8fd4a4793c3d4641598"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$templatecourse</b></td></tr>
<tr class="memdesc:ad8a28847d865f8fd4a4793c3d4641598"><td class="mdescLeft">&#160;</td><td class="mdescRight">shortname of the course to be restored. <br /></td></tr>
<tr class="separator:ad8a28847d865f8fd4a4793c3d4641598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af58a8ba5859c7ac72ae265451a850ca7" id="r_af58a8ba5859c7ac72ae265451a850ca7"><td class="memItemLeft" align="right" valign="top"><a id="af58a8ba5859c7ac72ae265451a850ca7" name="af58a8ba5859c7ac72ae265451a850ca7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$updatemode</b></td></tr>
<tr class="memdesc:af58a8ba5859c7ac72ae265451a850ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">upload mode. <br /></td></tr>
<tr class="separator:af58a8ba5859c7ac72ae265451a850ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Processor class. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2013 Frédéric Massart </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3573b395ef07b2693524033b36847d21" name="a3573b395ef07b2693524033b36847d21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3573b395ef07b2693524033b36847d21">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tool_uploadcourse_processor::__construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dea/classcsv__import__reader.html">csv_import_reader</a>&#160;</td>
          <td class="paramname"><em>$cir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$defaults</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d5/dea/classcsv__import__reader.html" title="Utitily class for importing of CSV files.">csv_import_reader</a></td><td class="paramname">$cir</td><td>import reader object </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>options of the process </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$defaults</td><td>default data value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9da1a4c257d89b956f374e31922c934a" name="a9da1a4c257d89b956f374e31922c934a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9da1a4c257d89b956f374e31922c934a">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tool_uploadcourse_processor::execute </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tracker</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute the process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$tracker</td><td>the output tracker to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a889358262b53f0334e0a70e76f34d676" name="a889358262b53f0334e0a70e76f34d676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a889358262b53f0334e0a70e76f34d676">&#9670;&#160;</a></span>get_course()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tool_uploadcourse_processor::get_course </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a course import object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$data</td><td>data to import the course with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d7/d4b/classtool__uploadcourse__course.html" title="Course class.">tool_uploadcourse_course</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a70c8f550ddc4b8eab65ab79186023063" name="a70c8f550ddc4b8eab65ab79186023063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70c8f550ddc4b8eab65ab79186023063">&#9670;&#160;</a></span>get_errors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tool_uploadcourse_processor::get_errors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the errors. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa592b53f78c67a1a0d305971f57bf959" name="aa592b53f78c67a1a0d305971f57bf959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa592b53f78c67a1a0d305971f57bf959">&#9670;&#160;</a></span>get_restore_content_dir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tool_uploadcourse_processor::get_restore_content_dir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the directory of the object to restore. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>subdirectory in $CFG-&gt;backuptempdir/... </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aea001c9368bb3616e295473660e21033" name="aea001c9368bb3616e295473660e21033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea001c9368bb3616e295473660e21033">&#9670;&#160;</a></span>log_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tool_uploadcourse_processor::log_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$errors</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log errors on the current line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$errors</td><td>array of errors </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae18933f58d4d3c218a4071b3ae0ca67f" name="ae18933f58d4d3c218a4071b3ae0ca67f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae18933f58d4d3c218a4071b3ae0ca67f">&#9670;&#160;</a></span>parse_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tool_uploadcourse_processor::parse_line </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse a line to return an array(column =&gt; value) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$line</td><td>returned by <a class="el" href="../../d5/dea/classcsv__import__reader.html" title="Utitily class for importing of CSV files.">csv_import_reader</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a61fabe2fe929c163672cfc520da062aa" name="a61fabe2fe929c163672cfc520da062aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61fabe2fe929c163672cfc520da062aa">&#9670;&#160;</a></span>preview()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tool_uploadcourse_processor::preview </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rows</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tracker</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a preview of the import. </p>
<p>This only returns passed data, along with the errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$rows</td><td>number of rows to preview. </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$tracker</td><td>the output tracker to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>of preview data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a32204b84443bb3abfb05ba23d42b5544" name="a32204b84443bb3abfb05ba23d42b5544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32204b84443bb3abfb05ba23d42b5544">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tool_uploadcourse_processor::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the current process. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a220ebccbf59b867d8a8294322c1f90a3" name="a220ebccbf59b867d8a8294322c1f90a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220ebccbf59b867d8a8294322c1f90a3">&#9670;&#160;</a></span>validate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tool_uploadcourse_processor::validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validation. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>admin/tool/uploadcourse/classes/<b>processor.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 3 2023 02:36:01 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
