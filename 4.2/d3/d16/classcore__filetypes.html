<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: core_filetypes Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.2</span>
   </div>
   <div id="projectbrief">Moodle 4.2.1+ (Build: 20230707) (2ef6a3b9b9e)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../d5/d10/classcore__filetypes-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">core_filetypes Class Reference<div class="ingroups"><a class="el" href="../../d0/de1/group__core.html">core</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Class to manage the custom filetypes list that is stored in a config variable.  
 <a href="../../d3/d16/classcore__filetypes.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aec84380cd0d8c3bd4d8840a338ab4dbb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#aec84380cd0d8c3bd4d8840a338ab4dbb">add_type</a> ($extension, $mimetype, $coreicon, array $groups=array(), $corestring='', $customdescription='', $defaulticon=false)</td></tr>
<tr class="memdesc:aec84380cd0d8c3bd4d8840a338ab4dbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new entry to the list of custom filetypes.  <br /></td></tr>
<tr class="separator:aec84380cd0d8c3bd4d8840a338ab4dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ba85c25411cac006e3f4c75e7a59e0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#ac8ba85c25411cac006e3f4c75e7a59e0">delete_type</a> ($extension)</td></tr>
<tr class="memdesc:ac8ba85c25411cac006e3f4c75e7a59e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a file type from the config list (or, for a standard one, marks it as deleted).  <br /></td></tr>
<tr class="separator:ac8ba85c25411cac006e3f4c75e7a59e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5342ae92c71e72587e4fae755a48c49d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#a5342ae92c71e72587e4fae755a48c49d">get_deleted_types</a> ()</td></tr>
<tr class="memdesc:a5342ae92c71e72587e4fae755a48c49d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the default types that have been deleted.  <br /></td></tr>
<tr class="separator:a5342ae92c71e72587e4fae755a48c49d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b4e905fcad5f9953e89e1621d22f9f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#a07b4e905fcad5f9953e89e1621d22f9f">get_file_extension</a> ($mimetype)</td></tr>
<tr class="memdesc:a07b4e905fcad5f9953e89e1621d22f9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a mimetype - return a valid file extension for it.  <br /></td></tr>
<tr class="separator:a07b4e905fcad5f9953e89e1621d22f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91fe4927d112fb9edce0cf4297c9f2d9"><td class="memItemLeft" align="right" valign="top">static &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#a91fe4927d112fb9edce0cf4297c9f2d9">get_types</a> ()</td></tr>
<tr class="memdesc:a91fe4927d112fb9edce0cf4297c9f2d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all the current types.  <br /></td></tr>
<tr class="separator:a91fe4927d112fb9edce0cf4297c9f2d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdafd6829ceaa1ea7567c75176de828e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#acdafd6829ceaa1ea7567c75176de828e">reset_caches</a> ()</td></tr>
<tr class="memdesc:acdafd6829ceaa1ea7567c75176de828e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the type cache.  <br /></td></tr>
<tr class="separator:acdafd6829ceaa1ea7567c75176de828e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a432408f1c447214442d41017b240195a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#a432408f1c447214442d41017b240195a">revert_type_to_default</a> ($extension)</td></tr>
<tr class="memdesc:a432408f1c447214442d41017b240195a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reverts a file type to the default.  <br /></td></tr>
<tr class="separator:a432408f1c447214442d41017b240195a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbc9275c19bf2ab9f8e3fd94e950ae9a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#adbc9275c19bf2ab9f8e3fd94e950ae9a">update_type</a> ($extension, $newextension, $mimetype, $coreicon, array $groups=array(), $corestring='', $customdescription='', $defaulticon=false)</td></tr>
<tr class="memdesc:adbc9275c19bf2ab9f8e3fd94e950ae9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates an entry in the list of filetypes in config.  <br /></td></tr>
<tr class="separator:adbc9275c19bf2ab9f8e3fd94e950ae9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a8f89969fd749071565081571bfa9d321"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#a8f89969fd749071565081571bfa9d321">create_config_record</a> ($extension, $mimetype, $coreicon, array $groups, $corestring, $customdescription, $defaulticon)</td></tr>
<tr class="memdesc:a8f89969fd749071565081571bfa9d321"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts function parameters into a record for storing in the JSON value.  <br /></td></tr>
<tr class="separator:a8f89969fd749071565081571bfa9d321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad13186cc12827bdcd10879923ad312d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#aad13186cc12827bdcd10879923ad312d">get_custom_types</a> ()</td></tr>
<tr class="memdesc:aad13186cc12827bdcd10879923ad312d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets custom types from config variable, after decoding the JSON if required.  <br /></td></tr>
<tr class="separator:aad13186cc12827bdcd10879923ad312d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0452878aa86d930f904282ee5b1e94a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#ad0452878aa86d930f904282ee5b1e94a">get_default_types</a> ()</td></tr>
<tr class="memdesc:ad0452878aa86d930f904282ee5b1e94a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets default MIME types that are included as standard.  <br /></td></tr>
<tr class="separator:ad0452878aa86d930f904282ee5b1e94a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cdf747deeb3bb162e5355cceb005630"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d16/classcore__filetypes.html#a5cdf747deeb3bb162e5355cceb005630">set_custom_types</a> (array $types)</td></tr>
<tr class="memdesc:a5cdf747deeb3bb162e5355cceb005630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the custom types into config variable, encoding into JSON.  <br /></td></tr>
<tr class="separator:a5cdf747deeb3bb162e5355cceb005630"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:acca8eecacd51f9744c30a9d241b6d454"><td class="memItemLeft" align="right" valign="top"><a id="acca8eecacd51f9744c30a9d241b6d454" name="acca8eecacd51f9744c30a9d241b6d454"></a>
static array&#160;</td><td class="memItemRight" valign="bottom"><b>$cachedtypes</b></td></tr>
<tr class="memdesc:acca8eecacd51f9744c30a9d241b6d454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cached MIME types for current request. <br /></td></tr>
<tr class="separator:acca8eecacd51f9744c30a9d241b6d454"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to manage the custom filetypes list that is stored in a config variable. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2014 The Open University </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aec84380cd0d8c3bd4d8840a338ab4dbb" name="aec84380cd0d8c3bd4d8840a338ab4dbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec84380cd0d8c3bd4d8840a338ab4dbb">&#9670;&#160;</a></span>add_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::add_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mimetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$coreicon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$groups</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$corestring</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$customdescription</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$defaulticon</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a new entry to the list of custom filetypes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$extension</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> extension without dot, e.g. 'doc' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$mimetype</td><td>MIME type e.g. 'application/msword' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$coreicon</td><td>Core icon to use e.g. 'document' </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$groups</td><td>Array of group strings that this type belongs to </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$corestring</td><td>Custom lang string name in mimetypes.php </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$customdescription</td><td>Custom description (plain text/multilang) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$defaulticon</td><td>True if this should be the default icon for the type </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td>If the extension already exists, or otherwise invalid </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8f89969fd749071565081571bfa9d321" name="a8f89969fd749071565081571bfa9d321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f89969fd749071565081571bfa9d321">&#9670;&#160;</a></span>create_config_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::create_config_record </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mimetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$coreicon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$corestring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$customdescription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$defaulticon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts function parameters into a record for storing in the JSON value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$extension</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> extension without dot, e.g. 'doc' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$mimetype</td><td>MIME type e.g. 'application/msword' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$coreicon</td><td>Core icon to use e.g. 'document' </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$groups</td><td>Array of group strings that this type belongs to </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$corestring</td><td>Custom lang string name in mimetypes.php </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$customdescription</td><td>Custom description (plain text/multilang) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$defaulticon</td><td>True if this should be the default icon for the type </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td>Record matching the parameters </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac8ba85c25411cac006e3f4c75e7a59e0" name="ac8ba85c25411cac006e3f4c75e7a59e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ba85c25411cac006e3f4c75e7a59e0">&#9670;&#160;</a></span>delete_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::delete_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extension</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes a file type from the config list (or, for a standard one, marks it as deleted). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$extension</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> extension without dot, e.g. 'doc' </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td>If the extension does not exist, or otherwise invalid </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aad13186cc12827bdcd10879923ad312d" name="aad13186cc12827bdcd10879923ad312d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad13186cc12827bdcd10879923ad312d">&#9670;&#160;</a></span>get_custom_types()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::get_custom_types </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets custom types from config variable, after decoding the JSON if required. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array of custom types (empty array if none) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad0452878aa86d930f904282ee5b1e94a" name="ad0452878aa86d930f904282ee5b1e94a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0452878aa86d930f904282ee5b1e94a">&#9670;&#160;</a></span>get_default_types()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::get_default_types </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets default MIME types that are included as standard. </p>
<p>Note: Use the function get_mimetypes_array to access this data including any customisations the user might have made.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Default (pre-installed) MIME type information </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5342ae92c71e72587e4fae755a48c49d" name="a5342ae92c71e72587e4fae755a48c49d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5342ae92c71e72587e4fae755a48c49d">&#9670;&#160;</a></span>get_deleted_types()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::get_deleted_types </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the default types that have been deleted. </p>
<p>Returns an array containing the defaults of all those types.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array (same format as get_mimetypes_array) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07b4e905fcad5f9953e89e1621d22f9f" name="a07b4e905fcad5f9953e89e1621d22f9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b4e905fcad5f9953e89e1621d22f9f">&#9670;&#160;</a></span>get_file_extension()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::get_file_extension </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mimetype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a mimetype - return a valid file extension for it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$mimetype</td><td>string </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string|bool</td><td>False if the mimetype was not known, a string indicating a valid file extension otherwise. It may not be the only valid file extension - just the first one found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a91fe4927d112fb9edce0cf4297c9f2d9" name="a91fe4927d112fb9edce0cf4297c9f2d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91fe4927d112fb9edce0cf4297c9f2d9">&#9670;&#160;</a></span>get_types()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static &amp; core_filetypes::get_types </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets all the current types. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Associative array from extension to array of data about type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acdafd6829ceaa1ea7567c75176de828e" name="acdafd6829ceaa1ea7567c75176de828e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdafd6829ceaa1ea7567c75176de828e">&#9670;&#160;</a></span>reset_caches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::reset_caches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the type cache. </p>
<p>This is not needed in normal use as the set_custom_types function automatically clears the cache. Intended for use in unit tests. </p>

</div>
</div>
<a id="a432408f1c447214442d41017b240195a" name="a432408f1c447214442d41017b240195a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a432408f1c447214442d41017b240195a">&#9670;&#160;</a></span>revert_type_to_default()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::revert_type_to_default </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extension</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reverts a file type to the default. </p>
<p>May only be called on types that have default values. This will undelete the type if necessary or set its values. If the type is already at default values, does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$extension</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> extension without dot, e.g. 'doc' </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if anything was changed, false if it was already default </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td>If the extension is not a default type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5cdf747deeb3bb162e5355cceb005630" name="a5cdf747deeb3bb162e5355cceb005630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cdf747deeb3bb162e5355cceb005630">&#9670;&#160;</a></span>set_custom_types()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::set_custom_types </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$types</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the custom types into config variable, encoding into JSON. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$types</td><td>Array of custom types </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td>If the custom types are fixed in config.php. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adbc9275c19bf2ab9f8e3fd94e950ae9a" name="adbc9275c19bf2ab9f8e3fd94e950ae9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbc9275c19bf2ab9f8e3fd94e950ae9a">&#9670;&#160;</a></span>update_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_filetypes::update_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$newextension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mimetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$coreicon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$groups</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$corestring</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$customdescription</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$defaulticon</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates an entry in the list of filetypes in config. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$extension</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> extension without dot, e.g. 'doc' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$newextension</td><td>New file extension (same if not changing) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$mimetype</td><td>MIME type e.g. 'application/msword' </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$coreicon</td><td>Core icon to use e.g. 'document' </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$groups</td><td>Array of group strings that this type belongs to </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$corestring</td><td>Custom lang string name in mimetypes.php </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$customdescription</td><td>Custom description (plain text/multilang) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$defaulticon</td><td>True if this should be the default icon for the type </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td>If the new extension already exists, or otherwise invalid </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/classes/filetypes.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 9 2023 03:34:25 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
