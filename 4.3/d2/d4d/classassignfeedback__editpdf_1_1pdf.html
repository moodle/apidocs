<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: assignfeedback_editpdf\pdf Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.3</span>
   </div>
   <div id="projectbrief">Moodle 4.3.3+ (Build: 20240326) (1c530d86d19)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../df/d2b/namespaceassignfeedback__editpdf.html">assignfeedback_editpdf</a></li><li class="navelem"><a class="el" href="../../d2/d4d/classassignfeedback__editpdf_1_1pdf.html">pdf</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d7/def/classassignfeedback__editpdf_1_1pdf-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">assignfeedback_editpdf\pdf Class Reference<div class="ingroups"><a class="el" href="../../d3/ddb/group__assignfeedback__editpdf.html">assignfeedback_editpdf</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Library code for manipulating PDFs.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for assignfeedback_editpdf\pdf:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d2/d4d/classassignfeedback__editpdf_1_1pdf.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a356b64bc9f3d9bb97dae17775366ccab" id="r_a356b64bc9f3d9bb97dae17775366ccab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a356b64bc9f3d9bb97dae17775366ccab">add_annotation</a> ($sx, $sy, $ex, $ey, $colour, $type, $path, $imagefolder)</td></tr>
<tr class="memdesc:a356b64bc9f3d9bb97dae17775366ccab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an annotation to the current page.  <br /></td></tr>
<tr class="separator:a356b64bc9f3d9bb97dae17775366ccab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a178199cf7b117998db29e1993ef8a789" id="r_a178199cf7b117998db29e1993ef8a789"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a178199cf7b117998db29e1993ef8a789">add_comment</a> ($text, $x, $y, $width, $colour='yellow')</td></tr>
<tr class="memdesc:a178199cf7b117998db29e1993ef8a789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a comment to the current page.  <br /></td></tr>
<tr class="separator:a178199cf7b117998db29e1993ef8a789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd66f6cb06556ad9a9f8f4eab901f63" id="r_a7dd66f6cb06556ad9a9f8f4eab901f63"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7dd66f6cb06556ad9a9f8f4eab901f63">add_comment_marker</a> ($pageno, $index, $x, $y, $<a class="el" href="../../d6/db1/group__mod__wiki.html#ga18b3d5253ddc6145e9bc81e2337889f6">link</a>, $colour='yellow')</td></tr>
<tr class="memdesc:a7dd66f6cb06556ad9a9f8f4eab901f63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a comment marker to the specified page.  <br /></td></tr>
<tr class="separator:a7dd66f6cb06556ad9a9f8f4eab901f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e4ee0a6d0b34ed306f416d8641f6dc" id="r_ac5e4ee0a6d0b34ed306f416d8641f6dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5e4ee0a6d0b34ed306f416d8641f6dc">add_image_page</a> ($imagestoredfile)</td></tr>
<tr class="memdesc:ac5e4ee0a6d0b34ed306f416d8641f6dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function add an image file to PDF page.  <br /></td></tr>
<tr class="separator:ac5e4ee0a6d0b34ed306f416d8641f6dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe57d0600c28bec8233bd5a2bfdf4279" id="r_afe57d0600c28bec8233bd5a2bfdf4279"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe57d0600c28bec8233bd5a2bfdf4279">append_comments</a> ($allcomments)</td></tr>
<tr class="memdesc:afe57d0600c28bec8233bd5a2bfdf4279"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append all comments to the end of the document.  <br /></td></tr>
<tr class="separator:afe57d0600c28bec8233bd5a2bfdf4279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd80fd0ac116a44f40e59d21684a8ee" id="r_afbd80fd0ac116a44f40e59d21684a8ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbd80fd0ac116a44f40e59d21684a8ee">combine_pdfs</a> ($pdflist, $outfilename)</td></tr>
<tr class="memdesc:afbd80fd0ac116a44f40e59d21684a8ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combine the given PDF files into a single PDF.  <br /></td></tr>
<tr class="separator:afbd80fd0ac116a44f40e59d21684a8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2742af5d08e7b5d1d49eefd821f418fc" id="r_a2742af5d08e7b5d1d49eefd821f418fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2742af5d08e7b5d1d49eefd821f418fc">copy_page</a> ()</td></tr>
<tr class="memdesc:a2742af5d08e7b5d1d49eefd821f418fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the next page from the source file and set it as the current page.  <br /></td></tr>
<tr class="separator:a2742af5d08e7b5d1d49eefd821f418fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e36d142e2a9cae126b5dd2137c74abd" id="r_a9e36d142e2a9cae126b5dd2137c74abd"><td class="memItemLeft" align="right" valign="top"><a id="a9e36d142e2a9cae126b5dd2137c74abd" name="a9e36d142e2a9cae126b5dd2137c74abd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>copy_remaining_pages</b> ()</td></tr>
<tr class="memdesc:a9e36d142e2a9cae126b5dd2137c74abd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy all the remaining pages in the file. <br /></td></tr>
<tr class="separator:a9e36d142e2a9cae126b5dd2137c74abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db64cf14b0e88976811ab8d83aacfe0" id="r_a9db64cf14b0e88976811ab8d83aacfe0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9db64cf14b0e88976811ab8d83aacfe0">current_page</a> ()</td></tr>
<tr class="memdesc:a9db64cf14b0e88976811ab8d83aacfe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of the current page in the PDF being processed.  <br /></td></tr>
<tr class="separator:a9db64cf14b0e88976811ab8d83aacfe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ba0443bd3ba98b599457cd8dc4aa6c" id="r_a44ba0443bd3ba98b599457cd8dc4aa6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44ba0443bd3ba98b599457cd8dc4aa6c">get_image</a> ($pageno)</td></tr>
<tr class="memdesc:a44ba0443bd3ba98b599457cd8dc4aa6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate an image of the specified page in the PDF.  <br /></td></tr>
<tr class="separator:a44ba0443bd3ba98b599457cd8dc4aa6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f5b68fd290f6ed8432f132429dcc6c" id="r_a56f5b68fd290f6ed8432f132429dcc6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56f5b68fd290f6ed8432f132429dcc6c">get_images</a> ()</td></tr>
<tr class="memdesc:a56f5b68fd290f6ed8432f132429dcc6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate images from the PDF.  <br /></td></tr>
<tr class="separator:a56f5b68fd290f6ed8432f132429dcc6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d314794928f45cc161d554be2bb8874" id="r_a2d314794928f45cc161d554be2bb8874"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d314794928f45cc161d554be2bb8874">load_pdf</a> ($filename)</td></tr>
<tr class="memdesc:a2d314794928f45cc161d554be2bb8874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the specified PDF and set the initial output configuration Used when processing comments and outputting a new PDF.  <br /></td></tr>
<tr class="separator:a2d314794928f45cc161d554be2bb8874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c8722c3072d890bc9b2ed99f024b9f5" id="r_a0c8722c3072d890bc9b2ed99f024b9f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c8722c3072d890bc9b2ed99f024b9f5">page_count</a> ()</td></tr>
<tr class="memdesc:a0c8722c3072d890bc9b2ed99f024b9f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of pages in the PDF being processed.  <br /></td></tr>
<tr class="separator:a0c8722c3072d890bc9b2ed99f024b9f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0e11b965c35b147f030effcdc2c4af" id="r_aba0e11b965c35b147f030effcdc2c4af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba0e11b965c35b147f030effcdc2c4af">save_pdf</a> ($filename)</td></tr>
<tr class="memdesc:aba0e11b965c35b147f030effcdc2c4af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the completed PDF to the given file.  <br /></td></tr>
<tr class="separator:aba0e11b965c35b147f030effcdc2c4af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae437243b59c453708e28e23208828aea" id="r_ae437243b59c453708e28e23208828aea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae437243b59c453708e28e23208828aea">set_export_font_name</a> ($fontname)</td></tr>
<tr class="memdesc:ae437243b59c453708e28e23208828aea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set font name.  <br /></td></tr>
<tr class="separator:ae437243b59c453708e28e23208828aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4480d3292664f3192ec39e5f92bb5559" id="r_a4480d3292664f3192ec39e5f92bb5559"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4480d3292664f3192ec39e5f92bb5559">set_image_folder</a> ($folder)</td></tr>
<tr class="memdesc:a4480d3292664f3192ec39e5f92bb5559"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the path to the folder in which to generate page image files.  <br /></td></tr>
<tr class="separator:a4480d3292664f3192ec39e5f92bb5559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f708f73d098dc7c11ce47b8671f2636" id="r_a4f708f73d098dc7c11ce47b8671f2636"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f708f73d098dc7c11ce47b8671f2636">set_pdf</a> ($filename, $pagecount=0)</td></tr>
<tr class="memdesc:a4f708f73d098dc7c11ce47b8671f2636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the name of the PDF to process, but only loads the file if the pagecount is zero (in order to count the number of pages) Used when generating page images (but not a new PDF)  <br /></td></tr>
<tr class="separator:a4f708f73d098dc7c11ce47b8671f2636"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab2a9aee6dbd26117832ae66090e0e2ae" id="r_ab2a9aee6dbd26117832ae66090e0e2ae"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2a9aee6dbd26117832ae66090e0e2ae">ensure_pdf_compatible</a> (\<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a> $file)</td></tr>
<tr class="memdesc:ab2a9aee6dbd26117832ae66090e0e2ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if PDF is version 1.4 (or below); if not: use ghostscript to convert it.  <br /></td></tr>
<tr class="separator:ab2a9aee6dbd26117832ae66090e0e2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c6a86ba601d58d786243f8e9dd13b1" id="r_ad2c6a86ba601d58d786243f8e9dd13b1"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2c6a86ba601d58d786243f8e9dd13b1">ensure_pdf_file_compatible</a> ($tempsrc)</td></tr>
<tr class="memdesc:ad2c6a86ba601d58d786243f8e9dd13b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flatten and convert file using ghostscript then load pdf.  <br /></td></tr>
<tr class="separator:ad2c6a86ba601d58d786243f8e9dd13b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22844824601d2c2f62bff971abb2060f" id="r_a22844824601d2c2f62bff971abb2060f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22844824601d2c2f62bff971abb2060f">get_error_image</a> ($errorimagefolder, $pageno)</td></tr>
<tr class="memdesc:a22844824601d2c2f62bff971abb2060f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate an localised error image for the given pagenumber.  <br /></td></tr>
<tr class="separator:a22844824601d2c2f62bff971abb2060f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e42b9c2a2bc6ab352b5752e280039a" id="r_a58e42b9c2a2bc6ab352b5752e280039a"><td class="memItemLeft" align="right" valign="top"><a id="a58e42b9c2a2bc6ab352b5752e280039a" name="a58e42b9c2a2bc6ab352b5752e280039a"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>send_test_image</b> ()</td></tr>
<tr class="memdesc:a58e42b9c2a2bc6ab352b5752e280039a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the test image has been generated correctly - send it direct to the browser. <br /></td></tr>
<tr class="separator:a58e42b9c2a2bc6ab352b5752e280039a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade00a4ac500865a68c6c3a689188ec88" id="r_ade00a4ac500865a68c6c3a689188ec88"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade00a4ac500865a68c6c3a689188ec88">test_gs_path</a> ($generateimage=true)</td></tr>
<tr class="memdesc:ade00a4ac500865a68c6c3a689188ec88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test that the configured path to ghostscript is correct and working.  <br /></td></tr>
<tr class="separator:ade00a4ac500865a68c6c3a689188ec88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a08fa45f6f1c419a6eaa9607dec493629" id="r_a08fa45f6f1c419a6eaa9607dec493629"><td class="memItemLeft" align="right" valign="top"><a id="a08fa45f6f1c419a6eaa9607dec493629" name="a08fa45f6f1c419a6eaa9607dec493629"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>BLANK_PDF</b> = '/mod/<a class="el" href="../../db/d8f/classassign.html">assign</a>/feedback/editpdf/fixtures/blank.pdf'</td></tr>
<tr class="memdesc:a08fa45f6f1c419a6eaa9607dec493629"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blank PDF file used during error. <br /></td></tr>
<tr class="separator:a08fa45f6f1c419a6eaa9607dec493629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acddc139cff881e8db29201e6e3476a0b" id="r_acddc139cff881e8db29201e6e3476a0b"><td class="memItemLeft" align="right" valign="top"><a id="acddc139cff881e8db29201e6e3476a0b" name="acddc139cff881e8db29201e6e3476a0b"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>GSPATH_DOESNOTEXIST</b> = 'doesnotexist'</td></tr>
<tr class="memdesc:acddc139cff881e8db29201e6e3476a0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does not exist. <br /></td></tr>
<tr class="separator:acddc139cff881e8db29201e6e3476a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99dbff7aa33b54d37138cb366f0d0b1f" id="r_a99dbff7aa33b54d37138cb366f0d0b1f"><td class="memItemLeft" align="right" valign="top"><a id="a99dbff7aa33b54d37138cb366f0d0b1f" name="a99dbff7aa33b54d37138cb366f0d0b1f"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>GSPATH_EMPTY</b> = 'empty'</td></tr>
<tr class="memdesc:a99dbff7aa33b54d37138cb366f0d0b1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Not set. <br /></td></tr>
<tr class="separator:a99dbff7aa33b54d37138cb366f0d0b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa2b04e02f37bd541936c73551cb8ea6" id="r_aaa2b04e02f37bd541936c73551cb8ea6"><td class="memItemLeft" align="right" valign="top"><a id="aaa2b04e02f37bd541936c73551cb8ea6" name="aaa2b04e02f37bd541936c73551cb8ea6"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>GSPATH_ERROR</b> = '<a class="el" href="../../d0/de1/group__core.html#ga43b8d30b879d4f09ceb059b02af2bc02">error</a>'</td></tr>
<tr class="memdesc:aaa2b04e02f37bd541936c73551cb8ea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Any other error. <br /></td></tr>
<tr class="separator:aaa2b04e02f37bd541936c73551cb8ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d12822ba15f465312ef033216de24cb" id="r_a0d12822ba15f465312ef033216de24cb"><td class="memItemLeft" align="right" valign="top"><a id="a0d12822ba15f465312ef033216de24cb" name="a0d12822ba15f465312ef033216de24cb"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>GSPATH_ISDIR</b> = 'isdir'</td></tr>
<tr class="memdesc:a0d12822ba15f465312ef033216de24cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is a dir. <br /></td></tr>
<tr class="separator:a0d12822ba15f465312ef033216de24cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9542761e2b775fd1df372fd389ce8d7a" id="r_a9542761e2b775fd1df372fd389ce8d7a"><td class="memItemLeft" align="right" valign="top"><a id="a9542761e2b775fd1df372fd389ce8d7a" name="a9542761e2b775fd1df372fd389ce8d7a"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>GSPATH_NOTESTFILE</b> = 'notestfile'</td></tr>
<tr class="memdesc:a9542761e2b775fd1df372fd389ce8d7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test file missing. <br /></td></tr>
<tr class="separator:a9542761e2b775fd1df372fd389ce8d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b265238246e10fa4107cffe0c98133" id="r_ab7b265238246e10fa4107cffe0c98133"><td class="memItemLeft" align="right" valign="top"><a id="ab7b265238246e10fa4107cffe0c98133" name="ab7b265238246e10fa4107cffe0c98133"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>GSPATH_NOTEXECUTABLE</b> = 'notexecutable'</td></tr>
<tr class="memdesc:ab7b265238246e10fa4107cffe0c98133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Not executable. <br /></td></tr>
<tr class="separator:ab7b265238246e10fa4107cffe0c98133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ffbadd9381d2edeace328d09ff73210" id="r_a7ffbadd9381d2edeace328d09ff73210"><td class="memItemLeft" align="right" valign="top"><a id="a7ffbadd9381d2edeace328d09ff73210" name="a7ffbadd9381d2edeace328d09ff73210"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>GSPATH_OK</b> = 'ok'</td></tr>
<tr class="memdesc:a7ffbadd9381d2edeace328d09ff73210"><td class="mdescLeft">&#160;</td><td class="mdescRight">No errors. <br /></td></tr>
<tr class="separator:a7ffbadd9381d2edeace328d09ff73210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819705885588cc9437f18f0c0fbaaa8a" id="r_a819705885588cc9437f18f0c0fbaaa8a"><td class="memItemLeft" align="right" valign="top"><a id="a819705885588cc9437f18f0c0fbaaa8a" name="a819705885588cc9437f18f0c0fbaaa8a"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>IMAGE_PAGE</b> = 'image_page'</td></tr>
<tr class="memdesc:a819705885588cc9437f18f0c0fbaaa8a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../db/d2f/class_page.html" title="Class representing a page of a PDF document.">Page</a> image file name prefix. <br /></td></tr>
<tr class="separator:a819705885588cc9437f18f0c0fbaaa8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a690ad0dc7a6a81372d3fc98246a829" id="r_a8a690ad0dc7a6a81372d3fc98246a829"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a690ad0dc7a6a81372d3fc98246a829">MIN_ANNOTATION_HEIGHT</a> = 5</td></tr>
<tr class="memdesc:a8a690ad0dc7a6a81372d3fc98246a829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Min.  <br /></td></tr>
<tr class="separator:a8a690ad0dc7a6a81372d3fc98246a829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a483cf024ae4a82503de525ace0d2ddb5" id="r_a483cf024ae4a82503de525ace0d2ddb5"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a483cf024ae4a82503de525ace0d2ddb5">MIN_ANNOTATION_WIDTH</a> = 5</td></tr>
<tr class="memdesc:a483cf024ae4a82503de525ace0d2ddb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Min.  <br /></td></tr>
<tr class="separator:a483cf024ae4a82503de525ace0d2ddb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4a28f2e893947a5329122547055ef967" id="r_a4a28f2e893947a5329122547055ef967"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a28f2e893947a5329122547055ef967">create_page_from_source</a> ($pageno)</td></tr>
<tr class="memdesc:a4a28f2e893947a5329122547055ef967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a page from a source PDF.  <br /></td></tr>
<tr class="separator:a4a28f2e893947a5329122547055ef967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701be5cc35003ef148da9bc004bd7711" id="r_a701be5cc35003ef148da9bc004bd7711"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a701be5cc35003ef148da9bc004bd7711">precheck_generate_image</a> ()</td></tr>
<tr class="memdesc:a701be5cc35003ef148da9bc004bd7711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make sure the file name and image folder are ready before generate image.  <br /></td></tr>
<tr class="separator:a701be5cc35003ef148da9bc004bd7711"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:abb50d0e26c8737d6e4fc2aaf35d503d8" id="r_abb50d0e26c8737d6e4fc2aaf35d503d8"><td class="memItemLeft" align="right" valign="top"><a id="abb50d0e26c8737d6e4fc2aaf35d503d8" name="abb50d0e26c8737d6e4fc2aaf35d503d8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$currentpage</b> = 0</td></tr>
<tr class="memdesc:abb50d0e26c8737d6e4fc2aaf35d503d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of the current page in the PDF being processed <br /></td></tr>
<tr class="separator:abb50d0e26c8737d6e4fc2aaf35d503d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7df0036e9fa37b99b6dbefe648d5557e" id="r_a7df0036e9fa37b99b6dbefe648d5557e"><td class="memItemLeft" align="right" valign="top"><a id="a7df0036e9fa37b99b6dbefe648d5557e" name="a7df0036e9fa37b99b6dbefe648d5557e"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$filename</b> = null</td></tr>
<tr class="memdesc:a7df0036e9fa37b99b6dbefe648d5557e"><td class="mdescLeft">&#160;</td><td class="mdescRight">the path to the PDF currently being processed <br /></td></tr>
<tr class="separator:a7df0036e9fa37b99b6dbefe648d5557e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da329f690a650734932e4dd92fa1d36" id="r_a9da329f690a650734932e4dd92fa1d36"><td class="memItemLeft" align="right" valign="top"><a id="a9da329f690a650734932e4dd92fa1d36" name="a9da329f690a650734932e4dd92fa1d36"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$fontname</b> = null</td></tr>
<tr class="memdesc:a9da329f690a650734932e4dd92fa1d36"><td class="mdescLeft">&#160;</td><td class="mdescRight">the fontname used when the PDF being processed <br /></td></tr>
<tr class="separator:a9da329f690a650734932e4dd92fa1d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6194614d569433bd2c8989cf9cf4401c" id="r_a6194614d569433bd2c8989cf9cf4401c"><td class="memItemLeft" align="right" valign="top"><a id="a6194614d569433bd2c8989cf9cf4401c" name="a6194614d569433bd2c8989cf9cf4401c"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$imagefolder</b> = null</td></tr>
<tr class="memdesc:a6194614d569433bd2c8989cf9cf4401c"><td class="mdescLeft">&#160;</td><td class="mdescRight">the path in which to store generated page images <br /></td></tr>
<tr class="separator:a6194614d569433bd2c8989cf9cf4401c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae405893a35f2f93d17b6f02ce47a7725" id="r_ae405893a35f2f93d17b6f02ce47a7725"><td class="memItemLeft" align="right" valign="top"><a id="ae405893a35f2f93d17b6f02ce47a7725" name="ae405893a35f2f93d17b6f02ce47a7725"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>$pagecount</b> = 0</td></tr>
<tr class="memdesc:ae405893a35f2f93d17b6f02ce47a7725"><td class="mdescLeft">&#160;</td><td class="mdescRight">the total number of pages in the PDF being processed <br /></td></tr>
<tr class="separator:ae405893a35f2f93d17b6f02ce47a7725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a05d09a73c55408f82319177ad419f" id="r_a75a05d09a73c55408f82319177ad419f"><td class="memItemLeft" align="right" valign="top"><a id="a75a05d09a73c55408f82319177ad419f" name="a75a05d09a73c55408f82319177ad419f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>$scale</b> = 0.0</td></tr>
<tr class="memdesc:a75a05d09a73c55408f82319177ad419f"><td class="mdescLeft">&#160;</td><td class="mdescRight">used to scale the pixel position of annotations (in the database) to the position in the final PDF <br /></td></tr>
<tr class="separator:a75a05d09a73c55408f82319177ad419f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Library code for manipulating PDFs. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2012 Davo Smith </dd></dl>
<dl class="section user"><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a356b64bc9f3d9bb97dae17775366ccab" name="a356b64bc9f3d9bb97dae17775366ccab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a356b64bc9f3d9bb97dae17775366ccab">&#9670;&#160;</a></span>add_annotation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::add_annotation </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$sy</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$ex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$ey</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$colour</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$path</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$imagefolder</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an annotation to the current page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$sx</td><td>starting x-coordinate (in pixels) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$sy</td><td>starting y-coordinate (in pixels) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$ex</td><td>ending x-coordinate (in pixels) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$ey</td><td>ending y-coordinate (in pixels) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$colour</td><td>optional the colour of the annotation (red, yellow, green, blue, white, black) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>optional the type of annotation (line, oval, rectangle, highlight, pen, stamp) </td></tr>
    <tr><td class="paramtype">int[]&#160;|&#160;string</td><td class="paramname">$path</td><td>optional for 'pen' annotations this is an array of x and y coordinates for the line, for 'stamp' annotations it is the name of the stamp file (without the path) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$imagefolder</td><td>- Folder containing stamp images. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful (always) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a178199cf7b117998db29e1993ef8a789" name="a178199cf7b117998db29e1993ef8a789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a178199cf7b117998db29e1993ef8a789">&#9670;&#160;</a></span>add_comment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::add_comment </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$text</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$x</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$y</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$width</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$colour</em><span class="paramdefsep"> = </span><span class="paramdefval">'yellow'</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a comment to the current page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>the text of the comment </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$x</td><td>the x-coordinate of the comment (in pixels) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$y</td><td>the y-coordinate of the comment (in pixels) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$width</td><td>the width of the comment (in pixels) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$colour</td><td>optional the background colour of the comment (red, yellow, green, blue, white, clear) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful (always) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7dd66f6cb06556ad9a9f8f4eab901f63" name="a7dd66f6cb06556ad9a9f8f4eab901f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dd66f6cb06556ad9a9f8f4eab901f63">&#9670;&#160;</a></span>add_comment_marker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::add_comment_marker </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$pageno</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$index</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$x</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$y</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$link</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$colour</em><span class="paramdefsep"> = </span><span class="paramdefval">'yellow'</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a comment marker to the specified page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$pageno</td><td>The page number to add markers to (starting at 0). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$index</td><td>The comment index. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$x</td><td>The x-coordinate of the marker (in pixels). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$y</td><td>The y-coordinate of the marker (in pixels). </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$link</td><td>The link identifier pointing to the full comment text. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$colour</td><td>The fill colour of the marker (red, yellow, green, blue, white, clear). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>Success status. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac5e4ee0a6d0b34ed306f416d8641f6dc" name="ac5e4ee0a6d0b34ed306f416d8641f6dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5e4ee0a6d0b34ed306f416d8641f6dc">&#9670;&#160;</a></span>add_image_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::add_image_page </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$imagestoredfile</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function add an image file to PDF page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td><td class="paramname">$imagestoredfile</td><td>Image file to be added </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afe57d0600c28bec8233bd5a2bfdf4279" name="afe57d0600c28bec8233bd5a2bfdf4279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe57d0600c28bec8233bd5a2bfdf4279">&#9670;&#160;</a></span>append_comments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::append_comments </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$allcomments</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Append all comments to the end of the document. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$allcomments</td><td>All comments, indexed by page number (starting at 0). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array|bool</td><td>An array of links to comments, or false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afbd80fd0ac116a44f40e59d21684a8ee" name="afbd80fd0ac116a44f40e59d21684a8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd80fd0ac116a44f40e59d21684a8ee">&#9670;&#160;</a></span>combine_pdfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::combine_pdfs </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$pdflist</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$outfilename</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Combine the given PDF files into a single PDF. </p>
<p>Optionally add a coversheet and coversheet fields. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string[]</td><td class="paramname">$pdflist</td><td>the filenames of the files to combine </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$outfilename</td><td>the filename to write to </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number of pages in the combined PDF </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2742af5d08e7b5d1d49eefd821f418fc" name="a2742af5d08e7b5d1d49eefd821f418fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2742af5d08e7b5d1d49eefd821f418fc">&#9670;&#160;</a></span>copy_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::copy_page </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the next page from the source file and set it as the current page. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if successful </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a28f2e893947a5329122547055ef967" name="a4a28f2e893947a5329122547055ef967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a28f2e893947a5329122547055ef967">&#9670;&#160;</a></span>create_page_from_source()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::create_page_from_source </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$pageno</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a page from a source PDF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$pageno</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9db64cf14b0e88976811ab8d83aacfe0" name="a9db64cf14b0e88976811ab8d83aacfe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9db64cf14b0e88976811ab8d83aacfe0">&#9670;&#160;</a></span>current_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::current_page </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of the current page in the PDF being processed. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab2a9aee6dbd26117832ae66090e0e2ae" name="ab2a9aee6dbd26117832ae66090e0e2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2a9aee6dbd26117832ae66090e0e2ae">&#9670;&#160;</a></span>ensure_pdf_compatible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static assignfeedback_editpdf\pdf::ensure_pdf_compatible </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td>          <td class="paramname"><span class="paramname"><em>$file</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check to see if PDF is version 1.4 (or below); if not: use ghostscript to convert it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d0/d00/classstored__file.html">stored_file</a></td><td class="paramname">$file</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>path to copy or converted pdf (false == fail) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad2c6a86ba601d58d786243f8e9dd13b1" name="ad2c6a86ba601d58d786243f8e9dd13b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c6a86ba601d58d786243f8e9dd13b1">&#9670;&#160;</a></span>ensure_pdf_file_compatible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static assignfeedback_editpdf\pdf::ensure_pdf_file_compatible </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tempsrc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flatten and convert file using ghostscript then load pdf. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tempsrc</td><td>The path to the file on disk. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>path to copy or converted pdf (false == fail) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a22844824601d2c2f62bff971abb2060f" name="a22844824601d2c2f62bff971abb2060f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22844824601d2c2f62bff971abb2060f">&#9670;&#160;</a></span>get_error_image()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static assignfeedback_editpdf\pdf::get_error_image </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$errorimagefolder</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$pageno</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate an localised error image for the given pagenumber. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$errorimagefolder</td><td>path of the folder where error image needs to be created. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$pageno</td><td>page number for which error image needs to be created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td><a class="el" href="../../d1/d31/class_file.html" title="Caches data to the filesystem.">File</a> name </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a44ba0443bd3ba98b599457cd8dc4aa6c" name="a44ba0443bd3ba98b599457cd8dc4aa6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ba0443bd3ba98b599457cd8dc4aa6c">&#9670;&#160;</a></span>get_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::get_image </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$pageno</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate an image of the specified page in the PDF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$pageno</td><td>the page to generate the image of </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../d6/da8/classmoodle__exception.html" title="Base Moodle Exception class.">moodle_exception</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="../../da/d34/classcoding__exception.html" title="Exception indicating programming error, must be fixed by a programer.">coding_exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>the filename of the generated image </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a56f5b68fd290f6ed8432f132429dcc6c" name="a56f5b68fd290f6ed8432f132429dcc6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f5b68fd290f6ed8432f132429dcc6c">&#9670;&#160;</a></span>get_images()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::get_images </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate images from the PDF. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array of filename of the generated images </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2d314794928f45cc161d554be2bb8874" name="a2d314794928f45cc161d554be2bb8874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d314794928f45cc161d554be2bb8874">&#9670;&#160;</a></span>load_pdf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::load_pdf </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the specified PDF and set the initial output configuration Used when processing comments and outputting a new PDF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>the path to the PDF to load </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number of pages in the PDF </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c8722c3072d890bc9b2ed99f024b9f5" name="a0c8722c3072d890bc9b2ed99f024b9f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c8722c3072d890bc9b2ed99f024b9f5">&#9670;&#160;</a></span>page_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::page_count </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The total number of pages in the PDF being processed. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a701be5cc35003ef148da9bc004bd7711" name="a701be5cc35003ef148da9bc004bd7711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a701be5cc35003ef148da9bc004bd7711">&#9670;&#160;</a></span>precheck_generate_image()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::precheck_generate_image </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make sure the file name and image folder are ready before generate image. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba0e11b965c35b147f030effcdc2c4af" name="aba0e11b965c35b147f030effcdc2c4af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba0e11b965c35b147f030effcdc2c4af">&#9670;&#160;</a></span>save_pdf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::save_pdf </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the completed PDF to the given file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>the filename for the PDF (including the full path) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae437243b59c453708e28e23208828aea" name="ae437243b59c453708e28e23208828aea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae437243b59c453708e28e23208828aea">&#9670;&#160;</a></span>set_export_font_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::set_export_font_name </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fontname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set font name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fontname</td><td>Font name which is </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4480d3292664f3192ec39e5f92bb5559" name="a4480d3292664f3192ec39e5f92bb5559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4480d3292664f3192ec39e5f92bb5559">&#9670;&#160;</a></span>set_image_folder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::set_image_folder </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$folder</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the path to the folder in which to generate page image files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$folder</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f708f73d098dc7c11ce47b8671f2636" name="a4f708f73d098dc7c11ce47b8671f2636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f708f73d098dc7c11ce47b8671f2636">&#9670;&#160;</a></span>set_pdf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">assignfeedback_editpdf\pdf::set_pdf </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$filename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$pagecount</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the name of the PDF to process, but only loads the file if the pagecount is zero (in order to count the number of pages) Used when generating page images (but not a new PDF) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>the path to the PDF to process </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$pagecount</td><td>optional the number of pages in the PDF, if known </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number of pages in the PDF </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ade00a4ac500865a68c6c3a689188ec88" name="ade00a4ac500865a68c6c3a689188ec88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade00a4ac500865a68c6c3a689188ec88">&#9670;&#160;</a></span>test_gs_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static assignfeedback_editpdf\pdf::test_gs_path </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$generateimage</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test that the configured path to ghostscript is correct and working. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$generateimage</td><td>- If true - a test image will be generated to verify the install. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8a690ad0dc7a6a81372d3fc98246a829" name="a8a690ad0dc7a6a81372d3fc98246a829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a690ad0dc7a6a81372d3fc98246a829">&#9670;&#160;</a></span>MIN_ANNOTATION_HEIGHT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const assignfeedback_editpdf\pdf::MIN_ANNOTATION_HEIGHT = 5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Min. </p>
<p>height an annotation should have </p>

</div>
</div>
<a id="a483cf024ae4a82503de525ace0d2ddb5" name="a483cf024ae4a82503de525ace0d2ddb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a483cf024ae4a82503de525ace0d2ddb5">&#9670;&#160;</a></span>MIN_ANNOTATION_WIDTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const assignfeedback_editpdf\pdf::MIN_ANNOTATION_WIDTH = 5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Min. </p>
<p>width an annotation should have </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mod/assign/feedback/editpdf/classes/<b>pdf.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 31 2024 02:29:50 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
