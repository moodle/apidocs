<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: lbuchs\WebAuthn\WebAuthn Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../Moodle-Logo-ReversedWhite_RGB.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;4.3</span>
   </div>
   <div id="projectbrief">Moodle 4.3+ (Build: 20231116) (72d7395c964)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>lbuchs</b></li><li class="navelem"><a class="el" href="../../d4/d68/namespacelbuchs_1_1_web_authn.html">WebAuthn</a></li><li class="navelem"><a class="el" href="../../d7/d09/classlbuchs_1_1_web_authn_1_1_web_authn.html">WebAuthn</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d7/d7a/classlbuchs_1_1_web_authn_1_1_web_authn-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">lbuchs\WebAuthn\WebAuthn Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a771c3ba528c25c581d4fb4fd9f990c0a" id="r_a771c3ba528c25c581d4fb4fd9f990c0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d09/classlbuchs_1_1_web_authn_1_1_web_authn.html#a771c3ba528c25c581d4fb4fd9f990c0a">__construct</a> ($rpName, $rpId, $allowedFormats=null, $useBase64UrlEncoding=false)</td></tr>
<tr class="memdesc:a771c3ba528c25c581d4fb4fd9f990c0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a new WebAuthn server.  <br /></td></tr>
<tr class="separator:a771c3ba528c25c581d4fb4fd9f990c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac440540e58823c2212c0e82054cbaef2" id="r_ac440540e58823c2212c0e82054cbaef2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d09/classlbuchs_1_1_web_authn_1_1_web_authn.html#ac440540e58823c2212c0e82054cbaef2">addRootCertificates</a> ($path, $certFileExtensions=null)</td></tr>
<tr class="memdesc:ac440540e58823c2212c0e82054cbaef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a root certificate to verify new registrations  <br /></td></tr>
<tr class="separator:ac440540e58823c2212c0e82054cbaef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55fa155d81d8cc30099f9f225ec68b27" id="r_a55fa155d81d8cc30099f9f225ec68b27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d09/classlbuchs_1_1_web_authn_1_1_web_authn.html#a55fa155d81d8cc30099f9f225ec68b27">getChallenge</a> ()</td></tr>
<tr class="memdesc:a55fa155d81d8cc30099f9f225ec68b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the generated challenge to save for later validation.  <br /></td></tr>
<tr class="separator:a55fa155d81d8cc30099f9f225ec68b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bfdde7972fd76dd733565d980a678d1" id="r_a5bfdde7972fd76dd733565d980a678d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d09/classlbuchs_1_1_web_authn_1_1_web_authn.html#a5bfdde7972fd76dd733565d980a678d1">getCreateArgs</a> ($userId, $userName, $userDisplayName, $timeout=20, $requireResidentKey=false, $requireUserVerification=false, $crossPlatformAttachment=null, $excludeCredentialIds=array())</td></tr>
<tr class="memdesc:a5bfdde7972fd76dd733565d980a678d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">generates the object for a key registration provide this data to navigator.credentials.create  <br /></td></tr>
<tr class="separator:a5bfdde7972fd76dd733565d980a678d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9c9170ea16e5ebaf6c7fdc6d5b2ce7e" id="r_aa9c9170ea16e5ebaf6c7fdc6d5b2ce7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d09/classlbuchs_1_1_web_authn_1_1_web_authn.html#aa9c9170ea16e5ebaf6c7fdc6d5b2ce7e">getGetArgs</a> ($credentialIds=array(), $timeout=20, $allowUsb=true, $allowNfc=true, $allowBle=true, $allowHybrid=true, $allowInternal=true, $requireUserVerification=false)</td></tr>
<tr class="memdesc:aa9c9170ea16e5ebaf6c7fdc6d5b2ce7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">generates the object for key validation Provide this data to navigator.credentials.get  <br /></td></tr>
<tr class="separator:aa9c9170ea16e5ebaf6c7fdc6d5b2ce7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9893e596f167d2d85e9c4bc2a84f68" id="r_aba9893e596f167d2d85e9c4bc2a84f68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d09/classlbuchs_1_1_web_authn_1_1_web_authn.html#aba9893e596f167d2d85e9c4bc2a84f68">getSignatureCounter</a> ()</td></tr>
<tr class="memdesc:aba9893e596f167d2d85e9c4bc2a84f68"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the new signature counter value.  <br /></td></tr>
<tr class="separator:aba9893e596f167d2d85e9c4bc2a84f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ea7215c5660c1c989a3d3a570abb83" id="r_ae4ea7215c5660c1c989a3d3a570abb83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d09/classlbuchs_1_1_web_authn_1_1_web_authn.html#ae4ea7215c5660c1c989a3d3a570abb83">processCreate</a> ($clientDataJSON, $attestationObject, $challenge, $requireUserVerification=false, $requireUserPresent=true, $failIfRootMismatch=true, $requireCtsProfileMatch=true)</td></tr>
<tr class="memdesc:ae4ea7215c5660c1c989a3d3a570abb83"><td class="mdescLeft">&#160;</td><td class="mdescRight">process a create request and returns data to save for future logins  <br /></td></tr>
<tr class="separator:ae4ea7215c5660c1c989a3d3a570abb83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a723a335f9cc64e5e5b10d7d5bb3d1111" id="r_a723a335f9cc64e5e5b10d7d5bb3d1111"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d09/classlbuchs_1_1_web_authn_1_1_web_authn.html#a723a335f9cc64e5e5b10d7d5bb3d1111">processGet</a> ($clientDataJSON, $authenticatorData, $signature, $credentialPublicKey, $challenge, $prevSignatureCnt=null, $requireUserVerification=false, $requireUserPresent=true)</td></tr>
<tr class="memdesc:a723a335f9cc64e5e5b10d7d5bb3d1111"><td class="mdescLeft">&#160;</td><td class="mdescRight">process a get request  <br /></td></tr>
<tr class="separator:a723a335f9cc64e5e5b10d7d5bb3d1111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8915787265bb4882373a965d6450c24" id="r_aa8915787265bb4882373a965d6450c24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d09/classlbuchs_1_1_web_authn_1_1_web_authn.html#aa8915787265bb4882373a965d6450c24">queryFidoMetaDataService</a> ($certFolder, $deleteCerts=true)</td></tr>
<tr class="memdesc:aa8915787265bb4882373a965d6450c24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downloads root certificates from FIDO Alliance Metadata Service (MDS) to a specific folder <a href="https://fidoalliance.org/metadata/">https://fidoalliance.org/metadata/</a>.  <br /></td></tr>
<tr class="separator:aa8915787265bb4882373a965d6450c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a771c3ba528c25c581d4fb4fd9f990c0a" name="a771c3ba528c25c581d4fb4fd9f990c0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a771c3ba528c25c581d4fb4fd9f990c0a">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbuchs\WebAuthn\WebAuthn::__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rpName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rpId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$allowedFormats</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$useBase64UrlEncoding</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a new WebAuthn server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$rpName</td><td>the relying party name </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$rpId</td><td>the relying party ID = the domain name </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$useBase64UrlEncoding</td><td>true to use base64 url encoding for binary data in json objects. Default is a RFC 1342-Like serialized string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">WebAuthnException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac440540e58823c2212c0e82054cbaef2" name="ac440540e58823c2212c0e82054cbaef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac440540e58823c2212c0e82054cbaef2">&#9670;&#160;</a></span>addRootCertificates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbuchs\WebAuthn\WebAuthn::addRootCertificates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$certFileExtensions</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>add a root certificate to verify new registrations </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>file path of / directory with root certificates </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;null</td><td class="paramname">$certFileExtensions</td><td>if adding a direction, all files with provided extension are added. default: pem, crt, cer, der </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a55fa155d81d8cc30099f9f225ec68b27" name="a55fa155d81d8cc30099f9f225ec68b27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55fa155d81d8cc30099f9f225ec68b27">&#9670;&#160;</a></span>getChallenge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbuchs\WebAuthn\WebAuthn::getChallenge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the generated challenge to save for later validation. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ByteBuffer</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5bfdde7972fd76dd733565d980a678d1" name="a5bfdde7972fd76dd733565d980a678d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bfdde7972fd76dd733565d980a678d1">&#9670;&#160;</a></span>getCreateArgs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbuchs\WebAuthn\WebAuthn::getCreateArgs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userDisplayName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timeout</em> = <code>20</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$requireResidentKey</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$requireUserVerification</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$crossPlatformAttachment</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$excludeCredentialIds</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>generates the object for a key registration provide this data to navigator.credentials.create </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$userId</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$userName</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$userDisplayName</td><td></td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timeout</td><td>timeout in seconds </td></tr>
    <tr><td class="paramtype">bool&#160;|&#160;string</td><td class="paramname">$requireResidentKey</td><td>'required', if the key should be stored by the authentication device Valid values: true = required false = preferred string 'required' 'preferred' 'discouraged' </td></tr>
    <tr><td class="paramtype">bool&#160;|&#160;string</td><td class="paramname">$requireUserVerification</td><td>indicates that you require user verification and will fail the operation if the response does not have the UV flag set. Valid values: true = required false = preferred string 'required' 'preferred' 'discouraged' </td></tr>
    <tr><td class="paramtype">bool&#160;|&#160;null</td><td class="paramname">$crossPlatformAttachment</td><td>true for cross-platform devices (eg. fido usb), false for platform devices (eg. windows hello, android safetynet), null for both </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$excludeCredentialIds</td><td>a array of ids, which are already registered, to prevent re-registration </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa9c9170ea16e5ebaf6c7fdc6d5b2ce7e" name="aa9c9170ea16e5ebaf6c7fdc6d5b2ce7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c9170ea16e5ebaf6c7fdc6d5b2ce7e">&#9670;&#160;</a></span>getGetArgs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbuchs\WebAuthn\WebAuthn::getGetArgs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$credentialIds</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$timeout</em> = <code>20</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$allowUsb</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$allowNfc</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$allowBle</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$allowHybrid</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$allowInternal</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$requireUserVerification</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>generates the object for key validation Provide this data to navigator.credentials.get </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$credentialIds</td><td>binary </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$timeout</td><td>timeout in seconds </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$allowUsb</td><td>allow removable USB </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$allowNfc</td><td>allow Near Field Communication (NFC) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$allowBle</td><td>allow Bluetooth </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$allowHybrid</td><td>allow a combination of (often separate) data-transport and proximity mechanisms. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$allowInternal</td><td>allow client device-specific transport. These authenticators are not removable from the client device. </td></tr>
    <tr><td class="paramtype">bool&#160;|&#160;string</td><td class="paramname">$requireUserVerification</td><td>indicates that you require user verification and will fail the operation if the response does not have the UV flag set. Valid values: true = required false = preferred string 'required' 'preferred' 'discouraged' </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba9893e596f167d2d85e9c4bc2a84f68" name="aba9893e596f167d2d85e9c4bc2a84f68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba9893e596f167d2d85e9c4bc2a84f68">&#9670;&#160;</a></span>getSignatureCounter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbuchs\WebAuthn\WebAuthn::getSignatureCounter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the new signature counter value. </p>
<p>returns null if there is no counter </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">?int</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae4ea7215c5660c1c989a3d3a570abb83" name="ae4ea7215c5660c1c989a3d3a570abb83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4ea7215c5660c1c989a3d3a570abb83">&#9670;&#160;</a></span>processCreate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbuchs\WebAuthn\WebAuthn::processCreate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$clientDataJSON</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$attestationObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$challenge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$requireUserVerification</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$requireUserPresent</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$failIfRootMismatch</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$requireCtsProfileMatch</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>process a create request and returns data to save for future logins </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$clientDataJSON</td><td>binary from browser </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$attestationObject</td><td>binary from browser </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;ByteBuffer</td><td class="paramname">$challenge</td><td>binary used challange </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$requireUserVerification</td><td>true, if the device must verify user (e.g. by biometric data or pin) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$requireUserPresent</td><td>false, if the device must NOT check user presence (e.g. by pressing a button) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$failIfRootMismatch</td><td>false, if there should be no error thrown if root certificate doesn't match </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$requireCtsProfileMatch</td><td>false, if you don't want to check if the device is approved as a Google-certified Android device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">WebAuthnException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a723a335f9cc64e5e5b10d7d5bb3d1111" name="a723a335f9cc64e5e5b10d7d5bb3d1111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a723a335f9cc64e5e5b10d7d5bb3d1111">&#9670;&#160;</a></span>processGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbuchs\WebAuthn\WebAuthn::processGet </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$clientDataJSON</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$authenticatorData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$signature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$credentialPublicKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$challenge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$prevSignatureCnt</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$requireUserVerification</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$requireUserPresent</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>process a get request </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$clientDataJSON</td><td>binary from browser </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$authenticatorData</td><td>binary from browser </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$signature</td><td>binary from browser </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$credentialPublicKey</td><td>string PEM-formated public key from used credentialId </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;ByteBuffer</td><td class="paramname">$challenge</td><td>binary from used challange </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$prevSignatureCnt</td><td>signature count value of the last login </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$requireUserVerification</td><td>true, if the device must verify user (e.g. by biometric data or pin) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$requireUserPresent</td><td>true, if the device must check user presence (e.g. by pressing a button) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td>true if get is successful </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">WebAuthnException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa8915787265bb4882373a965d6450c24" name="aa8915787265bb4882373a965d6450c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8915787265bb4882373a965d6450c24">&#9670;&#160;</a></span>queryFidoMetaDataService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbuchs\WebAuthn\WebAuthn::queryFidoMetaDataService </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$certFolder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$deleteCerts</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Downloads root certificates from FIDO Alliance Metadata Service (MDS) to a specific folder <a href="https://fidoalliance.org/metadata/">https://fidoalliance.org/metadata/</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$certFolder</td><td>Folder path to save the certificates in PEM format. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$deleteCerts</td><td>delete certificates in the target folder before adding the new ones. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>number of cetificates </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">WebAuthnException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/webauthn/src/<b>WebAuthn.php</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Nov 19 2023 02:42:43 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
